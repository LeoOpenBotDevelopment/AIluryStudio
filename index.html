<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link id="faviconico" rel="icon" href="AIluryLogo.ico" type="image/x-icon">
    <meta name="description" content="Discover powerful tools for developers and creators at AIlury.com" />
    <meta property="og:title" content="AIlury Studio - Innovative Developer Tools" />
    <meta property="og:description" content="Discover powerful tools for developers and creators at AIlury.com." />
    <meta property="og:image" content="https://ailury.com/AIluryLogo.ico" />
    <meta property="og:url" content="https://ailury.com" />

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/AIluryAppLogo196x196.png">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <title>AIlury</title>
    <style>
        :root {
            --sibebar-width: 30vw;
            --ceefbrlb: 1px;
            --rest-width: 70vw;
            --editor-font-size: 1em;
            --background-color: #F2F2F7;
            --half-transparent-bg-color: rgba(242, 242, 247, 0.1);
            --white-color: #F2F2F7;
            --grey-color: #ccc;
            --lightgrey-color: #fff;
            --lightdarkgrey-color: #fff;
            --black-color: #000;
            --linenumber-color: #999999;
            --drakgrey-color: #F2F2F7;
            --selected-color: rgba(0, 122, 255, 0.2);
            --safariheader-color: #dcdcdc;
            --safariheaderbackground-color: #F2F2F7;
            --urlbarbackground-color: #fff;
            --urlbarcolor-color: #333;
            --browsercontainerbackground-color: #F2F2F7;
            --browserheaderborderbottom-color: #fff;
            --spencialbtnbackground-color: #fff;
            --spencialbtncolor-color: #000;
            --overlayborder-color: #F2F2F7;
            --overlaycolor-color: #333;
            --rectangleborder: #fff;
            --half-transparent-border-color: rgba(255, 255, 255, 0.2);
            --overlaybackground-color: rgba(0, 0, 0, 0.3);
            --contentcontainer-color: #F2F2F7;
            --checkmark-color: #28a745;
            --seccontainerbackground-color: #F2F2F7;
            --seccontainerlinebackground-color: rgba(200, 200, 200, 0.5);
            --navdotcolor-color: #F2F2F7;
            --seccontainerlinecolor-color: #F2F2F7;
            --switchcheckedbackground-color: #007aff;
            --caret-color: #007aff;
            --filepathinput-color: #007aff;
            --transparentshade-color: rgba(255, 255, 255, 0.2);
            --superselected-color: #28a745;
            --leftarrow-color: #28a745;
            --loadingbarbackground-color: rgba(0, 0, 0, 0.2);
            --loadingbarloadedbackground-color: #007aff;
            --fileloadingoverlaybackground-color: rgba(255, 255, 255, 0.5);
            --commandlistbackground-color: #F2F2F7;
            --commandlistcolor-color: #555;
            --codeeditoreditbtn-color: #000;
            --codeeditoreditbtnbackground-color: #F2F2F7;
            --browseriframebackgroundcolor-color: #F2F2F7;
            --rectanglecolorcolor-color: rgba(0, 0, 0, 0.5);
            --deviceborder-color: #333;
            --syntaxblock-color: #A222D4;
            --syntaxoperator-color: darkgrey;
            --syntaxbracket-color: grey;
            --syntaxsign-color: #000000;
            --syntaxstring-color: #377B23;
            --syntaxnumber-color: #64C466;
            --syntaxcomment-color: #6a737d;
            --syntaxvariable-color: #316CB1;
            --syntaxcommand-color: #b31d28;
            --syntaxkeyword-color: #0202F4;
            --syntaxhtmlcomment-color: #6a737d;
            --syntaxregex-color: deeppink;
            --syntaxhtmltagcontent-color: #000000;
            --griddot-color: #fff;
        }
        
        @media (prefers-color-scheme: dark) {
            :root {
                --background-color: #0d1117;
                --half-transparent-bg-color: rgba(13, 17, 23, 0.1);
                --white-color: #0d1117;
                --grey-color: #2E2E2E;
                --lightgrey-color: #161b22;
                --lightdarkgrey-color: #4f4f4f;
                --black-color: #fff;
                --linenumber-color: #555555;
                --drakgrey-color: #161b22;
                --selected-color: #0a8927;
                --caret-color: #28A745;
                --safariheader-color: #0c0c0c;
                --safariheaderbackground-color: #0E0F0E;
                --urlbarbackground-color: #161b22;
                --urlbarcolor-color: #fff;
                --browsercontainerbackground-color: #000;
                --browserheaderborderbottom-color: #161b22;
                --spencialbtnbackground-color: #161b22;
                --spencialbtncolor-color: #fff;
                --overlayborder-color: #161b22;
                --overlaycolor-color: #666;
                --rectangleborder: #161b22;
                --half-transparent-border-color: rgba(22, 27, 34, 0.2);
                --overlaybackground-color: rgba(0, 0, 0, 0.3);
                --contentcontainer-color: #0d1117;
                --checkmark-color: #28a745;
                --seccontainerbackground-color: #161b22;
                --seccontainerlinebackground-color: rgba(50, 50, 50, 0.5);
                --navdotcolor-color: #161b22;
                --seccontainerlinecolor-color: #666;
                --switchcheckedbackground-color: #0156CD;
                --filepathinput-color: #0156CD;
                --transparentshade-color: rgba(0, 0, 0, 0.2);
                --superselected-color: #28a745;
                --leftarrow-color: #28a745;
                --loadingbarbackground-color: rgba(0, 0, 0, 0.2);
                --loadingbarloadedbackground-color: #0156CD;
                --fileloadingoverlaybackground-color: rgba(0, 0, 0, 0.5);
                --commandlistbackground-color: #0d1117;
                --commandlistcolor-color: #A5A5A5;
                --codeeditoreditbtn-color: #fff;
                --codeeditoreditbtnbackground-color: #0d1117;
                --browseriframebackgroundcolor-color: #000;
                --rectanglecolorcolor-color: #363736;
                --deviceborder-color: #161b22;
                --syntaxblock-color: #C678DD;
                --syntaxoperator-color: #E06C75;
                --syntaxbracket-color: #ABB2BF;
                --syntaxsign-color: #ABB2BF;
                --syntaxstring-color: #98C379;
                --syntaxnumber-color: #D19A66;
                --syntaxcomment-color: #5C6370;
                --syntaxvariable-color: #61AFEF;
                --syntaxcommand-color: #E5C07B;
                --syntaxkeyword-color: #C678DD;
                --syntaxhtmlcomment-color: #5C6370;
                --syntaxregex-color: #E06C75;
                --syntaxhtmltagcontent-color: #fff;
                --griddot-color: rgba(170, 170, 170, 0.1);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            height: 100dvh;
            overflow: hidden;
            background-color: var(--background-color);
        }

        .container {
            height: 100dvh;
            width: 100vw;
            display: flex;
            scroll-snap-type: x mandatory;
            overflow-x: hidden;
            transition: transform 0.5s ease-in-out;
            transition: 0.5s;

        }

        .sidebarenabled .container{
            width: calc(100vw - var(--sibebar-width));
        }

        .section {
            min-width: 100vw;
            height: 100dvh;
            display: flex;
            flex-direction: column;
            background: transparent;
            transition: 0.5s;
        }

        .sidebarenabled .section{
            min-width: calc(100vw - var(--sibebar-width));
        }
        
        @keyframes easein {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
        
        @keyframes easeout {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        
        @keyframes swipein {
            0%{
                transform: translateY(-100dvh);
                opacity: 0;
            }
            100%{
                transform: translateY(0);
                opacity: 1;
            }
        }
        @keyframes swipeindown {
            0%{
                transform: translateY(-100%) translateX(-50%);
                opacity: 0;
            }
            100%{
                transform: translateY(0) translateX(-50%);
                opacity: 1;
            }
        }
        @keyframes swipeout {
            0%{
                transform: translateY(0);
                opacity: 1;
            }
            100%{
                transform: translateY(150dvh);
                opacity: 0;
            }
        }
        @keyframes swipeoutup {
            0%{
                transform: translateY(0) translateX(-50%);
                opacity: 1;
            }
            100%{
                transform: translateY(-100%) translateX(-50%);
                opacity: 0;
            }
        }
        @keyframes easein {
            0%{
                transform: scale(0.8);
                opacity: 0;
            }
            100%{
                transform: scale(1);
                opacity: 1;
            }
        }
        @keyframes easeout {
            0%{
                transform: scale(1);
                opacity: 1;
            }
            100%{
                transform: scale(0.8);
                opacity: 0;
            }
        }
        
        @keyframes popin {
            0%{
                transform: scale(0);
                opacity: 0;
            }
            40%{
                transform: scale(1.1);
                opacity: 0.2;
            }
            60%{
                transform: scale(0.9);
                opacity: 0.3;
            }
            100%{
                transform: scale(1);
                opacity: 1;
            }
        }
        @keyframes popout {
            0%{
                transform: scale(1);
                opacity: 1;
            }
            20%{
                transform: scale(1.1);
                opacity: 1;
            }
            100%{
                transform: scale(0);
                opacity: 0;
            }
        }
        
        @keyframes rollin {
            0%{
                transform: rotate(360deg) scale(0);
                opacity: 0;
            }
            100%{
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
        }
        @keyframes rollout {
            0%{
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
            100%{
                transform: rotate(360deg) scale(0);
                opacity: 0;
            }
        }
        
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100vw;
            display: flex;
            height: 50px;
            background-color: var(--background-color);
            border-radius: 10px 10px 0 0;
            overflow-x: auto;
            scroll-behavior: smooth;
            scroll-snap-type: x mandatory;
            transition: 0.3s;
            z-index: 20;
        }

        .sidebarenabled .nav-bar{
            width: calc(100vw - var(--sibebar-width));
            left: var(--sibebar-width);
            right: 0;
            border-radius: 0;
            border-top: 1px solid var(--rectangleborder);
            transition: 0.3s;
        }
        .sidebarenabled .allcontainer{
            border-radius: 0;
            border: 1px solid var(--rectangleborder);
            border-left: 0;
            transition: 0.3s;
        }

        .nav-bar.expanded {
            background: var(--background-color);
            transition: 0.3s;
        }
        
        #replayautoanimation {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            padding: 13px;
            font-size: 1em;
            color: var(--black-color);
            background: transparent;
            border: none;
            font-weight: bold;
            z-index: 20;
        }
        
        .nav-bar div {
            min-width: 100vw;
            height: 50px;
            background-color: var(--seccontainerbackground-color);
            color: var(--black-color);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            scroll-snap-align: center;
            border-radius: 10px 10px 0 0;
            position: relative;
            overflow: hidden;
            transition: 0.3s;
        }

        .sidebarenabled .nav-bar div{
            min-width: calc(100vw - var(--sibebar-width));
            border-radius: 0;
            transition: 0.3s;
        }

        .nav-bar div:hover {
            background-color: var(--lightdarkgrey-color);
            transition: 0.3s;
        }

        .nav-bar .active {
            background-color: var(--lightgrey-color);
            transition: 0.3s;
        }

        .expanded {
            height: 100dvh;
            transition: 0.3s;
        }

        .nav-dot-content {
            display: none;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            width: 100%;
            text-align: center;
            color: var(--black-color);
            position: relative;
            border-radius: 10px;
            animation: fadeInUp 0.5s ease-in-out;
            transition: 0.3s;
        }

        .expanded .nav-dot-content {
            display: block;
            transition: 0.3s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .input-field {
            margin-top: 20px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            width: 80%;
            font-size: 1rem;
            transition: 0.3s;
        }

        .input-field:focus {
            outline: none;
            transition: 0.3s;
        }

        .seccontainer {
            width: 100vw;
            height: 85dvh;
            background-color: var(--background-color);
            color: var(--black-color);
            scroll-snap-align: center;
            border-radius: 10px 10px 0 0;
            position: fixed;
            overflow: hidden;
            bottom: 0;
            left: 0;
            animation: up 1s;
            padding: 10px;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow-y: scroll;
            transition: 0.3s;
            z-index: 20;
        }

        .sidebarenabled .seccontainer{
            width: calc(100vw - var(--sibebar-width));
            left: var(--sibebar-width);
            right: 0;
            border-radius: 0;
            transition: 0.3s;
        }

        @keyframes up{
            0%{ transform: translateY(100dvh); }
            100%{ transform: translateY(0); }
        }

        .input-field {
            margin-top: 20px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            width: 80%;
            font-size: 1rem;
            transition: 0.3s;
        }

        .input-field:focus {
            outline: none;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 51px;
            min-width: 51px;
            height: 31px;
            min-height: 31px;
            transition: 0.3s;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
            transition: 0.3s;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--lightgrey-color);
            border-radius: 34px;
            transition: 0.3s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 23px;
            width: 23px;
            left: 4px;
            bottom: 4px;
            background: var(--white-color);
            border-radius: 50%;
            transition: 0.3s;
        }

        input:checked + .slider {
            background: var(--switchcheckedbackground-color);
        }

        input:checked + .slider:before {
            transform: translateX(20px);
            transition: 0.3s;
        }

        .code-editor-container {
            position: relative;
            height: calc(88dvh - 100px);
            width: 90vw;
            border-radius: 5px;
            background: transparent;
            padding: 5px 4.5em;
            overflow-y: scroll;
            overflow-x: hidden;
            transition: 0.3s;
        }
        .sidebarenabled .code-editor-container {
            width: calc(100vw - var(--sibebar-width));
        }
        @media (max-width: 700px) {
            .code-editor-container {
                width: 90vw;
                padding: 5px 3.5em;
                height: calc(88dvh - 100px);
            }
        }
        @media (max-width: 600px) {
            .code-editor-container {
                width: 100vw;
                padding: 5px 3em;
                height: calc(88dvh - 100px);
            }
        }
        .code-editor-line {
            display: flex;
            position: relative;
            border-radius: 5px;
            background: transparent;
            color: var(--black-color);
            font-size: var(--editor-font-size);
            font-family: "Fira Code", "JetBrains Mono", monospace;
            letter-spacing: 0.06em;
            text-align: left;
            padding: 5px;
            transition: opacity 0.01s ease, visibility 0s linear 0.01s, all 0.5s ease;
            white-space: pre-wrap;
            flex-wrap: wrap;
            box-sizing: border-box;
            cursor: pointer;
            opacity: 1;
            caret-color: var(--caret-color);
        }

        .code-editor-container {
            padding-bottom: 50dvh;
            padding-top: 5dvh;
        }

        .code-editor-line:focus {
            outline: none;
            background: var(--drakgrey-color);
        }
        .code-editor-line {
            counter-increment: line-number;
            position: relative;
        }
        .code-editor-line.selected {
            counter-increment: line-number selected-line-number;
        }
        #linenumberingon .code-editor-line::before {
            content: counter(line-number) ". ";
            position: absolute;
            right: 101%;
            font-family: Arial, sans-serif;
            font-weight: bold;
            font-size: 0.7em;
            border: none;
            color: var(--linenumber-color);
            opacity: 0.5;
        }
        #linenumberingon .code-editor-line.selected::before {
            content: counter(selected-line-number);
        }
        
        .code-editor-line.selected::after {
            content: '✓';
            position: absolute;
            left: -3em;
            top: 0;
            color: var(--lightgrey-color);
            font-size: 1.2em;
            transition: 0.3s;
            font-weight: bold;
        }
        
        .section.gridenabled .code-editor-line.selected::after {
            color: var(--checkmark-color);
        }
        .code-editor-line.selected.bottomSelected::after {
            /*content: '└─';*/
            content: '';
            height: 100%;
            width: 15px;
            border-left: 1px solid var(--rectangleborder);
            border-bottom: 1px solid var(--rectangleborder);
            border-bottom-left-radius: 5px;
        }
        .section.gridenabled .code-editor-line.selected.bottomSelected::after {
            border-left: 1px solid var(--caret-color);
            border-bottom: 1px solid var(--caret-color);
        }
        .code-editor-line.selected.middleSelected::after {
            /*content: '│';*/
            content: '';
            height: 100%;
            width: 15px;
            border-left: 1px solid var(--rectangleborder);
        }
        .section.gridenabled .code-editor-line.selected.middleSelected::after {
            border-left: 1px solid var(--caret-color);
        }
        .code-editor-line.selected.topSelected::after {
            /*content: '┌─';*/
            content: '';
            height: 100%;
            width: 15px;
            transform: translateX(-2px);
            border-left: 1px solid var(--rectangleborder);
            border-top: 1px solid var(--rectangleborder);
            border-top-left-radius: 5px;
        }
        .section.gridenabled .code-editor-line.selected.topSelected::after {
            border-left: 1px solid var(--caret-color);
            border-top: 1px solid var(--caret-color);
        }
        
        .code-editor-line.importantpin.topimportantpin {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .code-editor-line.importantpin.bottomimportantpin {
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .code-editor-line.importantpin.middleimportantpin {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .code-editor-line.importantpin.singleimportantpin {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
        }
        
        .code-editor-line.selected.topSelected {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            border-top-left-radius: 0;
            border-left: 2px solid var(--caret-color);
        }

        .code-editor-line.selected.bottomSelected {
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
            border-right: 2px solid var(--caret-color);
        }

        .code-editor-line.selected.middleSelected {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .code-editor-line.selected.singleSelected {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
        }
        
        
        .code-editor-line.superselected {
            border-radius: 5px;
            background: var(--superselected-color);
            transform: translateX(1.5em);
        }
        .code-editor-line.superselected::after {
            content: '→';
            position: absolute;
            left: -3.5em;
            top: 0;
            color: var(--leftarrow-color);
            font-size: 1.2em;
            transition: 0.3s;
        }

        .editor-selected-line-btns{
            border-bottom: var(--ceefbrlb) solid var(--rectangleborder);
            width: 100vw;
            background: transparent;
            padding: 10px;
            display: flex;
            overflow-x: scroll;
            overflow-y: hidden;
            transition: 0.3s;
        }
        .sidebarenabled .editor-selected-line-btns{
            width: calc(100vw - var(--sibebar-width));
        }
        .eslbtn{
            color: var(--codeeditoreditbtn-color);
            width: 6dvh;
            height: 6dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: center;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85em;
            margin-left: 1%;
            transition: 0.3s;
        }
        .eslbtn:hover{
            background: var(--drakgrey-color);
        }
        .disabled{
            pointer-events: none;
            opacity: 0.5;
        }
        .disableline{
            pointer-events: none;
            opacity: 0.5;
        }
        .importantpin{
            background: rgba(255, 0, 0, 0.5);
        }
        .code-editor-line.selected {
            background: var(--selected-color);
            transform: translateX(1em);
            border-radius: 0;
            transition: 0.3s;
        }
        .code-editor-btn{
            color: var(--codeeditoreditbtn-color);
            width: 6dvh;
            height: 6dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: center;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85em;
            margin-left: 1%;
            transition: 0.3s;
        }
        .code-editor-btn:hover {
            background: var(--drakgrey-color);
        }
        .unsleeplines:hover{
            background: var(--drakgrey-color);
        }
        .hiddenlinesparent{
            transform: translateX(-1.5em);
        }
        .hidden{
            display: none;
        }
        @keyframes Hide {
            100%{
                transform: translateY(-50px);
                opacity: 0;
                display: none;
            }
        }
        .code-editor-btns{
            border-top: var(--ceefbrlb) solid var(--rectangleborder);
            width: 100vw;
            background: transparent;
            padding: 10px;
            display: flex;
            overflow-x: scroll;
            overflow-y: hidden;
            transition: 0.3s;
        }
        .sidebarenabled .code-editor-btns {
            width: calc(100vw - var(--sibebar-width));
        }
        .filePathInput{
            font-size: 1em;
            color: var(--filepathinput-color);
            font-weight: bold;
            background: transparent;
            border: none;
            display: inline-block;
            width: 100%;
            text-align: center;
            transition: 0.3s;
            overflow: hidden;
        }
        .filePathInput:focus{
            outline: none;
        }

        .viewcontainer {
            font-family: 'Arial', sans-serif;
            background-color: var(--background-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100dvh;
            overflow: hidden;
            transition: 0.3s;
        }

        .swipe-container {
            display: flex;
            width: 100vw;
            height: 100dvh;
            scroll-snap-type: x mandatory;
            overflow-x: scroll;
            scroll-behavior: smooth;
            transition: 0.3s;
        }

        .sidebarenabled .swipe-container {
            width: calc(100vw - var(--sibebar-width));
        }

        .view {
            width: 100vw;
            height: 90dvh;
            flex-shrink: 0;
            scroll-snap-align: start;
            padding: 5dvh 0;
            transition: 0.3s;
        }

        .sidebarenabled .view {
            width: calc(100vw - var(--sibebar-width));
        }

        .mobile-container, .browser-container {
            margin: auto;
            transition: 0.3s;
        }

        .mobile-container {
            max-width: 375px;
            width: calc(100vw - 1em);
            max-height: 667px;
            height: calc(100dvh - 1em);
            border-radius: 35px;
            background-color: var(--white-color);
            box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            border: 1em solid var(--deviceborder-color);
            transition: 0.3s;
        }

        .safari-header {
            background: var(--safariheaderbackground-color);
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            border-bottom: 1px solid var(--browserheaderborderbottom-color);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            transition: 0.3s;
        }

        .safari-header .safari-buttons {
            display: flex;
            gap: 8px;
            transition: 0.3s;
        }

        .safari-buttons .back-btn {
            width: 12px;
            height: 12px;
            background-color: var(--switchcheckedbackground-color);
            mask: url('https://upload.wikimedia.org/wikipedia/commons/2/26/Chevron_left_font_awesome.svg') no-repeat center;
            -webkit-mask: url('https://upload.wikimedia.org/wikipedia/commons/2/26/Chevron_left_font_awesome.svg') no-repeat center;
            mask-size: 100%;
            -webkit-mask-size: 100%;
            transition: 0.3s;
        }

        .url-bar {
            width: 70%;
            height: 28px;
            margin-left: 10px;
            display: flex;
            align-items: center;
            background-color: var(--urlbarbackground-color);
            border-radius: 12px;
            padding: 0 10px;
            font-size: 14px;
            color: #666;
            transition: 0.3s;
        }

        .url-bar input {
            width: 100%;
            border: none;
            background: transparent;
            outline: none;
            color: var(--urlbarcolor-color);
            font-size: 14px;
            transition: 0.3s;
        }

        .safari-header .action-btn {
            background-color: var(--switchcheckedbackground-color);
            padding: 4px 10px;
            color: white;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: 0.3s;
        }

        .iframe-container {
            flex-grow: 1;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            overflow: hidden;
            background-color: var(--browseriframebackgroundcolor-color);
            transition: 0.3s;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            transition: 0s;
        }
        .browser-container {
            width: 80vw;
            max-width: 1200px;
            height: 70dvh;
            border-radius: 15px;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
            background-color: var(--browsercontainerbackground-color);
            display: flex;
            flex-direction: column;
            border: 1em solid var(--deviceborder-color);
            transition: 0.3s;
        }

        .sidebarenabled .browser-container {
            width: 68vw;
        }

        .browser-container.fullscreen {
            width: 100vw;
            height: 100dvh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1999;
            border-radius: 0;
            border: 1em solid var(--background-color);
            background: var(--background-color);
            box-sizing: border-box;
            max-width: 100vw;
        }

        .browser-header {
            background-color: var(--safariheaderbackground-color);
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            border-bottom: 1px solid var(--browserheaderborderbottom-color);
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            transition: 0.3s;
        }

        .browser-header .browser-buttons {
            display: flex;
            gap: 8px;
            transition: 0.3s;
        }

        .browser-header .browser-buttons div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            transition: 0.3s;
        }

        .close-btn {
            background-color: #f96256;
        }

        .minimize-btn {
            background-color: #fdbc40;
        }

        .maximize-btn {
            background-color: #34c84a;
        }

        .url-bar {
            flex-grow: 1;
            height: 28px;
            margin: 0 10px;
            display: flex;
            align-items: center;
            background-color: var(--urlbarbackground-color);
            border-radius: 8px;
            padding: 0 10px;
            font-size: 14px;
            color: #666;
            transition: 0.3s;
        }

        .url-bar input {
            width: 100%;
            border: none;
            background: transparent;
            outline: none;
            color: var(--urlbarcolor-color);
            font-size: 14px;
            transition: 0.3s;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            transition: 0.3s;
        }

        .btn-group button {
            background-color: var(--switchcheckedbackground-color);
            color: #fff;
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: 0.3s;
        }

        .iframe-container {
            flex-grow: 1;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            overflow: hidden;
            background-color: var(--browseriframebackgroundcolor-color);
            transition: 0.3s;
        }
        .line-number-input{
            color: var(--black-color);
            width: 6dvh;
            height: 6dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: left;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85em;
            margin-left: 1%;
            transition: 0.5s;
            padding: 0 2.5dvh;
        }
        .line-number-input:focus{
          border-radius: 100px;
          width: 25vw;
          background: var(--white-color);
          outline: none;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
          transition: 0.3s;
        }
        .code-search-input{
            color: var(--black-color);
            width: 6dvh;
            height: 6dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: left;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85em;
            margin-left: 1%;
            transition: 0.5s;
            padding: 0 2.5dvh;
        }
        .code-search-input:focus{
            border-radius: 100px;
            width: 25vw;
            outline: none;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            background: var(--white-color);
            transition: 0.3s;
        }
        #sbtnpossettingsoverlay {
            display: none;
        }
        @media(min-width: 900px) {
            #sbtnpossettingsoverlay {
                display: flex;
            }
            .editor-selected-line-btns {
                background-color: var(--contentcontainer-color);
            }
            .allbtnsleft .editor-selected-line-btns {
                border-bottom: var(--ceefbrlb) solid var(--rectangleborder);
            }
            .selectedbtnsleft .editor-selected-line-btns {
                border: none;
                width: 8vw;
                border-left: var(--ceefbrlb) solid var(--rectangleborder);
                background-color: var(--contentcontainer-color);
                position: absolute;
                top: 1px;
                right: 0;
                padding: 5px;
                display: flex;
                flex-direction: column;
                overflow-x: hidden;
                overflow-y: scroll;
                z-index: 1;
                height: calc(94dvh - 99px);
                align-items: center;
            }
            .allbtnsleft.selectedbtnsleft .editor-selected-line-btns {
                height: calc(100dvh - 51px);
            }
            .code-editor-btns {
                background-color: var(--contentcontainer-color);
                height: calc(6vh + 50px);
            }
            .selectedbtnsleft .code-editor-btns {
                border-top: var(--ceefbrlb) solid var(--rectangleborder);
                height: calc(6vh + 50px);
            }
            .selectedbtnsleft .code-editor-container {
                height: calc(94dvh - 100px);
                padding-top: 20px;
            }
            .selectedbtnsleft .code-search-input:focus {
                position: fixed;
                top: 1px;
                right: calc(8vw - 1px);
                border-radius: 0;
                border-bottom-left-radius: 5px;
                width: 25vw;
                outline: none;
                box-shadow: none;
                background: var(--seccontainerbackground-color);
                z-index: 20;
                transition: 0.3s;
                margin: 0;
                font-size: 1em;
                padding: 5px;
                padding-left: 10px;
                border-bottom: var(--ceefbrlb) solid var(--rectangleborder);
                border-left: var(--ceefbrlb) solid var(--rectangleborder);
            }
            .allbtnsleft .line-number-input:focus {
                position: fixed;
                bottom: 50px;
                left: calc(8vw - 1px);
                border-radius: 0;
                border-top-right-radius: 5px;
                width: 25vw;
                outline: none;
                box-shadow: none;
                background: var(--seccontainerbackground-color);
                z-index: 20;
                transition: 0.3s;
                margin: 0;
                font-size: 1em;
                padding: 5px;
                padding-left: 10px;
                border-top: var(--ceefbrlb) solid var(--rectangleborder);
                border-right: var(--ceefbrlb) solid var(--rectangleborder);
            }
            .sidebarenabled.allbtnsleft .line-number-input:focus {
                left: calc(var(--sibebar-width) + 8vw - 1px);;
            }
            .allbtnsleft .code-editor-container {
                margin-left: 8vw;
            }
            .sidebarenabled.selectedbtnsleft .code-editor-container, .sidebarenabled.allbtnsleft .code-editor-container {
                width: calc(92vw - var(--sibebar-width));
            }
            .selectedbtnsleft .code-editor-container, .allbtnsleft .code-editor-container {
                width: 92vw;
            }
            .sidebarenabled.allbtnsleft.selectedbtnsleft .code-editor-container {
                width: calc(84vw - var(--sibebar-width));
                margin-left: 8vw;
            }
            .allbtnsleft .code-editor-btns {
                width: 8vw;
                border: none;
                border-right: var(--ceefbrlb) solid var(--rectangleborder);
                background-color: var(--contentcontainer-color);
                position: absolute;
                top: calc(6dvh + 20px);
                left: 0;
                padding: 5px;
                display: flex;
                flex-direction: column;
                overflow-x: hidden;
                overflow-y: scroll;
                z-index: 1;
                height: calc(94dvh - 71px);
                align-items: center;
            }
            .sidebarenabled.allbtnsleft .code-editor-btns {
                top: calc(6dvh + 21px);
                left: var(--sibebar-width);
            }
            .allbtnsleft.selectedbtnsleft .code-editor-btns {
                height: calc(100dvh - 51px);
                top: 1px;
            }
            .bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                left: calc(8vw + 1px);
                border: none;
                border-right: var(--ceefbrlb) solid var(--rectangleborder);
            }
            .bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                border-right: 1px solid var(--rectangleborder);
                left: calc(8vw + 1px);
            }
            .sidebarenabled.bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                left: calc(var(--sibebar-width) + 8vw + 1px);
            }
            .bothbtncleft.allbtnsleft.selectedbtnsleft .code-editor-container {
                width: 84vw;
                margin-left: 16vw;
            }
            .sidebarenabled.bothbtncleft.allbtnsleft.selectedbtnsleft .code-editor-container {
                width: calc(84vw - var(--sibebar-width));
            }
            .bothbtncleft.selectedbtnsleft.allbtnsleft .line-number-input:focus {
                left: calc(16vw + 2px);
            }
            .bothbtncleft.selectedbtnsleft.allbtnsleft .code-search-input:focus {
                left: calc(16vw + 2px);
                border-left: none;
                border-right: var(--ceefbrlb) solid var(--rectangleborder);
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 5px;
            }
            .sidebarenabled.bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                left: calc(var(--sibebar-width) + 8vw + 1px);
            }
            .sidebarenabled.bothbtncleft.selectedbtnsleft.allbtnsleft .line-number-input:focus {
                left: calc(var(--sibebar-width) + 16vw + 2px);
            }
            .sidebarenabled.bothbtncleft.selectedbtnsleft.allbtnsleft .code-search-input:focus {
                left: calc(var(--sibebar-width) + 16vw + 2px);
                top: 1px;
            }
            .ceefbrlbd.selectedbtnsleft .editor-selected-line-btns, .ceefbrlbd.selectedbtnsleft .code-editor-btns, .ceefbrlbd.allbtnsleft .code-editor-btns, .ceefbrlbd.allbtnsleft .editor-selected-line-btns, .ceefbrlbd .editor-selected-line-btns, .ceefbrlbd .code-editor-btns {
                background-color: transparent;
            }
            .ceefbrlbd.bothbtncleft.selectedbtnsleft .editor-selected-line-btns, .ceefbrlbd.bothbtncleft.selectedbtnsleft .code-editor-btns, .ceefbrlbd.bothbtncleft.allbtnsleft .code-editor-btns, .ceefbrlbd.bothbtncleft.allbtnsleft .editor-selected-line-btns {
                background-color: var(--contentcontainer-color);
            }
            .selectedbtnsleft .code-editor-container, .allbtnsleft .code-editor-container {
                height: calc(94dvh - 100px);;
            }
            .selectedbtnsleft.allbtnsleft .code-editor-container {
                height: calc(100dvh - 100px);;
            }
        }
        #addFile{
            position: fixed;
            right: 5px;
            bottom: 3px;
            color: #000;
            width: 4dvh;
            height: 4dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: center;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1em;
            margin-left: 1%;
            transition: 0.5s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #addFile:hover{
            background: #f0f0f0;
        }
        #specialbtn{
            display: flex;
            width: calc(100vw - var(--sibebar-width));
            font-size: 1.5em;
            margin-top: 2dvh;
            border-radius: 10px;
            padding: 10px;
            transition: 1s;
            justify-content: center;
            background: var(--commandlistbackground-color);
            border: 1px solid var(--browserheaderborderbottom-color);
            color: var(--black-color);
        }
        .sidebarenabled #specialbtn {
            width: 68vw;
        }
        #specialbtn:active{
            background: var(--spencialbtnbackground-color);
            color: var(--spencialbtncolor-color);
        }
        #specialbtn:hover{
            background: var(--spencialbtnbackground-color);
            color: var(--spencialbtncolor-color);
        }
        @keyframes rotatesign {
            100%{
                transform: rotate(360deg);
            }
        }
        @keyframes rotatesignleft {
            0%{
                transform: rotate(360deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }
        @keyframes swipeOutLeft {
            0% {
                transform: translateX(0);
            }
            100% {               
                transform: translateX(-100%);
            }
        }

        @keyframes swipeInLeft {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(0);
            }
        }

        @keyframes swipeOutRight {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(100%);
            }
        }

        @keyframes swipeInRight {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(0);
            }
        }
        .overlay-container, .overlay5-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100dvh;
            background-color: var(--overlaybackground-color);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: swipein 0.5s;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transition: 0.3s;
        }
        .sidebarenabled .overlay-container, .sidebarenabled .overlay5-container {
            position: fixed;
            top: 0;
            left: var(--sibebar-width);
            right: 0;
            width: calc(100vw - var(--sibebar-width));
            height: 100dvh;
            background-color: rgba(0, 0, 0, 0);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 1000;
            animation: swipein 0.5s;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transition: 0.3s;
        }
        .content-container, .content5-container {
            border: 1px solid var(--rectangleborder);
            background-color: var(--contentcontainer-color);
            padding: 20px;
            border-radius: 5px;
            display: grid;
            align-items: start;
            justify-content: start;
            grid-template-columns: repeat(auto-fit, minmax(150px, 200px));
            gap: 20px;
            width: 80vw;
            max-width: 1200px;
            margin-top: 20px;
            position: relative;
            max-height: 95dvh;
            overflow: hidden;
            overflow-y: scroll;
            transition: 0.3s;
        }

        .sidebarenabled .content-container, .sidebarenabled .content5-container{
            width: calc(100vw - var(--sibebar-width));
            grid-template-columns: repeat(2, 1fr);
            overflow-y: auto;
            right: 0;
            margin-top: 0;
            border: none;
            max-height: 100dvh;
            max-width: none;
            border-radius: 0;
            border: 1px solid var(--rectangleborder);
            border-left: none;
        }
        @media(max-width: 800px){
            .sidebarenabled .content-container, .sidebarenabled .content5-container {
                width: calc(100vw - var(--sibebar-width));
                height: 100dvh;
                grid-template-columns: repeat(2, 1fr);
                overflow-y: auto;
                right: 0;
                border: none;
                transition: 0.3s;
                border-radius: 0;
            }
        }

        .sidebarenabled .commandsdisplay-container {
            width: calc(100vw - var(--sibebar-width));
            right: 0;
            margin-top: 0;
            border: none;
            max-height: 100dvh;
            max-width: none;
            border-radius: 0;
            border: 1px solid var(--rectangleborder);
            border-left: none;
            border-radius: 0;
            transition: 0.3s;
        }
        .theme-overlay, .commandsoverlay-container, .singsoverlay-container, #testregexoverlay, .userregulationsandconditionsoverlay, .replaceoverlay, .codefunctionssettingsoverlay, .chooseanimationoverlay, .chooseceebtnposoverlay{
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100dvh;
            background-color: var(--overlaybackground-color);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: swipein 0.5s;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transition: 0.3s;
        }
        .sidebarenabled .theme-overlay, .sidebarenabled .commandsoverlay-container, .sidebarenabled .topandbottomsignsdisplay-container, .sidebarenabled #testregexoverlay, .sidebarenabled .replaceoverlay, .sidebarenabled .codefunctionssettingsoverlay, .sidebarenabled .chooseanimationoverlay, .sidebarenabled .chooseceebtnposoverlay {
            width: calc(100vw - var(--sibebar-width));
            height: 100dvh;
            overflow-y: auto;
            right: 0;
            left: var(--sibebar-width);
            transition: 0.3s;
        }
       .theme-option-container, .topandbottomsignsdisplay-container, .commandsdisplay-container, #testregexcontainer, .replacecontainer, .codefunctionssettingscontainer, .chooseanimationcontainer, .chooseceebtnposcontainer {
            border: 1px solid var(--rectangleborder);
            background-color: var(--contentcontainer-color);
            padding: 20px;
            border-radius: 5px;
            width: 80vw;
            max-width: 1200px;
            margin-top: 20px;
            position: relative;
            max-height: 95dvh;
            overflow-y: scroll;
            transition: 0.3s;
       }

       .sidebarenabled .theme-option-container, .sidebarenabled .topandbottomsignsdisplay-container, .sidebarenabled .commandsdisplay-container, .sidebarenabled #testregexcontainer, .sidebarenabled .replacecontainer, .sidebarenabled .codefunctionssettingscontainer, .sidebarenabled .chooseanimationcontainer, .sidebarenabled .chooseceebtnposcontainer {
            width: calc(100vw - var(--sibebar-width));
            height: 100dvh;
            overflow-y: auto;
            right: 0;
            left: 0;
            margin-top: 0;
            border: none;
            max-height: 100dvh;
            max-width: none;
            border-radius: 0;
            border: 1px solid var(--rectangleborder);
            border-left: none;
            transition: 0.3s;
        }

        .sidebarenabled .singsoverlay-container {
            width: calc(100vw - var(--sibebar-width));
            left: var(--sibebar-width);
            right: 0;
        }

        .top-bar, .top5-bar {
            grid-column: 1 / -1;
            width: 100%;
            background-color: var(--contentcontainer-color);
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: 0.3s;
        }

        .searchforafilename-container {
            grid-column: 1 / -1;
            width: 100%;
            background-color: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            padding: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1em;
            transition: 0.3s;
        }
        
        .searchforafilename {
            padding: 10px;
            height: 100%;
            width: 100%;
            font-size: 1em;
            border: none;
            background-color: var(--contentcontainer-color);
            color: var(--black-color);
        }
        
        .searchforafilename:focus {
            outline: none;
        }
        
        .searchforafilenamereadybtn {
            color: var(--switchcheckedbackground-color);
            height: 100%;
            padding: 10px;
            font-size: 1em;
            font-weight: bold;
            background: transparent;
            border: none;
            border-radius: 0px;
            border-left: 1px solid var(--rectangleborder);
            display: none;
        }

        .overlay-back-btn, .upload-btn, .viewthisfile, .create-file-btn, .overlay-close-btn, .overlay5-close-btn, .overlay5-back-btn {
            background: var(--lightgrey-color);
            color: var(--black-color);
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 0;
            transition: 0.3s;
            width: 100%;
            border-left: 1px solid var(--background-color);
            font-size: 0.8em;
        }
        
        .top-bar, .top5-bar {
            padding: 0;
        }
        
        .create-file-btn {
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
        }
        
        .overlay-close-btn, .overlay5-close-btn {
            display: inline-block;
            border-left: 0;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }
        
        .overlay-back-btn, .overlay5-back-btn{
            display: none;
            border-left: 0;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }
        
        @media(max-width: 700px){
            .overlay-close-btn, .overlay5-close-btn {
                display: none;
            }
            .overlay-back-btn, .overlay5-back-btn {
                display: inline-block;
            }
        }
        
        .rectangle, .rectanglep, .halfrectagle {
            background-color: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 150px;
            border-radius: 5px;
            color: var(--rectanglecolorcolor-color);
            font-size: 18px;
            position: relative;
            min-width: 200px;
            white-space: nowrap;
            text-overflow: ellipsis;
            transition: 0.3s;
        }
        @keyframes easeinanimationfrb {
            0% {
                transform: translateY(-100%);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .rectangle-buttons, .halfrectagle-buttons {
            position: absolute;
            top: 5px;
            right: 5px;
            display: none;
            transition: 0.3s;
        }

        .rectangle:hover .rectangle-buttons, .halfrectagle:hover .halfrectagle-buttons {
            display: flex;
            gap: 10px;
        }

        .rectangle.enlarged .rectangle-buttons, .halfrectagle.enlarged .halfrectagle-buttons{
            display: flex;
            gap: 10px;
        }

        .download-btn, .delete-btn, .close, .closetemplate, .edit-btn, .copyiurl-btn, .use-btn{
            background-color: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--overlaycolor-color);
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 14px;
            animation: easeinanimationfrb 0.3s;
        }

        .rectangle:not(#image-rectangle) .rectangle-buttons {
            padding: 0;
            top: -1px;
            right: -1px;
        }
        .rectangle:not(#image-rectangle) .rectangle-buttons:after {
            content: "";
            width: 10px;
            height: 10px;
            position: absolute;
            top: 0;
            left: -10px;
            border: none;
            border-top: 1px solid var(--rectangleborder);
            border-right: 1px solid var(--rectangleborder);
            border-top-right-radius: 5px;
            box-shadow: 5px -5px 0px var(--background-color);
            animation: easeinanimationfrb 0.3s;
        }
        .rectangle:not(#image-rectangle) .rectangle-buttons:before {
            content: "";
            width: 10px;
            height: 10px;
            position: absolute;
            bottom: -10px;
            right: 0;
            border: none;
            border-top: 1px solid var(--rectangleborder);
            border-right: 1px solid var(--rectangleborder);
            border-top-right-radius: 5px;
            box-shadow: 5px -5px 0px var(--background-color);
            animation: easeinanimationfrb 0.3s;
        }
        .rectangle:not(#image-rectangle) .edit-btn {
            border: none;
            border-bottom: 1px solid var(--rectangleborder);
            border-left: 1px solid var(--rectangleborder);
            border-radius: 0;
            border-bottom-left-radius: 5px;
        }

        .download-btn {
            display: none;
        }

        @keyframes easeinanimationfin {
            0% {
                transform: translateY(100%);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .image-name {
            display: none;
            position: absolute;
            color: rgba(255, 255, 255, 0.7);
            font-size: 20px;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 5px;
            border-radius: 3px;
            animation: easeinanimationfin 0.3s;
            transition: 0.5s;
            width: 100%;
            height: 100%;
            text-align: center;
            justify-content: center;
            align-items: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .rectangle:hover .image-name {
            display: flex;
        }

        .rectangle.enlarged .image-name {
            display: flex;
            color: rgba(255, 255, 255, 0.7);
        }

        .rectangle.enlarged .rectangle-buttons .download-btn {
            display: inline-block;
        }

        .rectangle.enlarged, .halfrectagle.enlarged {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 80vw;
            height: 100%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            border: none;
            transition: 0.3s;
        }
        
        .rectangle.openfileenlarged {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: 0.3s;
        }

        .sidebarenabled .rectangle.enlarged, .sidebarenabled .halfrectagle.enlarged {
            position: fixed;
            transform: none;
            top: 0;
            right: 0;
            left: 0;
            height: 100dvh;
            width: calc(100vw - var(--sibebar-width));
            box-shadow: none;
            border-radius: 0;
            border-left: none;
            transition: 0.3s;
            border: 1px solid var(--rectangleborder);
            border-left: none;
        }

        .close, .closetemplate {
            position: absolute;
            top: 5px;
            left: 5px;
            display: none;
            transition: 0.3s;
        }

        .rectangle.enlarged .close, .halfrectagle.enlarged .closetemplate {
            display: block;
        }

        @media (max-width: 900px) {
            .commandsdisplay-container, #testregexcontainer, .replacecontainer, .codefunctionssettingscontainer, .chooseanimationcontainer, .chooseceebtnposcontainer {
                width: 100vw;
                height: 100dvh;
                max-width: none;
            }
            .topandbottomsignsdisplay-container {
                width: 100vw;
                height: 100dvh;
                max-width: none;
            }
            .theme-option-container, .userregulationsandconditions {
                width: 100vw;
                height: 100dvh;
                max-width: none;
             }
            .content-container, .content5-container {
                width: 100vw;
                height: 100dvh;
                max-width: none;
                grid-template-columns: repeat(2, 1fr);
                overflow-y: auto;
            }
            .rectangle, .halfrectagle{
               transition: 0.5s;
            }
            .rectangle.enlarged, .halfrectagle.enlarged {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100dvh;
                z-index: 1000;
                transform: none;
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            }
        }

        .closeviewthisfilebtn {
            height: 6dvh;
            width: 6dvh;
            background: var(--transparentshade-color);
            border: none;
            border-radius: 50%;
            display: none;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--black-color);
            position: fixed;
            top: 10px;
            left: 10px;
            font-size: 2dvh;
            z-index: 1112;
            transition: 0.3s;
        }

        .sidebarenabled .closeviewthisfilebtn {
            left: calc(var(--sibebar-width) + 10px);
        }


        .codesearchresults{
            font-size: 1em;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            width: 25vw;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: absolute;
            display: none;
            color: var(--black-color);
            flex-direction: column;
            max-height: 50dvh;
            overflow-y: scroll;
            word-break: break-word;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            transition: 0.3s;
        }
        .resultnum {
            color: var(--linenumber-color);
            font-size: 0.8em;
        }
        .codesearchresults .result{
            padding: 10px;
            margin-top: 2px;
            background: transparent;
            color: var(--black-color);
            border-radius: 5px;
            word-break: break-word;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            transition: 0.3s;
        }
        .comtiniueresultsbtn {
            padding: 10px;
            margin-top: 2px;
            background: var(--switchcheckedbackground-color);
            color: #fff;
            border: none;
            border-radius: 5px;
            word-break: break-word;
            transition: 0.3s;
        }
        .codesearchresults .result .highlight{
            background: var(--switchcheckedbackground-color);
            font-size: 0.8em;
            padding: 0.1em;
            border-radius: 5px;
            display: inline-block;
            color: #fff;
            transition: 0.3s;
        }
        @media(max-width: 700px){
            .codesearchresults{
                width: 100vw;
            }
        }
        .lineoptions {
            display: none;
            padding: 0.1em;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: var(--black-color);
            border-radius: 100px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            transition: 0s;
        }
        .lineoptions button{
            color: var(--black-color);
            width: 5dvh;
            height: 5dvh;
            min-width: 40px;
            min-height: 40px;
            background: transparent;
            text-align: center;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.70em;
            transition: 0.5s;
        }
        .lineoptions button:hover{
            background: rgba(255, 255, 255, 0.1);
        }



        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--fileloadingoverlaybackground-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1500;
            visibility: hidden;
            opacity: 0;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        #overlay.active {
            visibility: visible;
            opacity: 1;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 400px;
            background: var(--loadingbarbackground-color);
            border-radius: 100px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 20px;
            width: 0;
            border-radius: 100px;
            background: var(--loadingbarloadedbackground-color);
            transition: width 0.5s ease;
        }

        .progress-text {
            color: var(--black-color);
            text-align: center;
            margin-top: 10px;
            font-size: 16px;
        }

        .checkmark {
            font-size: 50px;
            color: var(--loadingbarloadedbackground-color);
            font-weight: bold;
            display: none;
            margin-bottom: 10px;
        }

        .checkmark.visible {
            display: block;
        }

        #custom-overlay, .timeinputoverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1400;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            animation: fadeInOverlay 0.3s ease-in-out;
        }

        #custom-dialog, .timeinputcontainer {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
            position: relative;
            animation: fadeInDialog 0.4s ease-in-out;
        }
        
        #prompt-options {
            display: none;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            font-size: 1em;
            color: var(--black-color);
            flex-direction: column;
            overflow: hidden;
            overflow-y: auto;
            max-height: 200px;
            width: 95%;
            margin-left: 2.5%;
        }
        
        #prompt-options span {
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 0;
            font-size: 1em;
            padding: 10px;
            color: var(--black-color);
            margin-bottom: 2px;
            position: relative;
        }
        #prompt-options span:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        #prompt-options span.unSupported {
            color: red;
            font-weight: bold;
        }
        #prompt-options span.unSupported:after {
            content: "!";
            background: red;
            color: white;
            position: absolute;
            font-weight: bold;
            top: 0;
            right: 0;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 20px;
            height: 20px;
            font-size: 14px;
        }

        #close-dialog, #closetimeinputoverlay {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            font-size: 24px;
            color: var(--black-color);
            transition: color 0.2s;
        }

        #custom-message, .timeinputdtext {
            font-size: 18px;
            color: var(--black-color);
            margin-bottom: 20px;
            padding: 10px;
            text-align: left;
            max-height: 200px;
            overflow: scroll;
        }

        #prompt-input-container {
            margin-top: 15px;
        }

        #custom-input {
            width: 95%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--black-color);
            background: transparent;
        }
        #custom-input:focus{
            outline: none;
        }

        #close-alert, #submit-prompt, .submitTimeButton {
            margin-top: 10px;
            padding: 12px;
            width: 100%;
            background: var(--switchcheckedbackground-color);
            color: #ffffff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        @keyframes fadeInOverlay {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInDialog {
            from {
                transform: scale(0.9);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        .closecommandoverlaybtn {
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--overlaycolor-color);
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 14px;
            animation: easeinanimationfrb 0.3s;
            position: fixed;
            top: 5px;
            left: 5px;
        }

        h2 {
            font-family: Arial, sans-serif;
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            color: var(--overlaycolor-color);
            margin-bottom: 20px;
        }

        .command-list {
            list-style: none;
            padding: 0;
            margin: 0 auto;
            max-width: 600px;
            background-color: var(--commandlistbackground-color);
            border: 1px solid var(--rectangleborder);
            border-radius: 8px;
            overflow: hidden;
        }
        .seccontainer-line-container, .fileinfo{
            list-style: none;
            padding: 0;
            margin: 0 auto;
            background-color: var(--commandlistbackground-color);
            border: 1px solid var(--rectangleborder);
            border-radius: 8px;
            overflow-y: scroll;
            overflow-x: hidden;
        }
        .seccontainer-line-container {
            height: 70%;
        }
        
        .fileinfo {
            margin-bottom: 10px;
        }

        .command-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            border-bottom: 1px solid var(--rectangleborder);
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: var(--commandlistcolor-color);
        }

        .seccontainer-line, .oneinfoc{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            border-bottom: 1px solid var(--rectangleborder);
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: var(--commandlistcolor-color);
            width: calc(100vw - var(--sibebar-width));
            max-width: 620px;
        }

        .sidebarenabled .seccontainer-line, .sidebarenabled .oneinfoc{
            width: calc(98vw - var(--sibebar-width));
        }

        .command-list li:last-child {
            border-bottom: none;
        }

        .seccontainer-line-container .seccontainer-line:last-child, .fileinfo .oneinfoc:last-child{
            border-bottom: none;
        }

        .command {
            font-weight: bold;
            color: var(--switchcheckedbackground-color);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .symbolsignspan{
            font-weight: bold;
            color: var(--switchcheckedbackground-color);
            font-family: 'Arial', sans-serif;
            letter-spacing: 0.5px;
        }

        .Symbol-Span {
            background-color: var(--switchcheckedbackground-color);
            color: white;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            min-width: 40px;
        }

        @media (max-width: 600px) {
            .command-list li {
                font-size: 10px;
            }
            .seccontainer-line-container .seccontainer-line, .fileinfo .oneinfoc, #specialbtn{
                font-size: 15px;
                width: 90vw;
            }
            .Symbol-Span {
                font-size: 12px;
            }
        }

        .Symbol-Span:hover {
            transform: scale(1.1);
        }

        .Symbol-Span:active {
            transform: scale(1);
            background-color: #004494;
        }
        #specialbtn{
            font-family: 'Arial', sans-serif;
        }
        #scrolltopreviousfile, #scrolltonextfile{
            height: 50px;
            width: 50px;
            background: transparent;
            border: none;
            border-radius: 5px;
            color: var(--black-color);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            opacity: 0;
            position: fixed;
            bottom: 2.5px;
            z-index: 20;
            transition: 0.3s;
        }
        #scrolltopreviousfile{
            left: 0;
        }
        .sidebarenabled #scrolltopreviousfile{
            left: var(--sibebar-width);
        }
        #scrolltonextfile{
            right: 0;
        }
        #scrolltopreviousfile:hover{
            opacity: 1;
        }
        #scrolltonextfile:hover{
            opacity: 1;
        }
        .sidebarbardiv{
            height: 100dvh;
            width: var(--sibebar-width);
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: flex;
            flex-direction: column;
            padding: 3px;
            display: none;
            overflow: scroll;
            overflow-x: hidden;
            transition: 0.3s;
            padding-bottom: 55px;
        }
        .sidebarenabled .sidebarbardiv{
            display: flex;
        }
        .smallsidebarenabled .sidebarbardiv{
            display: flex;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 7;
            width: 100vw;
            transition: 0.5s
        }
        .sidebarbardiv h3{
            font-family: Arial, sans-serif;
            font-size: 1em;
            font-weight: bold;
            text-align: left;
            margin-top: 10px;
            margin-bottom: 10px;
            color: var(--overlaycolor-color);
            transition: 0.3s;
            padding-left: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--rectangleborder);
        }
        .theme-option-container h3 {
            font-family: Arial, sans-serif;
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            margin: 10px;
            color: var(--overlaycolor-color);
            transition: 0.3s;
        }
        .sidebarbardivbuttondiv{
            width: 100%;
            border: none;
            background: transparent;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            padding: 5px;
            transition: 0.3s;
        }
        .sidebarbardivbuttondiv button{
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: flex;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            overflow: hidden;
        }
        .sidebarbardivbuttondiv:not(.sidebarbardivbuttondiv1) button:before {
            content: "";
            width: 2px;
            height: 100%;
            background: var(--lightgrey-color);
            border-radius: 5px;
            margin-left: -10px;
            margin-right: 10px;
        }
        .allcontainer{
            width: 100vw;
            height: 100dvh;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            background-color: var(--background-color);
            transition: 0.3s;
        }
        .sidebarenabled .allcontainer{
            width: calc(100vw - var(--sibebar-width));
        }
        .divcodeeditor-container{
            height: 100dvh;
            width: 100vw;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: space-between;
            transition: 0.3s;
        }
        .togglesidebarbutton {
            border: none;
            background: transparent;
            color: var(--black-color);
            font-size: 1.2em;
            position: absolute;
            margin-top: 5px;
            margin-left: 10px;
            z-index: 5;
        }
        .sidebarenabled .content-container, .sidebarenabled .content5-container {
            border-radius: 0;
        }
        #closemenuforsmallscreen{
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: flex;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            font-weight: bold;
            border: none;
            display: none;
        }
        .smallsidebarenabled #closemenuforsmallscreen {
            display: flex;
        }
        .themeoption{
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: block;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            overflow: hidden;
            justify-content: left;
        }
        .theme-option-container > .themeoption {
            background: linear-gradient(90deg, var(--lightgrey-color), var(--contentcontainer-color), var(--contentcontainer-color));
            width: 100%;
            max-width: 450px;
            display: flex;
            margin-left: 50%;
            transform: translateX(-50%);
            justify-content: space-between;
        }
        .themeoption2 button {
            display: flex;
            text-align: center;
            background: var(--lightgrey-color);
            color: var(--black-color);
            font-size: 1em;
            border: none;
            border-radius: 5px;
            padding: 10px;
            justify-content: center;
            align-items: center;
            margin-left: 10px;
            overflow: hidden;
            width: calc(100% - 10px);
            box-sizing: border-box;
        }
        .switchtothememaincolorspan{
            width: 1.2em;
            height: 1.2em;
            border-radius: 50%;
        }
        .switchtothememaincolorspan2 {
            margin-right: 10px;
        }
        .switchtothememaincolorspan {
            width: 1.7em;
            height: 1.7em;
            border-radius: 50%;
        }
        .switchtothemetitlespan{
            color: var(--black-color);
            font-size: 1em;
        }
        .themeoption2{
            background: linear-gradient(90deg, var(--lightgrey-color), var(--contentcontainer-color), var(--contentcontainer-color));
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: flex;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            overflow: hidden;
            justify-content: center;
            flex-direction: column;
            width: 100%;
            max-width: 450px;
            margin-left: 50%;
            transform: translateX(-50%);
        }
        .theme-option-container .themeoption:not(.customtextthemeoption) input[type="range"]{
            -webkit-appearance: none;
            appearance: none;
            height: 20px;
            background: linear-gradient(90deg, var(--white-color), var(--switchcheckedbackground-color));
            border-radius: 4px;
            outline: none;
            transition: background 0.3s ease;
            border: 2px solid var(--switchcheckedbackground-color);
            margin-top: 12px;
            width: 100%;
        }
        .theme-option-container .themeoption:not(.customtextthemeoption) input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 24px;
            background: var(--white-color);
            border: 2px solid var(--switchcheckedbackground-color);
            border-radius: 2px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        
        .themeoption2 .themeoption:not(.customtextthemeoption) span {
            display: inline-block;
            transform: translateY(-7px);
        }
        
        

        input[type="range"]{
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: linear-gradient(90deg, var(--white-color), var(--switchcheckedbackground-color));
            border-radius: 5px;
            outline: none;
            transition: background 0.3s ease;
            border: 1px solid var(--white-color);
            margin-top: 8px;
        }
        @media(max-width: 700px){
            input[type="range"]{
                width: 30%;
            }
            .theme-option-container input[type="range"] {
                width: 100%;
            }
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--white-color);
            border: 2px solid var(--switchcheckedbackground-color);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--white-color);
            border: 2px solid var(--switchcheckedbackground-color);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        input[type="range"]::-ms-thumb {
            width: 20px;
            height: 20px;
            background: var(--white-color);
            border: 2px solid var(--switchcheckedbackground-color);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        .importantsearchresult{
            background: rgba(255, 0, 0, 0.5);
        }
        .result.importantsearchresult{
            background: rgba(255, 0, 0, 0.5);
        }
        .sidebarfilelinklink, .sidebarfilelinklinkp {
            display: flex;
            justify-content: space-between;
            align-items: center;
            overflow-wrap: break-word;
            word-break: break-word;
            hyphens: auto;
            overflow-x: hidden;
            width: 100%;
        }
        
        .themeoption2 .customtextthemeoption {
            display: flex;
            justify-content: space-between;
        }

        .threedots {
            margin-left: auto;
            padding: 0 10px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100dvh;
            background-color: rgba(0, 0, 0, 0);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            z-index: 2000;
        }

        .options-container {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 10px;
            width: 200px;
            color: var(--black-color);
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .option-icon {
            font-size: 18px;
            background: transparent;
            border: none;
            color: var(--black-color);
        }

        .option-text {
            font-size: 14px;
        }
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: red;
            border-radius: 50%;
            animation: fall 4s ease-out forwards;
            pointer-events: none;
            z-index: 2500;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100dvh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }
        .sidebarbardivbuttondiv button{
            background: var(--background-color);
            border: none;
        }
        #closemenuforsmallscreen h3{
            font-weight: 600;
            color: #333;
        }
        .code-editor-line:focus{
            background: rgba(150, 150, 150, 0.1);
        }
        .code-editor-line.focusedline {
            background: rgba(150, 150, 150, 0.1);
        }
        .customthemecodeinput{
            background: var(--contentcontainer-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: flex;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            width: 100%;
            overflow: hidden;
        }
        .customthemecodeinput:focus{
            outline: none;
        }
        .syntax{
            display: inline-block;
        }
        .syntaxcolorinput{
            height: calc(var(--editor-font-size) / 2 * 3);
            width: calc(var(--editor-font-size) / 2 * 3);
            margin-left: 5px;
        }
        .syntaxblock { color: var(--syntaxblock-color); }
        .syntaxoperator { color: var(--syntaxoperator-color); }
        .syntaxbracket { color: var(--syntaxbracket-color); }
        .syntaxsign { color: var(--syntaxsign-color); }
        .syntaxstring { color: var(--syntaxstring-color); }
        .syntaxnumber { color: var(--syntaxnumber-color); }
        .syntaxcomment { color: var(--syntaxcomment-color); }
        .syntaxvariable { color: var(--syntaxvariable-color); }
        .syntaxcommand { color: var(--syntaxcommand-color); }
        .syntaxkeyword { color: var(--syntaxkeyword-color); }
        .syntaxhtmlcomment { color: var(--syntaxhtmlcomment-color); }
        .syntaxregex { color: var(--syntaxregex-color); }
        .syntaxhtmltagcontent { color: var(--syntaxhtmltagcontent-color); }
        .syntaxspaceienabled .code-editor-line:not(.hiddenlinesparent, .selected) .syntaxspace:before {
            position: absolute;
            content: "";
            height: 100%;
            width: 1px;
            top: 0;
            background: rgba(150, 150, 150, 0.1);
        }
        .section.gridenabled {
            background-size: 15px 15px;
            background-image: radial-gradient(var(--griddot-color) 1px, transparent 1px);
        }
        .testregexcontainer label, .replacecontainer label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
            color: var(--black-color);
        }
        .testregexcontainer h3, .replacecontainer h3, .codefunctionssettingscontainer h3, .chooseanimationcontainer h3, .chooseceebtnposcontainer h3 {
            font-family: Arial, sans-serif;
            font-size: 1.3em;
            font-weight: bold;
            text-align: left;
            margin: 10px;
            color: var(--overlaycolor-color);
            transition: 0.3s;
            text-align: center;
        }
        .testregexcontainer input, .testregexcontainer textarea, .replacecontainer input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid var(--rectangleborder);
            border-radius: 4px;
            font-size: 16px;
            background: var(--background-color);
            color: var(--black-color);
        }
        .testregexcontainer input:focus, .testregexcontainer textarea:focus, .replacecontainer input:focus {
            outline: none;
        }
        .testregexcontainer #testButton, .testregexcontainer #useButton, .replacecontainer #replacebtn, .codefunctionssettingscontainer #clearclipboardbtn, .codefunctionssettingscontainer #addcommandbtn, .codefunctionssettingscontainer #addshortcutbtn, .codefunctionssettingscontainer #clearpasttoundobtn {
            padding: 12px 20px;
            font-size: 16px;
            color: var(--black-color);
            background: var(--lightgrey-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 10px;
        }
        .testregexresults {
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--lightgrey-color);
            border-radius: 4px;
            border: 1px solid var(--rectangleborder);
            font-family: monospace;
            color: var(--black-color);
            font-size: 1.3em;
        }
        .testregexshowresults {
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--lightgrey-color);
            border-radius: 4px;
            border: 1px solid var(--rectangleborder);
            font-family: monospace;
            color: var(--black-color);
            font-size: 1.3em;
        }
        .testregexshowoutput{
            letter-spacing: 2px;
            font-size: 1.5em;
        }
        .testregexregexcontainer{
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        @media(max-width: 900px){
            .testregexregexcontainer {
                display: contents;
            }
        }
        .regextestshowmatchresultresult{
            border-bottom: 2px solid var(--switchcheckedbackground-color);
            color: var(--switchcheckedbackground-color);
        }
        .notificationmessage{
            display: none;
            justify-content: space-between;
            padding: 0;
            position: fixed;
            top: 10px;
            right: 10px;
            width: 200px;
            color: var(--black-color);
            background: var(--background-color);
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            z-index: 15;
        }
        .notificationmessage .messagespan{
            font-size: 1em;
            color: var(--black-color);
            padding: 10px;
            padding-left: 13px;
        }
        .notificationmessage .confirmationbtn{
            font-size: 1em;
            color: var(--black-color);
            border: none;
            border-left: 1px solid var(--rectangleborder);
            padding: 10px;
            background: var(--background-color);
        }
        @keyframes shownotifucationmessageanimation {
            0%{
                right: -300px;
            }
            100%{
                right: 10px;
            }
        }
        @keyframes hidenotifucationmessageanimation {
            0%{
                right: 10px;
            }
            100%{
                right: -300px;
            }
        }
        @media(max-width: 700px){
            .syntaxcolorinput {
                height: var(--editor-font-size);
                width: var(--editor-font-size);
            }
        }
        #functionsbbdbdb span, #nontotfunctionbtn span{
            margin-right: 10px;
        }
        #timeline-container {
            position: absolute;
            top: 0;
            width: 5px;
            background: var(--rectangleborder);
            display: none;
            justify-content: flex-end;
            align-items: center;
            margin: 0;
            padding: 0;
            height: 100dvh;
        }
        #timeline-line{
            background: var(--switchcheckedbackground-color);
            width: 100%;
            height: 0;
            margin: 0;
            padding: 0;
            transition: 2s;
        }
        #functionsbbdbdb.Active{
            background: var(--lightgrey-color);
            color: var(--switchcheckedbackground-color);
        }
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        .userregulationsandconditionsoverlay{
            display: flex;
        }
        .userregulationsandconditions{
            width: 100vw;
            max-width: 800px;
            display: flex;
            padding: 10px;
            box-sizing: border-box;
            color: var(--black-color);
            background: var(--background-color);
            border-radius: 5px;
            flex-direction: column;
            border: 1px solid var(--rectangleborder);
            max-height: 95dvh;
            word-break: break-word;
            font-size: 1em;
            overflow: hidden;
            overflow-y: scroll;
        }
        .userregulationsandconditions ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            margin-top: 20px;
        }
        
        .userregulationsandconditions li {
            padding: 10px 15px;
            margin-bottom: 5px;
            background: var(--background-color);
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            transition: all 0.2s ease-in-out;
        }
        
        .userregulationsandconditions p{
            margin-left: 5px;
            margin-top: 20px;
        }
        
        .userregulationsandconditions h2 {
            color: var(--black-color);
            margin-top: 20px;
        }
        
        .userregulationsandconditions button {
            margin-top: 30px;
            margin-bottom: 20px;
            background: var(--switchcheckedbackground-color);
            color: white;
            text-align: center;
            border-radius: 100px;
            padding: 10px 20px;
            font-size: 1em;
            border: none;
            align-self: center;
            width: 100%;
            max-width: 500px;
        }
        .consoleconteiner{
            display: none;
            flex-direction: column;
            background: var(--background-color);
            border: 1px solid var(--rectangleborder);
            width: 100vw;
            height: calc(40dvh - 50px);
            position: fixed;
            bottom: 50px;
            left: 0;
            padding-bottom: 50px;
        }
        .consoletopbar{
            display: flex;
            width: 100%;
            border-bottom: 1px solid var(--rectangleborder);
            justify-content: space-between;
        }
        .console{
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        .consoletitle{
            font-size: 1em;
            color: var(--black-color);
            padding: 10px;
        }
        .consolebtn{
            background: transparent;
            color: var(--black-color);
            font-size: 1em;
            padding: 10px;
            border: none;
            border-radius: 50%;
        }
        .sidebarenabled .consoleconteiner{
            width: calc(100vw - var(--sibebar-width));
            right: 0;
            left: var(--sibebar-width);
            border-left: none;
            border-bottom: none;
            border-left: none;
        }
        .consolebtncontainer {
            margin-right: 20px;
        }
        .consolemessagecontainer {
            padding: 10px;
            width: 100%;
            font-size: 1em;
            color: var(--black-color);
            background: var(--background-color);
            border: none;
            border-bottom: 1px solid var(--rectangleborder);
            display: flex;
        }
        
        .consolemessage {
            overflow-wrap: break-word;
            margin-left: 10px;
        }
        
        .consolemessageicon {
            background: transparent;
            font-size: 1.1em;
            border: none;
            color: var(--black-color);
            padding: 0;
            font-weight: bold;
        }
        .visablegroupelement{
            display: none;
        }
        .consolestatuserror{
            background: rgba(255, 0, 0, 0.3);
        }
        .consolestatuswarn{
            background: rgba(255, 165, 0, 0.3);
        }
        .consolestatusdebug{
            background: rgba(0, 255, 0, 0.3);
        }
        .consolestatuserror .consolemessageicon{
            color: red;
        }
        .consolestatuswarn .consolemessageicon{
            color: darkorange;
        }
        .consolestatusdebug .consolemessageicon{
            color: green;
        }
        .consoleinputcontainer{
            width: 100%;
            font-size: 1em;
            background: var(--background-color);
            color: var(--background-color);
            padding: 10px;
            display: flex;
            position: absolute;
            bottom: 0;
            left: 0;
            border-top: 1px solid var(--rectangleborder);
        }
        .consoleinputcontainer .consoletextarea{
            background: transparent;
            overflow-y: auto;
            font-size: 1em;
            color: var(--black-color);
            border: none;
            display: flex;
            margin-left: 10px;
            width: 100%;
        }
        .consoleinputcontainer .consoletextarea:focus{
            outline: none;
        }
        .consoletextarealabelbtn{
            background: transparent;
            font-size: 1.1em;
            border: none;
            color: var(--black-color);
            padding: 0;
            font-weight: bold;
        }
        .showconsolebtn{
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 0;
            font-size: 1em;
            color: var(--black-color);
            background: transparent;
            border: none;
            border-radius: 50%;
        }
        #section1, #section2, #section3{
            display: none;
        }
        @media(max-width: 700px){
            .showconsolebtn{
                top: 60px;
            }
            .safari-buttons{
                opacity: 0;
            }
        }
        .invisible{
            visibility: hidden;
            opacity: 0;
        }
        #replaceinput, #replacementinput {
            background: var(--lightgrey-color);
            color: var(--black-color);
        }
        .replaceorderarrowcontainer {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .replaceorderarrowcontainer button {
            padding-top: 10px;
            font-size: 1.3em;
            color: var(--overlaycolor-color);
            background: transparent;
            border: transparent;
            font-weight: bold;
        }
        #replaceoptions {
            width: 100%;
            height: 2.5em;
            font-size: 1em;
            background: var(--lightgrey-color);
            color: var(--black-color);
            border: none;
            border-radius: 5px;
            margin-bottom: 10px;
            padding: 10px;
        }
        #replaceoptions:focus {
            outline: none;
        }
        .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: var(--lightgrey-color);
            border-radius: 10%;
            opacity: 1;
            animation: dissolve 2s forwards;
            z-index: 1000;
            box-shadow: 0px 0px 10px var(--background-color), 0px 0px 40px var(--black-color);
        }

        @keyframes dissolve {
            0% {
                transform: translate(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: translate(calc(var(--x) * 40px), calc(var(--y) * 40px));
                opacity: 0;
            }
        }
        
        .Tscontainer {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        .scroll-picker {
            width: 80px;
            height: 150px;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            border-radius: 10px;
            background: transparent;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            scrollbar-width: none;
        }
        .scroll-picker::-webkit-scrollbar {
            display: none;
        }
        .Tsoption {
            height: 50px;
            line-height: 50px;
            font-size: 1.3em;
            text-align: center;
            scroll-snap-align: center;
            user-select: none;
            transition: all 0.2s ease;
            opacity: 0.5;
            transform: scale(0.8);
            filter: blur(2px);
            color: var(--black-color);
        }
        .Tsselected {
            font-size: 1.5em;
            font-weight: bold;
            opacity: 1;
            transform: scale(1);
            filter: blur(0);
            color: var(--black-color);
        }
        #Tscspan {
            font-size: 1.8em;
            color: var(--black-color);
            font-weight: bold;
        }
        
        #timeinputdtext {
            text-align: center;
        }
        
        .cldeeditfunctionsettings {
            color: var(--rectangleborder);
            font-size: 1.5em;
            font-weight: bold;
            background: transparent;
            border: none;
            margin-left: 20px;
            padding: 5px;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            transform: scaleX(0.7) scaleY(1.5);
        }
        
        .cfsinfo {
            color: var(--black-color);
            font-size: 1em;
        }
        
        .cfscscf {
            width: 100%;
            padding: 10px;
            color: var(--black-color);
            border: 1px solid var(--rectangleborder);
            background: transparent;
            display: flex;
            border-radius: 5px;
            margin-top: 5px;
        }

        .cfscscfdes {
            width: 100%;
        }
        
        .cfscsc h2 {
            width: 100%;
            max-width: 620px;
            text-align: left;
            padding-top: 10px;
            border-top: 1px solid var(--rectangleborder);
        }
        
        .cfscscf, .cfscscfdes {
            max-width: 620px;
        }
        .cfscsc {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .cfscscswitchdesname {
            color: var(--black-color);
            font-size: 1.3em;
            text-align: right;
            width: 90%;
        }
        
        .commandtosearchregex {
            color: var(--black-color);
            font-size: 1.1em;
        }
        
        .commandtosearchregex:focus {
            outline: none;
        }
        
        .cfscountervalue {
            color: var(--black-color);
            font-size: 1.2em;
            padding: 10px;
        }
        
        .cfscounter button {
            font-size: 1em;
            color: var(--black-color);
            background: var(--lightgrey-color);
            border: none;
            border-radius: 5px;
            padding: 10px;
            margin-left: 10px;
        }
        
        .cfscounter {
            display: flex;
            justify-content: space-between;
            padding: 5px;
        }
        
        .cfscounterbtnc {
            margin-right: 10px;
        }
        
        .cfsch2 {
            color: var(--overlaycolor-color);
            font-size: 1.5em;
            text-align: left;
            font-weight: bold;
            border: none;
            padding: 0;
            margin: 0;
        }
        
        .cfsinfo {
            padding: 10px;
            border-left: 2px solid var(--rectangleborder);
            font-size: 1em;
            color: var(--black-color);
            border-radius: 0;
            margin-top: 10px;
            margin-bottom: 20px;
        }
        
        .leidresult{
            width: 100%;
            border-bottom: 1px solid var(--rectangleborder);
            color: var(--black-color);
            font-size: 1.1em;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            padding: 5px;
        }
        
        .cfscscf .leidresult:last-of-type {
            border-bottom: none;
        }
        
        .leidresult span {
            padding: 10px;
            width: 70%;
            word-break: break-word;
            overflow-wrap: break-word;
        }
        
        .notpartofesyntax {
            word-break: break-word;
        }
        
        .leidresult button {
            padding: 10px;
            font-weight: bold;
            background: var(--lightgrey-color);
            color: var(--switchcheckedbackground-color);
            border: none;
            margin-left: 5px;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        
        .cfsch2 {
            color: var(--overlaycolor-color);
            font-size: 1.2em;
            text-align: left;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .gridop, .caexample {
            height: 150px;
            min-width: 200px;
            display: flex;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            margin-top: 10px;
            width: 100%;
        }
        
        .caexample.selectedanimation {
            border: 2px solid var(--switchcheckedbackground-color);
        }
        
        .caexample {
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .caexample button {
            height: 90%;
            width: 90%;
            border: none;
            border-radius: 5px;
            background: var(--lightgrey-color);
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes swipeinout {
            0%{
                transform: translateY(-100dvh);
                opacity: 0;
            }
            45%{
                transform: translateY(0);
                opacity: 1;
            }
            65%{
                transform: translateY(0);
                opacity: 1;
            }
            100%{
                transform: translateY(150dvh);
                opacity: 0;
            }
        }
        
        @keyframes easeinout {
            0%{
                transform: scale(0.8);
                opacity: 0;
            }
            45%{
                transform: scale(1);
                opacity: 1;
            }
            65%{
                transform: scale(1);
                opacity: 1;
            }
            100%{
                transform: scale(0.8);
                opacity: 0;
            }
        }
        
        @keyframes popinout {
            0%{
                transform: scale(0);
                opacity: 0;
            }
            20%{
                transform: scale(1.1);
                opacity: 0.2;
            }
            30%{
                transform: scale(0.9);
                opacity: 0.3;
            }
            45%{
                transform: scale(1);
                opacity: 1;
            }
            65%{
                transform: scale(1);
                opacity: 1;
            }
            75%{
                transform: scale(1.1);
                opacity: 1;
            }
            100%{
                transform: scale(0);
                opacity: 0;
            }
        }
        
        @keyframes rollinout {
            0%{
                transform: rotate(360deg) scale(0);
                opacity: 0;
            }
            45%{
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
            65%{
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
            100%{
                transform: rotate(360deg) scale(0);
                opacity: 0;
            }
        }
        
        @keyframes noneinout {
            0%{
                opacity: 0;
            }
            25%{
                opacity: 0;
            }
            26%{
                opacity: 1;
            }
            74%{
                opacity: 1;
            }
            75%{
                opacity: 0;
            }
            100%{
                opacity: 0;
            }
        }
        .caexample1 button {
            animation: swipeinout 3s infinite;
        }
        
        .caexample2 button {
            animation: easeinout 3s infinite;
        }
        
        .caexample3 button {
            animation: rollinout 3s infinite;
        }
        
        .caexample4 button {
            animation: popinout 3s infinite;
        }
        
        .caexample5 button {
            animation: noneinout 3s infinite;
        }
        
        .gridoptions {
            display: block;
        }
        
        .gridop.cyselected {
            border: 2px solid var(--switchcheckedbackground-color);
        }
        
        .gridop1 {
            background-size: 15px 15px;
            background-image: radial-gradient(var(--griddot-color) 1px, transparent 1px);
        }
        .gridop2 {
            background-size: 15px 15px;
            background-image: linear-gradient(90deg, var(--griddot-color) 1px, transparent 1px);
        }
        .gridop3 {
            background-size: 40px 40px;
            background-image: radial-gradient(circle, transparent 90%, var(--griddot-color) 2%);
        }
        .gridop4 {
            background-size: 15px 15px;
            background-image: linear-gradient(var(--griddot-color) 1px, transparent 1px);
        }
        .gridop5 {
            background-size: 20px 20px;
            background-image: linear-gradient(var(--griddot-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--griddot-color) 1px, transparent 1px);
        }
        .gridop6 {
            background-size: 50px 50px;
            background-image: radial-gradient(var(--griddot-color) 10%, transparent 10%);
        }
        .sidebarbardiv h1 {
            font-size: 2em;
            font-weight: bold:
            color: var(--black-color);
            margin-top: 0;
            padding-top: 20px;
            padding-left: 10px;
            padding-bottom: 20px;
            padding-left: 15px;
            font-family: 'Roboto', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: fixed;
            width: 100vw;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            left: 1px;
            top: 1px;
            z-index: 5;
            transition: 0.3s;
        }
        .sidebarenabled .sidebarbardiv {
            padding-top: 80px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .sidebarenabled .sidebarbardiv h1 {
            width: calc(var(--sibebar-width) - 2px);
        }
        @media(max-width: 750px){
            .sidebarbardiv h1 {
                display: none;
            }
            .cfsch2 {
                font-size: 1em;
            }
            .leidresult {
                font-size: 0.9em;
            }
        }
        .sidebarfilelinklink.currentfile {
            background: var(--lightgrey-color);
            color: var(--filepathinput-color);
        }
        .sidebarfilelinklink.currentfile .threedots {
            color: var(--black-color);
        }
        .showfilesettingsbtn.disabledbtn {
            opacity: 0.5;
            pointer-events: none;
        }
        @keyframes hidesidebarsectionanimation {
            from {
                opacity: 1;
            }
            to {
                height: 0;
                opacity: 0;
            }
        }
        @keyframes showsidebarsectionanimation {
            from {
                height: 0;
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .resizesidebarbar {
            position: absolute;
            left: calc(var(--sibebar-width) - 36px);
            top: 0;
            background: transparent;
            height: 100dvh;
            width: 50px;
            z-index: 6;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
            font-size: 1.8em;
            color: var(--rectangleborder);
            transform: scaleX(0.4);
            cursor: ew-resize;
            transition: 0.3s;
        }
        @media(max-width: 700px) {
            .resizesidebarbar {
                display: none;
            }
        }
        .ceefbrlbd {
            --ceefbrlb: 0;
        }
        .chooseceebtnposopcontainer {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .ceebtnposexample {
            display: flex;
            height: 30dvh;
            width: 100%;
            max-width: 40vw;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            margin-top: 5px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }
        .ceebtnposexample span {
            justify-content: center;
            align-items: center;
        }
        
        #ceebtnposexample0 {
            flex-direction: column;
        }
        #ceebtnposexample0 > span:nth-child(1) {
            height: 17%;
            width: 100%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample0 > span:nth-child(2) {
            flex: 1;
            display: flex;
            background: var(--lightgrey-color);
            border-top: 3px solid var(--background-color);
        }
        #ceebtnposexample0 > span:nth-child(3) {
            height: 17%;
            width: 100%;
            display: flex;
            background: var(--lightgrey-color);
            border-top: 3px solid var(--background-color);
        }
        
        
        #ceebtnposexample1 {
            flex-direction: column;
        }
        #ceebtnposexample1 > span:nth-child(1) {
            height: 20%;
            width: 100%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample1 > div:nth-child(2) {
            display: flex;
            height: 80%;
            width: 100%;
        }
        #ceebtnposexample1 > div:nth-child(2) > span:nth-child(1) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample1 > div:nth-child(2) > span:nth-child(2) {
            flex: 1;
            display: flex;
            background: var(--lightgrey-color);
            border-left: 3px solid var(--background-color);
            border-top: 3px solid var(--background-color);
        }
        
        
        #ceebtnposexample2 {
            flex-direction: column;
        }
        #ceebtnposexample2 > div:nth-child(1) {
            display: flex;
            height: 80%;
            width: 100%;
        }
        #ceebtnposexample2 > div:nth-child(1) > span:nth-child(1) {
            flex: 1;
            display: flex;
            background: var(--lightgrey-color);
            border-right: 3px solid var(--background-color);
            border-bottom: 3px solid var(--background-color);
        }
        #ceebtnposexample2 > div:nth-child(1) > span:nth-child(2) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample2 > span:nth-child(2) {
            height: 20%;
            width: 100%;
            display: flex;
            background: var(--lightgrey-color);
        }
        
        #ceebtnposexample3 {
            flex-direction: row;
        }
        #ceebtnposexample3 > span:nth-child(1) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample3 > span:nth-child(2) {
            flex: 1;
            display: flex;
            background: var(--lightgrey-color);
            border-left: 3px solid var(--background-color);
        }
        #ceebtnposexample3 > span:nth-child(3) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
            border-left: 3px solid var(--background-color);
        }
        
        
        #ceebtnposexample4 {
            flex-direction: row;
        }
        #ceebtnposexample4 > span:nth-child(1) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
        }
        #ceebtnposexample4 > span:nth-child(2) {
            width: 15%;
            display: flex;
            background: var(--lightgrey-color);
            border-left: 3px solid var(--background-color);
        }
        #ceebtnposexample4 > span:nth-child(3) {
            flex: 1;
            display: flex;
            background: var(--lightgrey-color);
            border-left: 3px solid var(--background-color);
        }
        
        .chooseceebtnposopcontainerswitchcontainer {
            width: 100%;
            max-width: 40vw;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: var(--commandlistcolor-color);
            margin-bottom: 5px;
        }
        .ceebtnposexampleselected{
            border: 2px solid var(--switchcheckedbackground-color);
        }
        @media(min-width: 900px) {
            .cefbtnislands .editor-selected-line-btns, .cefbtnislands .code-editor-btns {
                width: 90vw;
                border-radius: 8px;
                border: 1px solid var(--half-transparent-border-color);
                backdrop-filter: blur(5px);
                -webkit-backdrop-filter: blur(5px);
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                margin-left: 5vw;
                transform: scale(0.8);
                z-index: 10;
                overflow: visible;
                background: var(--half-transparent-bg-color);
            }
            .cefbtnislands .editor-selected-line-btns {
                transform: scale(0.8) translateY(50px);
                margin-top: -25px;
            }
            .cefbtnislands .code-editor-btns {
                transform: scale(0.8) translateY(-50px);
                margin-bottom: -25px;
            }
            .sidebarenabled.cefbtnislands .editor-selected-line-btns, .sidebarenabled.cefbtnislands .code-editor-btns {
                width: calc(90vw - var(--sibebar-width));
                background: var(--half-transparent-bg-color);
            }
            .cefbtnislands:not(.allbtnsleft):not(.selectedbtnsleft):not(.bothbtncleft) .code-editor-container {
                height: calc(88dvh - 50px);
            }
            .cefbtnislands .code-editor-btns {
                height: calc(6dvh + 20px);
            }
            .cefbtnislands.allbtnsleft .code-editor-btns, .cefbtnislands.selectedbtnsleft .editor-selected-line-btns, .cefbtnislands.bothbtncleft.allbtnsleft.selectedbtnsleft .code-editor-btns, .cefbtnislands.bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                top: 7dvh;
                height: 80dvh;
                width: calc(6dvh + 20px);
                margin-left: 20px;
                border: 1px solid var(--half-transparent-border-color);
                background: var(--half-transparent-bg-color);
                transform: scale(0.8) translateY(50px);
                margin-top: 0;
                margin-bottom: 0;
            }
            .cefbtnislands.allbtnsleft .code-editor-btns, .cefbtnislands.bothbtncleft.allbtnsleft.selectedbtnsleft .code-editor-btns {
                margin-left: 20px;
            }
            .cefbtnislands.bothbtncleft.allbtnsleft.selectedbtnsleft .code-editor-btns {
                margin-right: 0;
            }
            
            .cefbtnislands.selectedbtnsleft .editor-selected-line-btns {
                margin-right: 20px;
            }
            .cefbtnislands.bothbtncleft.selectedbtnsleft.allbtnsleft .editor-selected-line-btns {
                margin-right: 0;
                margin-left: 0;
            }
            .cefbtnislands .code-search-input:focus, .cefbtnislands .line-number-input:focus {
                border: 1px solid var(--rectangleborder);
                transform: scale(1.1);
                width: 30vw;
            }
            .cefbtnislands.allbtnsleft .line-number-input:focus {
                position: fixed;
                border: 1px solid var(--rectangleborder);
                transform: scale(1.1);
                width: 30vw;
                left: calc(6dvh + 40px);
                bottom: 0;
            }
            .cefbtnislands.bothbtncleft.selectedbtnsleft.allbtnsleft .line-number-input:focus, .cefbtnislands.bothbtncleft.selectedbtnsleft.allbtnsleft .code-search-input:focus {
                position: fixed;
                border: 1px solid var(--rectangleborder);
                transform: scale(1.1);
                width: 30vw;
                left: calc(6dvh + 40px);
                bottom: 0;
            }
        }
        
        .divcodeeditor-container.sidebarfilebtnssectionextexternalsidebar #filesh3 {
            font-size: 1.1em;
            color: var(--overlaycolor-color);
            font-family: 'Arial', sans-serif;
            font-weight: bold;
        }
        #folderh3 {
            font-size: 1em;
            color: var(--overlaycolor-color);
            font-family: 'Arial', sans-serif;
            font-weight: normal;
            margin: 0;
            margin-top: 5px;
            margin-bottom: 5px;
        }
        .sidebarfilebtnssectionextexternalsidebar .sidebarbardivbuttondiv1 {
            width: 100%;
            height: 100dvh;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            padding: 10px;
            position: fixed;
            left: 0;
            top: 0;
            background: var(--background-color);
            z-index: 5;
            overflow-y: auto;
            padding-bottom: 55px;
            display: block;
        }
        .sidebarfilebtnssectionextexternalsidebarprev .sidebarbardivbuttondiv1 {
            width: 100%;
        }
        .sidebarenabled.sidebarfilebtnssectionextexternalsidebar .sidebarbardivbuttondiv1 {
            width: var(--sibebar-width);
        }
        .sidebarenabled.sidebarfilebtnssectionextexternalsidebarprev .sidebarbardivbuttondiv1 {
            width: var(--sibebar-width);
        }
        .divcodeeditor-container:not(.sidebarfilebtnssectionextexternalsidebar) .maximizetogglebtn {
            background: var(--background-color);
            border: 1px solid var(--rectangleborder);
            color: var(--black-color);
            display: block;
            padding: 10px;
            text-align: left;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px;
            transition: 0.3s;
            overflow: hidden;
            font-weight: normal;
            margin-bottom: 15px;
        }
        #runCodeBtn {
            display: inline;
            padding: 0;
            font-size: 1.1em;
            color: var(--switchcheckedbackground-color);
            border: none;
            border-radius: 50%;
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 12px;
            padding-right: 17px;
            padding-left: 15px;
            background: var(--lightgrey-color);
            transition: 0.3s;
        }
        #runCodeBtn:hover {
            background: var(--switchcheckedbackground-color);
            color: var(--lightgrey-color);
        }
        .divcodeeditor-container:not(.sidebarfilebtnssectionextexternalsidebar) .maximizetogglebtn .closefilesection, .divcodeeditor-container:not(.sidebarfilebtnssectionextexternalsidebar) #runCodeBtn {
            display: none;
        }
        .sidebarenabled.sidebarfilebtnssectionextexternalsidebar .sidebarbardivbuttondiv1 {
            border: 1px solid var(--rectangleborder);
            border-radius: 0;
        }
        .sidebarenabled.sidebarfilebtnssectionextexternalsidebar .sidebarfilelinklink {
            background: var(--background-color);
            border: none;
            border-bottom: 1px solid var(--rectangleborder);
            border-radius: 0;
            padding-bottom: 12px;
            padding-top: 12px;
        }
        .sidebarfilebtnssectionextexternalsidebar .sidebarfilelinklink:before {
            color: var(--switchcheckedbackground-color);
            content: "✓";
            font-size: 1.1em;
            margin-right: 10px;
        }
        
        .sidebarfilebtnssectionextexternalsidebar .sidebarfilelinklink.unsupported:before {
            content: "•";
        }
        
        .sidebarenabled.sidebarfilebtnssectionextexternalsidebar .sidebarfilelinklink.currentfile {
            background: var(--lightgrey-color);
            border-radius: 5px;
        }
        .closefilesection {
            background: transparent;
            color: var(--rectangleborder);
            font-size: 1.2em;
            font-weight: bold;
            background: transparent;
            border: none;
            margin-right: 15px;
            padding: 5px;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            transform: scaleX(0.7) scaleY(1.5);
            display: inline-block;
        }
        .importantnotificationmessageelement, .shortNotification, .showFontSizeResize {
            display: none;
            position: fixed;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px;
            font-size: 1em;
            color: white;
            background: rgba(255, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            max-width: 95vw;
            border-radius: 5px;
            border: 2px solid red;
            text-align: center;
            min-width: 40vw;
            z-index: 5000;
        }
        .shortNotification, .showFontSizeResize {
            border: 2px solid var(--rectangleborder);
            background: var(--background-color);
            color: var(--black-color);
        }
        .showFontSizeResize {
            transition: opacity 0.3s;
            opacity: 0;
            font-size: var(--editor-font-size);
        }
        .sidebarenabled .showFontSizeResize {
            left: calc(50% + var(--sibebar-width) / 2);
        }
        @media(max-width: 700px){
            #view2{
                display: none;
            }
            .view{
                padding: 0;
                height: 100dvh;
            }
            .mobile-container{
                border: none;
                border-radius: 0;
                height: calc(100dvh - 50px);
                width: 100vw;
                max-width: none;
            }
            .line-number-input:focus{
                position: fixed;
                top: 0;
                left: 0;
                border-radius: 5px;
                width: 100vw;
                outline: none;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
                background: var(--seccontainerbackground-color);
                z-index: 20;
                transition: 0.3s;
            }

            .code-search-input:focus{
                position: fixed;
                top: 0;
                left: 0;
                border-radius: 5px;
                width: 100vw;
                outline: none;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
                background: var(--seccontainerbackground-color);
                z-index: 20;
                transition: 0.3s;
            }
            .code-editor-line {
                font-size: calc(var(--editor-font-size) / 4 * 3);
            }
            .showFontSizeResize {
                font-size: calc(var(--editor-font-size) / 4 * 3);
                width: 99vw;
            }
        }
        @media (max-width: 500px) {
            .content-container, .content5-container {
                width: 100vw;
                height: 100dvh;
                grid-template-columns: repeat(1, 1fr);
                overflow-y: auto;
            }
            .rectangle, .halfrectagle{
                transition: 0.5s;
            }
            .code-editor-line {
                font-size: calc(var(--editor-font-size) / 3 * 2);
            }
            .showFontSizeResize {
                font-size: calc(var(--editor-font-size) / 3 * 2);
            }
        }
        .viewoverlayfa {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            background: transparent;
            height: 100dvh;
            width: 100vw;
            z-index: 5000;
            padding: 15px;
        }
        .viewoverlayfa > button {
            position: fixed;
            right: 10px;
            top: 10px;
            font-size: 1em;
            padding: 15px;
            border: none;
            border-radius: 100px;
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: var(--black-color);
            font-weight: bold;
        }
        .charactercountcontainer {
            position: fixed;
            font-size: 1em;
            left: 10px;
            top: 10px;
            color: var(--black-color);
            border: none;
            border-radius: 100px;
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 15px;
        }
        .charactercountcontainer span {
            font-weight: bold;
        }
        .code-editor-line.codeeditorlinehfa {
            opacity: 0;
        }
        input[type="text"]::placeholder {
            color: var(--black-color);
            opacity: 0.5;
        }
        .sidebarlooksbtnssection button.ActiveOverlay, .sidebarfuncbtnssection button.ActiveOverlay, #showallfilescontainerbtn.ActiveOverlay, #showalltemplatescontainerbtn.ActiveOverlay {
            background: var(--lightgrey-color);
            color: var(--switchcheckedbackground-color);
        }
        #scrollviewintoviewbtn.isviewing {
            background: var(--lightgrey-color);
            color: var(--switchcheckedbackground-color);
        }
        .halfrectagle span {
            z-index: 2;
        }
        .halfrectagle iframe {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
        }
        .sidebarwidthdisplay {
            display: none;
            background: var(--background-color);
            color: var(--black-color);
            font-size: 0.8em;
            padding: 10px;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            position: absolute;
            left: calc(var(--sibebar-width) + 5px);
            top: 50%;
            transform: translateY(-50%);
            transition: 0.3s;
            z-index: 2;
            opacity: 0;
        }
        .highlighted {
            border-bottom: 2px dashed var(--caret-color);
            border-top: 2px dashed var(--caret-color);
            border-radius: 2px;
        }
        .replacereplacecontainer, #replacebtn, #replacecontainer h3 {
            max-width: 500px;
            width: 100%;
        }
        #replacecontainer {
            display: flex;
            align-items: center;
            flex-direction: column;
        }
        .undolimitnum {
            padding: 10px;
            font-size: 1.1em;
            color: var(--black-color);
            background: transparent;
            border: 1px solid var(--rectangleborder);
            border-radius: 5px;
            outline: none;
        }
    </style>
</head>
<body>
  <!-- ☼ -->
    <div class="divcodeeditor-container sidebarenabled ceefbrlbd">
        <div class="sidebarbardiv">
            <h1>AIlury</h1>
            <button id="closemenuforsmallscreen" onclick="togglesidebarbuttonfunction()">← close Menu</button>
            <h3><span class="closefilesection" onclick="togglesidebarsec(this, 'sidebarlooksbtnssection')"><</span> look</h3>
            <div class="sidebarbardivbuttondiv sidebarlooksbtnssection">
                <button id="scrollviewintoviewbtn" onclick="scrollviewintoview()">view</button>
            </div>
            <div class="sidebarbardivbuttondiv sidebarlooksbtnssection">
                <button class="togglethemecontainerbtn" onclick="showthemeoverlay()">theme</button>
                <button class="toggleanimationcontainerbtn" onclick="showchooseanimationoverlay()">animations</button>
                <button class="togglelayoutcontainerbtn" id="sbtnpossettingsoverlay" onclick="showbtnpositionsettingsoverlay()">layout</button>
            </div>
            <h3><span class="closefilesection" onclick="togglesidebarsec(this, 'sidebarfuncbtnssection')"><</span> functions</h3>
            <div class="sidebarbardivbuttondiv sidebarfuncbtnssection">
                <button onclick="togglefilesettings()" class="showfilesettingsbtn" id="nontotfunctionbtn"><span>✎</span>file settings</button>
            </div>
            <div class="sidebarbardivbuttondiv sidebarfuncbtnssection">
                <button id="functionsbbdbdb" class="toggletimelinebtn" onclick="toggleTineline(this)"><span>◵</span>Timeline</button>
                <button id="functionsbbdbdb" class="consoletogglebtn Active" onclick="toggleConsole(this)"><span>▷</span>console</button>
            </div>
            <h3><span class="closefilesection" onclick="togglesidebarsec(this, 'sidebarfilebtnssection')"><</span> files</h3>
            <div class="sidebarbardivbuttondiv sidebarfilebtnssection">
                <button id="showallfilescontainerbtn" onclick="showallfilescontainer()">files</button>
                <button id="showalltemplatescontainerbtn" onclick="showalltemplatescontainer()">templates</button>
            </div>
            <div class="sidebarbardivbuttondiv sidebarbardivbuttondiv1 sidebarfilebtnssection">
                <h3 id="filesh3" class="maximizetogglebtn" onclick="hideexternalsidebar(this)"><span class="closefilesection">></span> <span id="toggleexternalsidebartext">maximize</span></h3>
                <button id="runCodeBtn" onclick="scrollviewintoview()">◀</button>
                <button id="sidebarfilelinklink0" class="sidebarfilelinklink currentfile" onclick="editthisfile('0', event)">index.html<div class="threedots">⋮</div></button>
                <button id="sidebarfilelinklink1" class="sidebarfilelinklink" onclick="editthisfile('1', event)">styles.css<div class="threedots">⋮</div></button>
                <button id="sidebarfilelinklink2" class="sidebarfilelinklink" onclick="editthisfile('2', event)">script.js<div class="threedots">⋮</div></button>
            </div>
            <div class="resizesidebarbar">></div>
            <div class="sidebarwidthdisplay">30vw</div>
        </div>
        <div class="allcontainer">
            <button class="togglesidebarbutton" onclick="togglesidebarbuttonfunction()">☰</button>
            <div class="container" id="container">
                <div class="section" id="section0">
                    <div class="editor-selected-line-btns">
                          <button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button><button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button><button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button><button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button><button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button><button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button><button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button><button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button><button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button><input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕ search"></div>
                    <div class="code-editor-container" id="linenumberingon">
                        <div id="1" class="code-editor-line" contenteditable="true"></div>
                    </div>
                    <div class="code-editor-btns">
                        <button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button><button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button><button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button><button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button><button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button><button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button><button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button><button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button><button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button><input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number">
                    </div>
                </div>
                <div class="section" id="section1">
                    <div class="editor-selected-line-btns">
                        <button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button><button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button><button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button><button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button><button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button><button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button><button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button><button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button><button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button><input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕ search">
                    </div>
                    <div class="code-editor-container" id="linenumberingon">
                        <div id="2" class="code-editor-line" contenteditable="true"></div>
                    </div>
                    <div class="code-editor-btns">
                        <button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button><button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button><button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button><button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button><button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button><button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button><button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button><button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button><button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button><input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number">
                    </div>
        
                </div>
                <div class="section" id="section2">
                    <div class="editor-selected-line-btns">
                        <button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button><button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button><button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button><button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button><button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button><button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button><button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button><button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button><button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button><input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕ search"></div>
                    <div class="code-editor-container" id="linenumberingon">
                        <div id="3" class="code-editor-line" contenteditable="true"></div>
                    </div>
                    <div class="code-editor-btns">
                        <button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button><button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button><button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button><button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button><button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button><button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button><button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button><button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button><button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button><input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number">
                    </div>
                </div>
                <div class="section viewcontainer" id="section3">
                    <button class="showconsolebtn" onclick="showconsoleconteiner()">▷</button>
                    <div class="swipe-container">
                        <div class="view">
                            <div class="mobile-container">
                                <div class="safari-header">
                                    <div class="safari-buttons">
                                        <div class="back-btn" onclick="cleariframe('mobile-frame')"></div>
                                    </div>
                                    <div class="url-bar">
                                        <input type="text" id="mobile-url-input" placeholder="file..." list="filenameoptions">
                                        <datalist id="filenameoptions">
                                            <option id="option0" value="index.html"></option>
                                            <option id="option1" value="styles.css"></option>
                                            <option id="option2" value="script.js"></option>
                                        </datalist>
                                    </div>
                                    <div class="action-btn" onclick="textCode('mobile-url-input', 'mobile-frame');createConfetti()">⌕</div>
                                </div>
                                <div class="iframe-container">
                                    <iframe id="mobile-frame" loading="lazy"></iframe>
                                </div>
                            </div>
                        </div>
                        <div class="view" id="view2">
                            <div class="browser-container">
                                <div class="browser-header">
                                    <div class="browser-buttons">
                                        <div class="close-btn" onclick="cleariframe('computer-frame')"></div>
                                        <div class="minimize-btn"></div>
                                        <div class="maximize-btn" onclick="toggleClass('.browser-container', 'fullscreen')"></div>
                                    </div>
                                    <div class="url-bar">
                                        <input type="text" id="computer-url-input" placeholder="file..." list="filenameoptions">
                                    </div>
                                    <div class="btn-group">
                                        <button onclick="textCode('computer-url-input', 'computer-frame');createConfetti()">run</button>
                                    </div>
                                </div>
                                <div class="iframe-container">
                                    <iframe id="computer-frame" loading="lazy"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="consoleconteiner">
                <div class="consoletopbar">
                    <span class="consoletitle">console</span>
                    <div class="consolebtncontainer">
                        <button class="consolebtn" id="clearconsole" onclick="clearconsole();changedeletebtn(this)">⌧</button>
                        <button class="consolebtn" id="closeconsole" onclick="hideelement('class', 'consoleconteiner', event)">×</button>
                    </div>
                </div>
                <div class="console">
            
                </div>
                <div class="consoleinputcontainer">
                    <label for="consoletextarea"><button class="consoletextarealabelbtn">▷</button></label>
                    <textarea class="consoletextarea" id="consoletextarea" name="consoletextarea" rows="1" cols="10" onkeydown="runcodeincurrentiframe(this, event)"></textarea>
                </div>
            </div>
        
            <div class="codesearchresults">
                no results
            </div>
        
            <div class="lineoptions">
                <button onclick="swipethislineleft()">←</button>
                <button onclick="closelineoptionscontainer()">×</button>
                <button onclick="swipethislineright()">→</button>
            </div>
        
            <!-- Navigation Bar -->
            <div class="nav-bar" id="nav-bar">
                <div data-index="0" class="nav-dot filedot navdot0" onclick="dotonclick()">
                    <input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="index.html">
                </div>
                <div data-index="1" class="nav-dot filedot navdot1" onclick="dotonclick()">
                    <input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="styles.css">
                </div>
                <div data-index="2" class="nav-dot filedot navdot2" onclick="dotonclick()">
                    <input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="script.js">
                </div>
                <div data-index="3" class="nav-dot navdot3" id="view-nav-dot" onclick="dotonclick()">
                    <input class="filePathInput" type="text" value="view" maxlength="20" oninput="viewbottominputoninput(this)">
                </div>
            </div>
            <button id="replayautoanimation" onclick="filecodereplay()">▶</button>
            <div id="timeline-container">
                <div id="timeline-line"></div>
            </div>
            <button id="scrolltopreviousfile" onclick="gotonextorpreviousfile('back')">←</button>
            <button id="scrolltonextfile" onclick="gotonextorpreviousfile('forward')">→</button>
            <div class="seccontainer">
                <div class="fileinfo">
                    <div class="oneinfoc">
                        <span>lines:</span>
                        <span id="fileinfolineamount">15</span>
                    </div>
                    <div class="oneinfoc">
                        <span>length:</span>
                        <span id="fileinfolengthnumber">15</span>
                    </div>
                    <div class="oneinfoc">
                        <span>file type:</span>
                        <span id="fileinfofiletype">html</span>
                    </div>
                    <div class="oneinfoc">
                        <span>font size:</span>
                        <input type="range" id="fontSizeSlider" oninput="updatefontsize(this)" min="0.5" max="2" step="0.1" value="1">
                    </div>
                </div>
                <div class="seccontainer-line-container">
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="pastbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">↺</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('undo')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="copybtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">□</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('copy')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="deletebtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⌧</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('delete')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="downbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">↓</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('movedown')">></button></div>
                    </div> 
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="upbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">↑</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('moveup')">></button></div>
                    </div> 
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="importantPinbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⚠</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('pin')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="sleapbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">☾</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('disable')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="unsleeplines" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">○</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('enable')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="code-search-input" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⌕</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('search')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="line-number-input" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⌕</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('teleport')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox commandsswitch" data-checked="showcommandlist-btn-element" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⌘</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('commands')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="trimbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">●</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('trim')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="rightbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">→</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('unfold')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="leftbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">←</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('unselect')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="removespacesleftbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">↤</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('removespaceleft')">></button></div>
                    </div>
                    <div class="seccontainer-line" id="search-check">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="addspacesleftbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">↦</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('addspaceleft')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="replaceaslbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⤻</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('replaceselectedlines')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-checked="replacealbtn" onchange="updatecheckboxed(this)" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"><button class="Symbol-Span">⤻</button><button class="cldeeditfunctionsettings" onclick="openfunctionsettings('replacealllines')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-update-id="linenumbering" onchange="updatelinenumbercheckbox(this)" checked>
                            <span class="slider"></span>
                        </label> line numbers
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-update-class="gridenabled" onchange="updategridenabledordisabledcheckbox(this)" id="enablegridcheckbox" checked>
                            <span class="slider"></span>
                        </label> <div class="symbolspancontainer"> grid <button class="cldeeditfunctionsettings" onclick="openfunctionsettings('grid')">></button></div>
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="switchbox" data-update-aceclass="autocompleteenabled" onchange="updateautocompleteenabledordisabledcheckbox(this)" checked>
                            <span class="slider"></span>
                        </label> suggestions
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="syntaxspaceienabledtoggleswitch" onchange="toggleClass('.divcodeeditor-container', 'syntaxspaceienabled')">
                            <span class="slider"></span>
                        </label> space indentation
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="wordselectswitch">
                            <span class="slider"></span>
                        </label> word select
                    </div>
                    <div class="seccontainer-line">
                        <label class="switch">
                            <input type="checkbox" class="zoomenabledbtn" onchange="toggleZoom(this)" checked>
                            <span class="slider"></span>
                        </label> zoom enabled
                    </div>
                </div>
                <div class="seccontainer-line" id="specialbtn" onclick="deleteAllEmptyLines()">
                    delete empty lines
                </div>
                <div class="seccontainer-line" id="specialbtn" onclick="deleteAllCommentsInLines()">
                    delete comments
                </div>
            </div>
            <div class="commandsoverlay-container" onclick="hideelement('class', 'commandsoverlay-container', event)">
                <div class="commandsdisplay-container">
                    <button class="closecommandoverlaybtn" onclick="hidecommandoverlay()">× close</button>
                    <br>
                    <h2>commands</h2>
                    <br>
                    <ul class="command-list cammandcommandlist">
                        <li><span class="command">/alert</span>  <button class="Symbol-Span">⚠</button></li>
                        <li><span class="command">/arrowbottomleft</span>  <button class="Symbol-Span">↙</button></li>
                        <li><span class="command">/arrowbottomright</span>  <button class="Symbol-Span">↘</button></li>
                        <li><span class="command">/arrowdown</span>  <button class="Symbol-Span">↓</button></li>
                        <li><span class="command">/arrowgoleft</span>  <button class="Symbol-Span">↤</button></li>
                        <li><span class="command">/arrowgoright</span>  <button class="Symbol-Span">↦</button></li>
                        <li><span class="command">/arrowleft</span>  <button class="Symbol-Span">←</button></li>
                        <li><span class="command">/arrowright</span>  <button class="Symbol-Span">→</button></li>
                        <li><span class="command">/arrowtopleft</span>  <button class="Symbol-Span">↖</button></li>
                        <li><span class="command">/arrowtopright</span>  <button class="Symbol-Span">↗</button></li>
                        <li><span class="command">/arrowup</span>  <button class="Symbol-Span">↑</button></li>
                        <li><span class="command">/bigspark</span>  <button class="Symbol-Span">✶</button></li>
                        <li><span class="command">/bottomleftedge</span>  <button class="Symbol-Span">◣</button></li>
                        <li><span class="command">/bottomrightedge</span>  <button class="Symbol-Span">◢</button></li>
                        <li><span class="command">/smallcheckmark</span>  <button class="Symbol-Span">✓</button></li>
                        <li><span class="command">/emptycircle</span>  <button class="Symbol-Span">◯</button></li>
                        <li><span class="command">/copyright</span>  <button class="Symbol-Span">©</button></li>
                        <li><span class="command">/bigcross</span>  <button class="Symbol-Span">✘</button></li>
                        <li><span class="command">/crossincirkle</span>  <button class="Symbol-Span">⊗</button></li>
                        <li><span class="command">/crossinsquare</span>  <button class="Symbol-Span">⌧</button></li>
                        <li><span class="command">/crossnotinsquare</span>  <button class="Symbol-Span">×</button></li>
                        <li><span class="command">/cutoutcircle</span>  <button class="Symbol-Span">◌</button></li>
                        <li><span class="command">/diamond</span>  <button class="Symbol-Span">◆</button></li>
                        <li><span class="command">/emptyspark</span>  <button class="Symbol-Span">✧</button></li>
                        <li><span class="command">/emptysquare</span>  <button class="Symbol-Span">□</button></li>
                        <li><span class="command">/emptystar</span>  <button class="Symbol-Span">☆</button></li>
                        <li><span class="command">/emptytriangleleft</span>  <button class="Symbol-Span">◁</button></li>
                        <li><span class="command">/emptytriangledown</span>  <button class="Symbol-Span">▽</button></li>
                        <li><span class="command">/emptytriangleright</span>  <button class="Symbol-Span">▷</button></li>
                        <li><span class="command">/emptytriangletop</span>  <button class="Symbol-Span">△</button></li>
                        <li><span class="command">/filledcircle</span>  <button class="Symbol-Span">●</button></li>
                        <li><span class="command">/heart</span>  <button class="Symbol-Span">♥</button></li>
                        <li><span class="command">/infinite</span>  <button class="Symbol-Span">∞</button></li>
                        <li><span class="command">/magnifyingglass</span>  <button class="Symbol-Span">⌕</button></li>
                        <li><span class="command">/minus</span>  <button class="Symbol-Span">-</button></li>
                        <li><span class="command">/moonleft</span>  <button class="Symbol-Span">☽</button></li>
                        <li><span class="command">/moonright</span>  <button class="Symbol-Span">☾</button></li>
                        <li><span class="command">/movable</span>  <button class="Symbol-Span">✣</button></li>
                        <li><span class="command">/eighthnote</span>  <button class="Symbol-Span">♪</button></li>
                        <li><span class="command">/beamednote</span>  <button class="Symbol-Span">♫</button></li>
                        <li><span class="command">/chordsymbol</span>  <button class="Symbol-Span">♬</button></li>
                        <li><span class="command">/quarter note</span>  <button class="Symbol-Span">♩</button></li>
                        <li><span class="command">/paperplane</span>  <button class="Symbol-Span">➤</button></li>
                        <li><span class="command">/pencil</span>  <button class="Symbol-Span">✎</button></li>
                        <li><span class="command">/plus</span>  <button class="Symbol-Span">+</button></li>
                        <li><span class="command">/refreshright</span>  <button class="Symbol-Span">↻</button></li>
                        <li><span class="command">/refreshleft</span>  <button class="Symbol-Span">↺</button></li>
                        <li><span class="command">/registered</span>  <button class="Symbol-Span">®</button></li>
                        <li><span class="command">/sidebar</span>  <button class="Symbol-Span">≡</button></li>
                        <li><span class="command">/smallcross</span>  <button class="Symbol-Span">×</button></li>
                        <li><span class="command">/filledspark</span>  <button class="Symbol-Span">✦</button></li>
                        <li><span class="command">/filledsquare</span>  <button class="Symbol-Span">■</button></li>
                        <li><span class="command">/filledstar</span>  <button class="Symbol-Span">★</button></li>
                        <li><span class="command">/sun</span>  <button class="Symbol-Span">☼</button></li>
                        <li><span class="command">/toprightedge</span>  <button class="Symbol-Span">◥</button></li>
                        <li><span class="command">/topleftedge</span>  <button class="Symbol-Span">◤</button></li>
                        <li><span class="command">/trademark</span>  <button class="Symbol-Span">™</button></li>
                        <li><span class="command">/triangleleft</span>  <button class="Symbol-Span">◀</button></li>
                        <li><span class="command">/triangleright</span>  <button class="Symbol-Span">▶</button></li>
                        <li><span class="command">/triangledown</span>  <button class="Symbol-Span">▼</button></li>
                        <li><span class="command">/triangletop</span>  <button class="Symbol-Span">▲</button></li>
                        <li><span class="command">/updownleftarrow</span>  <button class="Symbol-Span">↵</button></li>
                    </ul>
                    <br>
                    <h2>short-cuts</h2>
                    <br>
                    <ul class="command-list shortcutcommandlist">
                        <li><span class="command">/:func</span>  <button class="Symbol-Span">function</button></li>
                        <li><span class="command">/:if</span>  <button class="Symbol-Span">if statement</button></li>
                        <li><span class="command">/:for</span>  <button class="Symbol-Span">for loop</button></li>
                        <li><span class="command">/:try</span>  <button class="Symbol-Span">try catch</button></li>
                        <li><span class="command">/:div</span>  <button class="Symbol-Span">division tag</button></li>
                        <li><span class="command">/:btn</span>  <button class="Symbol-Span">button tag</button></li>
                        <li><span class="command">/:span</span>  <button class="Symbol-Span">span tag</button></li>
                        <li><span class="command">/:image</span>  <button class="Symbol-Span">image tag</button></li>
                        <li><span class="command">/:p</span>  <button class="Symbol-Span">p tag</button></li>
                        <li><span class="command">/:h1</span>  <button class="Symbol-Span">h1 tag</button></li>
                        <li><span class="command">/:h2</span>  <button class="Symbol-Span">h2 tag</button></li>
                        <li><span class="command">/:h3</span>  <button class="Symbol-Span">h3 tag</button></li>
                        <li><span class="command">/:h4</span>  <button class="Symbol-Span">h4 tag</button></li>
                        <li><span class="command">/:h5</span>  <button class="Symbol-Span">h5 tag</button></li>
                        <li><span class="command">/:h6</span>  <button class="Symbol-Span">h6 tag</button></li>
                        <li><span class="command">/:at</span>  <button class="Symbol-Span">a tag</button></li>
                        <li><span class="command">/:ul</span>  <button class="Symbol-Span">ul tag</button></li>
                        <li><span class="command">/:li</span>  <button class="Symbol-Span">li tag</button></li>
                        <li><span class="command">/:ol</span>  <button class="Symbol-Span">ol tag</button></li>
                        <li><span class="command">/:table</span>  <button class="Symbol-Span">table tag</button></li>
                        <li><span class="command">/:tr</span>  <button class="Symbol-Span">tr tag</button></li>
                        <li><span class="command">/:td</span>  <button class="Symbol-Span">td tag</button></li>
                        <li><span class="command">/:th</span>  <button class="Symbol-Span">th tag</button></li>
                        <li><span class="command">/:input</span>  <button class="Symbol-Span">input tag</button></li>
                        <li><span class="command">/:form</span>  <button class="Symbol-Span">form tag</button></li>
                        <li><span class="command">/:label</span>  <button class="Symbol-Span">label tag</button></li>
                        <li><span class="command">/:iframe</span>  <button class="Symbol-Span">iframe tag</button></li>
                        <li><span class="command">/:nav</span>  <button class="Symbol-Span">nav tag</button></li>
                        <li><span class="command">/:header</span>  <button class="Symbol-Span">header tag</button></li>
                        <li><span class="command">/:footer</span>  <button class="Symbol-Span">footer tag</button></li>
                        <li><span class="command">/:sec</span>  <button class="Symbol-Span">sec tag</button></li>
                        <li><span class="command">/:article</span>  <button class="Symbol-Span">article tag</button></li>
                        <li><span class="command">/:aside</span>  <button class="Symbol-Span">aside tag</button></li>
                        <li><span class="command">/:main</span>  <button class="Symbol-Span">main tag</button></li>
                    </ul>
                </div>
            </div>
            <div class="singsoverlay-container" onclick="hideelement('class', 'singsoverlay-container', event)">
                <div class="topandbottomsignsdisplay-container">
                    <button class="closecommandoverlaybtn" onclick="hidesignexplenationoverlay()">× close</button>
                    <br>
                    <h2>top - (selected)</h2>
                    <br>
                    <ul class="command-list">
                        <li><button class="Symbol-Span">↺</button><span class="symbolsignspan">Undo previous action</span></li>
                        <li><button class="Symbol-Span">⌧</button><span class="symbolsignspan">Delete</span></li>
                        <li><button class="Symbol-Span">⚠</button><span class="symbolsignspan">highlight</span></li>
                        <li><button class="Symbol-Span">↑</button><span class="symbolsignspan">Move up</span></li>
                        <li><button class="Symbol-Span">↓</button><span class="symbolsignspan">Move down</span></li>
                        <li><button class="Symbol-Span">☾</button><span class="symbolsignspan">Disable</span></li>
                        <li><button class="Symbol-Span">□</button><span class="symbolsignspan">Copy text Content</span></li>
                        <li><button class="Symbol-Span">●</button><span class="symbolsignspan">Trim text Content</span></li>
                        <li><button class="Symbol-Span">↤</button><span class="symbolsignspan">remove space Left</span></li>
                        <li><button class="Symbol-Span">↦</button><span class="symbolsignspan">add space Left</span></li>
                        <li><button class="Symbol-Span">⤻</button><span class="symbolsignspan">replace</span></li>
                        <li><button class="Symbol-Span">⌕</button><span class="symbolsignspan">Code Search</span></li>
                    </ul>
                    <br>
                    <h2>bottom - (all)</h2>
                    <br>
                    <ul class="command-list"><li><button class="Symbol-Span">⌧</button><span class="symbolsignspan">Delete</span></li>
                        <li><button class="Symbol-Span">⚠</button><span class="symbolsignspan">Unpin</span></li>
                        <li><button class="Symbol-Span">←</button><span class="symbolsignspan">Unselect</span></li>
                        <li><button class="Symbol-Span">→</button><span class="symbolsignspan">Unfold</span></li>
                        <li><button class="Symbol-Span">○</button><span class="symbolsignspan">Enable</span></li>
                        <li><button class="Symbol-Span">□</button><span class="symbolsignspan">Copy</span></li>
                        <li><button class="Symbol-Span">⌘</button><span class="symbolsignspan">Commands</span></li>
                        <li><button class="Symbol-Span">⤻</button><span class="symbolsignspan">replace</span></li>
                        <li><button class="Symbol-Span">⌕</button><span class="symbolsignspan">Teleport</span></li>
                    </ul>
                </div>
            </div>
            <div class="closeviewthisfilebtn" onclick="closeviewthisfile()">×</div>
            <div class="overlay-container" onclick="hideelement('class', 'overlay-container', event, 'filesoverlay')">
                <!-- Content Container (mit Top Bar drin) -->
                <div class="content-container">
                    <!-- Top Bar -->
                    <div class="top-bar">
                        <button class="overlay-back-btn" onclick="hideelement('class', 'overlay-container', event, 'filesoverlay')">×</button>
                        <button class="overlay-close-btn" onclick="hideelement('class', 'overlay-container', event, 'filesoverlay')">close</button>
                        <input type="file" id="fileInput" style="display: none;" accept=".txt, .css, .js, .html, image/*" multiple>
                        <button onclick="clickthiselement('#fileInput')" class="upload-btn">upload</button>
                        <button class="viewthisfile" onclick="viewthisfile()">view</button>
                        <button class="create-file-btn" onclick="requestcreatenewfile()">+</button>
                    </div>
                    <div class="searchforafilename-container"><input type="text" oninput="searchforafile(this)" placeholder="search..." class="searchforafilename"><button class="searchforafilenamereadybtn" onclick="filesearchready(this)">ready</button></div>
        
                    <!-- Rechtecke (Inhalt) -->
        
                    <div class="rectangle" id="rectangle0" onclick="editthisfile('0', event)">
                        <span class="notclickable">index.html</span>
                        <div class="rectangle-buttons">
                            <button class="edit-btn">≡</button>
                        </div>
                        <button class="close">×</button>
                    </div>
                    <div class="rectangle" id="rectangle1" onclick="editthisfile('1', event)">
                        <span class="notclickable">styles.css</span>
                        <div class="rectangle-buttons">
                            <button class="edit-btn">≡</button>
                        </div>
                        <button class="close">×</button>
                    </div>
                    <div class="rectangle" id="rectangle2" onclick="editthisfile('2', event)">
                        <span class="notclickable">script.js</span>
                        <div class="rectangle-buttons">
                            <button class="edit-btn">≡</button>
                        </div>
                        <button class="close">×</button>
                    </div>
                    <div class="rectangle" id="image-rectangle" data-name="Image" data-type="png" style="background-image: url(Image.png); background-size: cover; background-position: center;">
                        <span class="image-name">Image.png</span>
                        <div class="rectangle-buttons">
                            <button class="download-btn">Download</button>
                            <button class="delete-btn" onclick="deleteImage(this)">Delete</button>
                        </div>
                        <button class="close">×</button>
                    </div>
                </div>
            </div>
            <div class="overlay5-container" onclick="hideelement('class', 'overlay5-container', event, 'templatesoverlay')">
                <!-- Content Container (mit Top Bar drin) -->
                <div class="content5-container">
                    <!-- Top Bar -->
                    <div class="top5-bar">
                        <button class="overlay5-back-btn" onclick="hideelement('class', 'overlay5-container', event, 'templatesoverlay')">×</button>
                        <button class="overlay5-close-btn" onclick="hideelement('class', 'overlay5-container', event, 'templatesoverlay')">close</button>
                        <button class="create-file-btn" onclick="requestcreatenewfile()">add file</button>
                    </div>
                </div>
            </div>
            <div id="theme-overlay" class="theme-overlay" onclick="hideelement('class', 'theme-overlay', event)">
                <div class="theme-option-container">
                    <button class="closecommandoverlaybtn" onclick="hidethemeoverlay()">× close</button>
                    <h3>theme</h3>
                    <br>
                    <div class="themeoption" onclick="removeallthemes()">
                        <span class="switchtothememaincolorspan" style="background: linear-gradient(to right, #F2F2F7, #0d1117);"></span>
                        <span class="switchtothemetitlespan">none</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('enhanceddefaultdark-theme')">
                        <span class="switchtothememaincolorspan" style="background: linear-gradient(to right, #0156CD, #020615);"></span>
                        <span class="switchtothemetitlespan">enhanced dark</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('dark-theme')"><span class="switchtothememaincolorspan" style="background: #011D57"></span><span class="switchtothemetitlespan">dark</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('light-theme')">
                        <span class="switchtothememaincolorspan" style="background: #E8EAEE"></span>
                        <span class="switchtothemetitlespan">light</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('gray-theme')">
                        <span class="switchtothememaincolorspan" style="background: #393A43"></span>
                        <span class="switchtothemetitlespan">gray</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('vintage-theme')">
                        <span class="switchtothememaincolorspan" style="background: gray"></span>
                        <span class="switchtothemetitlespan">vintage</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('candy-theme')">
                        <span class="switchtothememaincolorspan" style="background: lightpink"></span>
                        <span class="switchtothemetitlespan">candy</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('green-theme')">
                        <span class="switchtothememaincolorspan" style="background: green"></span>
                        <span class="switchtothemetitlespan">green</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('red-theme')">
                        <span class="switchtothememaincolorspan" style="background: red"></span>
                        <span class="switchtothemetitlespan">red</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('lightblue-theme')">
                        <span class="switchtothememaincolorspan" style="background: lightblue"></span>
                        <span class="switchtothemetitlespan">light blue</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('darkpurple-theme')">
                        <span class="switchtothememaincolorspan" style="background: #5C2D91"></span>
                        <span class="switchtothemetitlespan">dark purple</span>
                    </div>
                    <div class="themeoption" onclick="switchtotheme('lightyellow-theme')">
                        <span class="switchtothememaincolorspan" style="background: yellow"></span>
                        <span class="switchtothemetitlespan">light yellow</span>
                    </div>
                    <div class="themeoption2" id="customthemeoption" onclick="switchtotheme('custom-theme')">
                        <div class="themeoption customtextthemeoption">
                            <span class="switchtothememaincolorspan" style="background: var(--switchcheckedbackground-color)"></span>
                            <span class="switchtothemetitlespan">custom</span></div>
                        <div class="colorselectorcontainer">
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="backgroundColor" value="#0d1117" onchange="updateBackgroundColor()">
                            <span class="switchtothemetitlespan">background</span>
                            <input type="range" id="backgroundAlpha" min="0" max="100" value="100" onchange="updateBackgroundColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="accentColor" value="#161b22" onchange="updateaccentColor()">
                            <span class="switchtothemetitlespan">accent color</span>
                            <input type="range" id="accentAlpha" min="0" max="100" value="100" onchange="updateaccentColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="selectedColor" value="#28A745" onchange="updateSelectedColor()">
                            <span class="switchtothemetitlespan">special color</span>
                            <input type="range" id="selectedAlpha" min="0" max="100" value="50" onchange="updateSelectedColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="colorColor" value="#ffffff" onchange="updateColorColor()">
                            <span class="switchtothemetitlespan">text color</span>
                            <input type="range" id="colorAlpha" min="0" max="100" value="100" onchange="updateColorColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="rectangleBorderColor" value="#161b22" onchange="updateRectangleBorderColor()">
                            <span class="switchtothemetitlespan">borders</span>
                            <input type="range" id="rectangleBorderAlpha" min="0" max="100" value="100" onchange="updateRectangleBorderColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="switchCheckedBackgroundColor" value="#0156CD" onchange="updateSwitchCheckedBackgroundColor()">
                            <span class="switchtothemetitlespan">secondary color</span>
                            <input type="range" id="switchCheckedAlpha" min="0" max="100" value="100" onchange="updateSwitchCheckedBackgroundColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="codeeditoreditbtncolor" value="#ffffff" onchange="updatecodeeditoreditbtncolor()">
                            <span class="switchtothemetitlespan">functions</span>
                            <input type="range" id="codeeditoreditbtncolorAlpha" min="0" max="100" value="100" onchange="updatecodeeditoreditbtncolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="loadingBarLoadedBackgroundColor" value="#0156CD" onchange="updateLoadingBarLoadedBackgroundColor()">
                            <span class="switchtothemetitlespan">loading bar</span>
                            <input type="range" id="loadingBarLoadedAlpha" min="0" max="100" value="100" onchange="updateLoadingBarLoadedBackgroundColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="rectangleColorColor" value="#0156CD" onchange="updateRectangleColorColor()">
                            <span class="switchtothemetitlespan">file container path</span>
                            <input type="range" id="rectangleColorAlpha" min="0" max="100" value="100" onchange="updateRectangleColorColor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="gridColor" value="#ffffff" onchange="updategridColorColor()">
                            <span class="switchtothemetitlespan">grid</span>
                            <input type="range" id="gridColorAlpha" min="0" max="100" value="10" onchange="updategridColorColor()">
                        </div>
                        <br>
                        <h3>syntax</h3>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxblockcolor" value="#C678DD" onchange="updatesyntaxblockcolor()">
                            <span class="switchtothemetitlespan">block</span>
                            <input type="range" id="syntaxblockcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxblockcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxoperatorcolor" value="#E06C75" onchange="updatesyntaxoperatorcolor()">
                            <span class="switchtothemetitlespan">operator</span>
                            <input type="range" id="syntaxoperatorcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxoperatorcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxbracketcolor" value="#ABB2BF" onchange="updatesyntaxbracketcolor()">
                            <span class="switchtothemetitlespan">bracket</span>
                            <input type="range" id="syntaxbracketcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxbracketcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxsigncolor" value="#ABB2BF" onchange="updatesyntaxsigncolor()">
                            <span class="switchtothemetitlespan">sign</span>
                            <input type="range" id="syntaxsigncolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxsigncolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxstringcolor" value="#98C379" onchange="updatesyntaxstringcolor()">
                            <span class="switchtothemetitlespan">string</span>
                            <input type="range" id="syntaxstringcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxstringcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxnumbercolor" value="#D19A66" onchange="updatesyntaxnumbercolor()">
                            <span class="switchtothemetitlespan">number</span>
                            <input type="range" id="syntaxnumbercolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxnumbercolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxcommentcolor" value="#5C6370" onchange="updatesyntaxcommentcolor()">
                            <span class="switchtothemetitlespan">comment</span>
                            <input type="range" id="syntaxcommentcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxcommentcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxvariablecolor" value="#61AFEF" onchange="updatesyntaxvariablecolor()">
                            <span class="switchtothemetitlespan">variable</span>
                            <input type="range" id="syntaxvariablecolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxvariablecolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxcommandcolor" value="#E5C07B" onchange="updatesyntaxcommandcolor()">
                            <span class="switchtothemetitlespan">command</span>
                            <input type="range" id="syntaxcommandcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxcommandcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxkeywordcolor" value="#C678DD" onchange="updatesyntaxkeywordcolor()">
                            <span class="switchtothemetitlespan">keyword</span>
                            <input type="range" id="syntaxkeywordcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxkeywordcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxhtmlcommentcolor" value="#5C6370" onchange="updatesyntaxhtmlcommentcolor()">
                            <span class="switchtothemetitlespan">html comment</span>
                            <input type="range" id="syntaxhtmlcommentcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxhtmlcommentcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxregexcolor" value="#E06C75" onchange="updatesyntaxregexcolor()">
                            <span class="switchtothemetitlespan">regex</span>
                            <input type="range" id="syntaxregexcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxregexcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="switchtothememaincolorspan2" type="color" id="syntaxhtmltagcontentcolor" value="#ffffff" onchange="updatesyntaxhtmltagcontentcolor()">
                            <span class="switchtothemetitlespan">tag name</span>
                            <input type="range" id="syntaxhtmltagcontentcolorAlpha" min="0" max="100" value="100" onchange="updatesyntaxhtmltagcontentcolor()">
                        </div>
                        <br>
                        <div class="themeoption">
                            <input class="customthemecodeinput" type="text" id="customthemecodeinput" onkeydown="themeinputonkeydownforenetr(event)" placeholder="enter your theme code...">
                        </div>
                        <button onclick="addcustomthemetoallthemes()">add new theme</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="testregexoverlay" class="testregexoverlay" onclick="hideelement('class', 'testregexoverlay', event)">
                <div id="testregexcontainer" class="testregexcontainer">
                    <button class="closecommandoverlaybtn" onclick="hidetestregexoverlay()">× close</button>
                    <br>
                    <h3>regex</h3>
                    <br>
                    <div class="testregexregexcontainer">
                        <label for="testregexinput">source:</label>
                        <input type="text" id="testregexinput" placeholder="e.g. \b\w+@\w+\.\w+\b">
        
                        <label for="testregexflagsinput">flags:</label>
                        <input type="text" id="testregexflagsinput" placeholder="e.g. g, i, m">
                    </div>
        
                    <label for="testString">Test String:</label>
                    <textarea id="testString" rows="5" maxlength="500" placeholder="Type a string to test your regex...">abc123-xyz!@#2025-01-01 https://www.example.com user@example.com 123-456-7890 +?* "\n\t"  @#$%^&*()</textarea>
        
                    <button id="testButton">Test Your Regex</button>
        
                    <div class="testregexresults" id="testregexresults">
                        <strong>Results:</strong>
                        <div id="testregexoutput">Your results will appear here.</div>
                    </div>
                    <div class="testregexshowresults" id="testregexshowresults">
                        <strong>Text results:</strong>
                        <div id="testregexshowoutput">Your matches will appear here.</div>
                    </div>
                    
                    <button id="useButton">Use Regex</button>
                </div>
            </div>
            <div id="replaceoverlay" class="replaceoverlay" onclick="hideelement('class', 'replaceoverlay', event)">
                <div id="replacecontainer" class="replacecontainer">
                    <button class="closecommandoverlaybtn" onclick="hidereplaceoverlay()">× close</button>
                    <br>
                    <h3>replace all</h3>
                    <br>
                    <div class="replacereplacecontainer">
                        <select id="replaceoptions">
                            <option value="1">regex</option>
                            <option value="2" selected>text</option>
                        </select>
                        <label for="replaceinput">replace:</label>
                        <input type="text" id="replaceinput" placeholder="this text">
                        <div class="replaceorderarrowcontainer"><button>↓</button></div>
                        <label for="replacementinput">with:</label>
                        <input type="text" id="replacementinput" placeholder="this text">
                    </div>
                    <button id="replacebtn" onclick="replacetext('replaceinput', 'replacementinput')">replace</button>
                </div>
            </div>
            <div id="chooseanimationoverlay" class="chooseanimationoverlay" onclick="hideelement('class', 'chooseanimationoverlay', event)">
                <div id="chooseanimationcontainer" class="chooseanimationcontainer">
                    <button class="closecommandoverlaybtn" onclick="hidechooseanimationoverlay()">× close</button>
                    <br>
                    <h3>Animation</h3>
                    <br>
                    <div class="chooseanimationexamplecontainer">
                        <div class="caexample caexample1 selectedanimation" onclick="chengeanimation(this, 'swipe')"><button></button></div>
                        <div class="caexample caexample2" onclick="chengeanimation(this, 'ease')"><button></button></div>
                        <div class="caexample caexample3" onclick="chengeanimation(this, 'roll')"><button></button></div>
                        <div class="caexample caexample4" onclick="chengeanimation(this, 'pop')"><button></button></div>
                        <div class="caexample caexample5" onclick="chengeanimation(this, 'none')"><button></button></div>
                    </div>
                </div>
            </div>
            <div id="chooseceebtnposoverlay" class="chooseceebtnposoverlay" onclick="hideelement('class', 'chooseceebtnposoverlay', event)">
                <div id="chooseceebtnposcontainer" class="chooseceebtnposcontainer">
                    <button class="closecommandoverlaybtn" onclick="hidebtnpositionsettingsoverlay()">× close</button>
                    <br>
                    <h3>button position</h3>
                    <br>
                    <div class="chooseceebtnposopcontainer">
                        <div class="chooseceebtnposopcontainerswitchcontainer ifislandenableddisablethis">
                            <label class="switch">
                                <input type="checkbox" data-checked="chooseceebtnposopcontainerswitchcontainer" onchange="toggleceefbrlbd(this)">
                                <span class="slider"></span>
                            </label>
                            <span class="chooseceebtnposopcontainerswitchcontainername">borders</span>
                        </div>
                        <div class="chooseceebtnposopcontainerswitchcontainer ifborderenableddisablethis">
                            <label class="switch">
                                <input type="checkbox" data-checked="chooseceebtnposopcontainerswitchcontainer" onchange="togglecebtnislands(this)">
                                <span class="slider"></span>
                            </label>
                            <span class="chooseceebtnposopcontainerswitchcontainername">islands</span>
                        </div>
                        <div class="ceebtnposexample ceebtnposexampleselected" id="ceebtnposexample0" onclick="switchtobtnlayout('0', this)">
                            <span></span>
                            <span>code</span>
                            <span></span>
                        </div>
                        <div class="ceebtnposexample" id="ceebtnposexample1" onclick="switchtobtnlayout('1', this)">
                            <span></span>
                            <div>
                                <span></span>
                                <span>code</span>
                            </div>
                        </div>
                        <div class="ceebtnposexample" id="ceebtnposexample2" onclick="switchtobtnlayout('2', this)">
                            <div>
                                <span>code</span>
                                <span></span>
                            </div>
                            <span></span>
                        </div>
                        <div class="ceebtnposexample" id="ceebtnposexample3" onclick="switchtobtnlayout('3', this)">
                            <span></span>
                            <span>code</span>
                            <span></span>
                        </div>
                        <div class="ceebtnposexample" id="ceebtnposexample4" onclick="switchtobtnlayout('4', this)">
                            <span></span>
                            <span></span>
                            <span>code</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="codefunctionssettingsoverlay" class="codefunctionssettingsoverlay" onclick="hideelement('class', 'codefunctionssettingsoverlay', event)">
                <div id="codefunctionssettingscontainer" class="codefunctionssettingscontainer">
                    <button class="closecommandoverlaybtn" onclick="hidecodefunctionssettingsoverlay()">× close</button>
                    <br>
                    <h3 class="cfsch3">(function name)</h3>
                    <br>
                    <div class="cfscsc">
                        <h2 class="cfsch2">description</h2>
                        <div class="cfsinfo cfscscfdes"></div>
                        <h2 class="cfscscmoveup cfscscmovedown cfscscf cfscscmoveuplabel cfsch2">jump size</h2>
                        <h2 class="cfscscremovespaceleft cfscscaddspaceleft cfscscf cfscscremovespaceleftlabel cfscscaddspaceleftlabel cfsch2">Amount of spaces</h2>
                        <div class="cfscscmoveup cfscscmovedown cfscscremovespaceleft cfscscaddspaceleft cfscscf cfscounter"><span class="cfscountervalue">1</span><div class="cfscounterbtnc"><button class="cfscounteradd">+</button><button class="cfscounterremove">-</button></div></div>
                        <div class="cfscscpin cfscscf pinedlinestopsearchresult">
                            <label class="switch">
                                <input type="checkbox" data-checked="pinedlinestopsearchresult" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname">pined lines are top search results</span>
                        </div>
                        <h2 class="cfscscpin cfscscf cfscscpinlabel cfsch2">all pined lines</h2>
                        <div class="cfscscpin cfscscf unpinlinesmanuallyorteleport">
                            no pined lines yet
                        </div>
                        <div class="cfscsccommands cfscscf commandassuggestion">
                            <label class="switch">
                                <input type="checkbox" data-checked="commandassuggestion" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname">cammands in suggestions</span>
                        </div>
                        <button class="cfscsccommands cfscscf addcommandbtn" id="addcommandbtn" onclick="addacommand()">add a command</button>
                        <div class="cfscsccommands cfscscf createcommandcontainer">
                            no custom commands yet
                        </div>
                        <button class="cfscsccommands cfscscf addshortcutbtn" id="addshortcutbtn" onclick="addashortcut()">add a short-cut</button>
                        <div class="cfscsccommands cfscscf createshortcutcontainer">
                            no custom short-cuts yet
                        </div>
                        <h2 class="cfscscgrid cfscscf cfscscgridlabel cfsch2">grid options</h2>
                        <div class="cfscscgrid cfscscf gridoptions">
                            <div class="gridop gridop1 cyselected" onclick="selectthisgrid(this)"></div>
                            <div class="gridop gridop2" onclick="selectthisgrid(this)"></div>
                            <div class="gridop gridop3" onclick="selectthisgrid(this)"></div>
                            <div class="gridop gridop4" onclick="selectthisgrid(this)"></div>
                            <div class="gridop gridop5" onclick="selectthisgrid(this)"></div>
                            <div class="gridop gridop6" onclick="selectthisgrid(this)"></div>
                        </div>
                        <div class="cfscscsearch cfscscf commandforregexsearch">
                            <label class="switch">
                                <input type="checkbox" data-checked="commandforregexsearch" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname commandtosearchregexswitchtext">/r to search with regex</span>
                        </div>
                        <input type="text" class="cfscscsearch cfscscf commandtosearchregex" oninput="changecommandtosearchregexswitchtext(this)" value="/r">
                        <div class="cfscscsearch cfscscf linenumberforsearchresult">
                            <label class="switch">
                                <input type="checkbox" data-checked="linenumberforsearchresult">
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname linenumberforsearchresultswitchtext">show line numbers in search results</span>
                        </div>
                        <div class="cfscscdelete cfscscf onlydeletelinecontent">
                            <label class="switch">
                                <input type="checkbox" data-checked="onlydeletelinecontent">
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname">only delete lines content</span>
                        </div>
                        <h2 class="cfscscdelete cfscscf cfscscdeletelabel cfsch2">All selected lines in this File</h2>
                        <div class="cfscscdelete cfscscf deleteselectedlinesmanually">
                            
                        </div>
                        <h2 class="cfscsccopy cfscscf cfscsccopylabel cfsch2">AIlury Clipboard</h2>
                        <div class="cfscsccopy cfscscf addfullcodecopytoclipboardpast">
                            <label class="switch">
                                <input type="checkbox" data-checked="addfullcodecopytoclipboardpast">
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname addfullcodecopytoclipboardpastswitchtext">add full code copy to clipboard past</span>
                        </div>
                        <button class="cfscsccopy cfscscf clearclipboardbtn" id="clearclipboardbtn" onclick="clearclipboard()">clear clipboard</button>
                        <div class="cfscsccopy cfscscf copiedtexthistory">
                            nothing has been copied yet
                        </div>
                        <h2 class="cfscscunselect cfscscf cfscscselectedlabel cfsch2">All selected lines</h2>
                        <div class="cfscscunselect cfscscf unselectlinesmanually">
                            no lines selected
                        </div>
                        <h2 class="cfscscenable cfscscdisable cfscscf cfscscenabledlabel cfsch2">all disabled lines</h2>
                        <div class="cfscscenable cfscscdisable cfscscf enabledisabledlonesmanually">
                            no disabled lines yet
                        </div>
                        <div class="cfscscundo cfscscf undoanimation">
                            <label class="switch">
                                <input type="checkbox" data-checked="undoanimation" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname">undo button animation</span>
                        </div>
                        
                        <div class="cfscscundo cfscscf undolimit">
                            <label class="switch">
                                <input type="checkbox" data-checked="undolimit" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="cfscscswitchdesname">undo limit</span>
                        </div>
                        <select name="undolimitnum" class="cfscscundo cfscscf undolimitnum">
                            <option value="5">5× limit</option>
                            <option value="10">10× limit</option>
                            <option value="20">20× limit</option>
                            <option value="30">30× limit</option>
                            <option value="40">40× limit</option>
                            <option value="50" selected>50× limit</option>
                            <option value="60">60× limit</option>
                            <option value="80">80× limit</option>
                            <option value="100">100× limit</option>
                            <option value="150">150× limit</option>
                        </select>
                        <button class="cfscscundo cfscscf clearpasttoundobtn" id="clearpasttoundobtn" onclick="clearpasttoundo()">clear file past</button>
                    </div>
                </div>
            </div>
            <div id="custom-overlay" style="display: none;">
                <div id="custom-dialog">
                    <span id="close-dialog">&times;</span>
                    <p id="custom-message"></p>
                    <div id="prompt-input-container" style="display: none;">
                        <input type="text" id="custom-input" maxlength="250" placeholder="Enter a value">
                        <div id="prompt-options"></div>
                        <button id="submit-prompt">Submit</button>
                    </div>
                    <button id="close-alert">OK</button>
                </div>
            </div>
            <div class="timeinputoverlay" style="display: none;">
                <div class="timeinputcontainer">
                    <span id="closetimeinputoverlay" onclick="closetimeinputoverlay()">&times;</span>
                    <p id="timeinputdtext" class="timeinputdtext"></p>
                    <div class="Tscontainer">
                        <div class="scroll-picker" id="hourPicker"></div>
                        <span id="Tscspan">:</span>
                        <div class="scroll-picker" id="minutePicker"></div>
                    </div>
                    <button class="submitTimeButton">start</button>
                </div>
            </div>
            <div id="overlay">
                <div class="progress-bar-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="checkmark" id="checkmark">✓</div>
                <div class="progress-text" id="progress-text">Analyzing</div>
            </div>
        </div>
        <div class="showFontSizeResize"></div>
    </div>
    <div class="notificationmessage">
        <span class="messagespan" onclick="hidenotificationmessage()">message</span><button class="confirmationbtn">ok</button>
    </div>
    <div class="userregulationsandconditionsoverlay">
        <div class="userregulationsandconditions">
            <h2>Terms and Conditions of Use for AIlury Studio</h2>
            
            <ul>
                <li><strong>Definition of “You” and “We”:</strong> “We” refers to the operators and owners of AIlury Studio. “You” refers to any individual or entity accessing, using, or interacting with this service — whether directly, through another service, program, automated system, third-party tool, or by any other means. Your actions, whether manual or automated, are fully attributed to you as the user, and you bear sole responsibility for any resulting consequences. Use of the service through indirect methods does not exempt you from compliance with these terms.</li>
            </ul>
            <p>By using AIlury Studio, you agree to the following terms and conditions:</p>
            <ul>
                <li><strong>No Hacking:</strong> You are prohibited from attempting to hack or gain unauthorized access to the platform or any part of the website.</li>
                <li><strong>No Exploiting Bugs:</strong> You must not exploit any bugs, vulnerabilities, or weaknesses in the platform for personal gain or to disrupt the service.</li>
                <li><strong>No Accessing Source Code:</strong> You are not allowed to access, modify, or attempt to reverse-engineer the platform’s source code.</li>
                <li><strong>No Malicious Activity:</strong> Uploading, writing, pasting, crearing or running malicious code, scripts, or programs that can harm or disrupt the platform is strictly prohibited.</li>
                <li><strong>Responsibility:</strong> You are responsible for any code you create, paste, upload, write and run using this website.</li>
            </ul>
            
            <p>Do you accept all terms and conditions? By using the code editor, you accept these terms and conditions by default. Accessing or manipulating this platform through a separate program also constitutes acceptance of these terms.</p>
            
            <button onclick="hideelement('class', 'userregulationsandconditionsoverlay', event)">I understand and accept</button>
        </div>
    </div>
    <div class="importantnotificationmessageelement"></div>
    <div class="shortNotification"></div>
    <div class="viewoverlayfa"><div class="charactercountcontainer">characters: <span class="charactercountnum">0</span></div><button class="codingreplayreadybtn">ready</button></div>
    <script>
        const supportedpl = [".js", ".css", ".html", ".htm"];
        function clampCssVarToMaxPx(cssVarName, maxPx) {
            const value = getComputedStyle(document.documentElement).getPropertyValue(cssVarName).trim();
            
            const vw = parseFloat(value);
            
            if (isNaN(vw)) return;
            const px = (vw / 100) * window.innerWidth;
            if (px > maxPx) {
                const vw = (maxPx / window.innerWidth) * 100;
                document.documentElement.style.setProperty(cssVarName, `${vw}vw`);
            }
        }
        
        clampCssVarToMaxPx("--sibebar-width", 300);

        function createTemplate(code, filename) {
            let name = filename.split('.');
            name.pop();
            name = name.join('.') + ".html";
            const content5Container = document.querySelector('.content5-container');
            
            const newRectangle = document.createElement('div');
            const newIFrame = document.createElement('iframe');
            const newSpan = document.createElement('span');
            const newRectangleBtnContainer = document.createElement('div');
            const newRectangleEnlargeBtn = document.createElement('button');
            const newRectangleAddBtn = document.createElement('button');
            const newRectangleCopyBtn = document.createElement('button');
            const newRectangleCloseBtn = document.createElement('button');
            
            newRectangle.className = 'halfrectagle';
            newIFrame.srcdoc = code;
            newIFrame.id = name + "iframe";
            newIFrame.setAttribute('frameborder', "0");
            newSpan.textContent = name;
            
            newRectangleBtnContainer.className = "halfrectagle-buttons";
            newRectangleEnlargeBtn.className = "use-btn enlargetemplatebtn";
            newRectangleAddBtn.className = "use-btn";
            newRectangleCopyBtn.className = "use-btn";
            newRectangleCloseBtn.className = "closetemplate";
            
            newRectangleEnlargeBtn.textContent = "enlarged";
            newRectangleAddBtn.textContent = "add";
            newRectangleCopyBtn.textContent = "copy";
            newRectangleCloseBtn.textContent = "×";
            
            newRectangle.appendChild(newIFrame);
            newRectangle.appendChild(newSpan);
            
            newRectangleBtnContainer.appendChild(newRectangleEnlargeBtn);
            newRectangleBtnContainer.appendChild(newRectangleAddBtn);
            newRectangleBtnContainer.appendChild(newRectangleCopyBtn);
            
            newRectangle.appendChild(newRectangleBtnContainer);
            newRectangle.appendChild(newRectangleCloseBtn);
            
            if (content5Container) {
                content5Container.appendChild(newRectangle);
            }
            
            if (newRectangleCloseBtn && newRectangleEnlargeBtn) {
                newRectangleCloseBtn.addEventListener('click', () => {
                    newRectangle.classList.remove('enlarged');
                    newRectangleEnlargeBtn.disabled = true;
                    typeEffect(newRectangleEnlargeBtn, "enlarge", () => {
                        newRectangleEnlargeBtn.disabled = false;
                    });
                });
            }
            
            if (newRectangleEnlargeBtn) {
                newRectangleEnlargeBtn.addEventListener('click', () => {
                    if (!newRectangle.classList.contains('enlarged')) {
                        newRectangleEnlargeBtn.disabled = true;
                        newRectangle.classList.add('enlarged');
                        typeEffect(newRectangleEnlargeBtn, "reduce", () => {
                            newRectangleEnlargeBtn.disabled = false;
                        });
                    } else if (newRectangle.classList.contains('enlarged')) {
                        newRectangleEnlargeBtn.disabled = true;
                        newRectangle.classList.remove('enlarged');
                        typeEffect(newRectangleEnlargeBtn, "enlarge", () => {
                            newRectangleEnlargeBtn.disabled = false;
                        });
                    }
                });
            }
            
            if (newRectangleAddBtn && code.trim() != "") {
                newRectangleAddBtn.addEventListener('click', () => {
                    showAlert(`You may use, modify, and build upon these templates for personal or commercial purposes. However, you may not redistribute, sell, or claim intellectual property rights over the original templates or minimally modified versions. Substantial modifications are permitted, but the original base must remain unclaimable. By using the templates, you accept these terms.`, () => {
                        createNewFilefortemplatecode(name, code);
                        shortNotificationmessageelement("The File " + name + " was added");
                    });
                });
            }
            if (newRectangleCopyBtn && code.trim() != "") {
                newRectangleCopyBtn.addEventListener('click', () => {
                    showAlert(`You may use, modify, and build upon these templates for personal or commercial purposes. However, you may not redistribute, sell, or claim intellectual property rights over the original templates or minimally modified versions. Substantial modifications are permitted, but the original base must remain unclaimable. By using the templates, you accept these terms.`, () => {
                        newRectangleCopyBtn.disabled = true;
                        copythistext(code);
                        newRectangleCopyBtn.textContent = "copied";
                        setTimeout(() => {
                            newRectangleCopyBtn.disabled = false;
                            newRectangleCopyBtn.textContent = "copy";
                        }, 1500);
                    });
                });
            }
        }
        function typeEffect(element, newText, callback) {
            const originalText = element.textContent || "";
            
            let index = originalText.length;
            
            function removeText() {
                if (index > 0) {
                    element.textContent = originalText.slice(0, --index);
                    setTimeout(removeText, 100);
                } else {
                    buildText();
                }
            }
            
            let buildIndex = 0;
            
            function buildText() {
                if (buildIndex < newText.length) {
                    element.textContent += newText.charAt(buildIndex++);
                    setTimeout(buildText, 100);
                } else if (callback) {
                    callback();
                }
            }
            
            removeText();
        }
        fetch('templates/filePaths.json')
            .then(res => res.json())
            .then(templateFiles => {
                templateFiles.forEach(templateFilePath => {
                    fetch('templates/' + templateFilePath.replace(/^\/+/, ''))
                        .then(response => {
                            if (!response.ok) console.log(`Error while loading ${templateFilePath}`);
                            return response.text();
                        })
                        .then(text => {
                            createTemplate(text, templateFilePath);
                        })
                        .catch(err => {
                            console.log(err);
                        });
                });
            })
            .catch(err => {
                console.log("Error while loading list:", err);
            });

        function themeinputonkeydownforenetr(event) {
            if (event.key == "Enter") {
                updatecustomtheme(document.querySelector('.customthemecodeinput'));
            }
        }
        let importantnotificationmessageelementtimeout;
        function importantnotificationmessageelement(text) {
            let relement = document.querySelector('.importantnotificationmessageelement');
            relement.textContent = text;
            if (importantnotificationmessageelementtimeout){
                clearTimeout(importantnotificationmessageelementtimeout);
                importantnotificationmessageelementtimeout = null;
            }
            relement.style.display = "block";
            relement.style.animation = "none";
            void relement.offsetWidth;
            relement.style.animation = "swipeindown 0.5s ease-out";
            importantnotificationmessageelementtimeout = setTimeout(() => {
                relement.style.animation = "none";
                void relement.offsetWidth;
                relement.style.animation = "swipeoutup 0.5s ease-out";
                setTimeout(() => {
                    relement.style.display = "none";
                }, 500);
            }, 3000);
        }
        let shortNotificationtimeout;
        function shortNotificationmessageelement(text) {
            let relement = document.querySelector('.shortNotification');
            relement.textContent = text;
            if (shortNotificationtimeout){
                clearTimeout(shortNotificationtimeout);
                shortNotificationtimeout = null;
            }
            relement.style.display = "block";
            relement.style.animation = "none";
            void relement.offsetWidth;
            relement.style.animation = "swipeindown 0.5s ease-out";
            shortNotificationtimeout = setTimeout(() => {
                relement.style.animation = "none";
                void relement.offsetWidth;
                relement.style.animation = "swipeoutup 0.5s ease-out";
                setTimeout(() => {
                    relement.style.display = "none";
                }, 500);
            }, 3000);
        }
        let showFontSizeResizetimeout;
        function showFontSizeDisplayelement() {
            let relement = document.querySelector('.showFontSizeResize');
            const fontSizePx = parseFloat(getComputedStyle(relement).fontSize);
            const parentFontSizePx = parseFloat(getComputedStyle(relement.parentElement).fontSize);
            const fontSizeEm = fontSizePx / parentFontSizePx;
            const roundedEm = Math.round(fontSizeEm * 100) / 100;
            
            relement.textContent = `Font size: ${roundedEm}em`;

            if (showFontSizeResizetimeout){
                clearTimeout(showFontSizeResizetimeout);
                showFontSizeResizetimeout = null;
            }
            relement.style.display = "block";
            relement.style.opacity = "1";
            showFontSizeResizetimeout = setTimeout(() => {
                relement.style.opacity = "0";
                setTimeout(() => {
                    relement.style.display = "none";
                }, 300);
            }, 3000);
        }
        function filesearchready(readybtn) {
            readybtn.style.display = "none";
            document.querySelector('.searchforafilename').value = "";
            document.querySelectorAll('.rectangle').forEach(rect => {
                rect.style.display = "flex";
            });
        }
        function searchforafile(inputelement) {
            const value = inputelement.value.toLowerCase();
            const readybtn = document.querySelector('.searchforafilenamereadybtn');
            if (value == "") {
                readybtn.style.display = "none";
                document.querySelectorAll('.rectangle').forEach(rect => {
                    rect.style.display = "flex";
                });
            } else {
                readybtn.style.display = "inline-block";
                document.querySelectorAll('.rectangle').forEach(rect => {
                    const recttitle = rect.querySelector('span').textContent.toLowerCase();
                    if (recttitle.includes(value)) {
                        rect.style.display = "flex";
                    } else {
                        rect.style.display = "none";
                    }
                });
            }
        }
        function togglecebtnislands(thechangedswitch) {
            if (thechangedswitch.checked) {
                document.querySelector('.ifislandenableddisablethis input[type="checkbox"]').checked = false;
                document.querySelector('.divcodeeditor-container').classList.add('ceefbrlbd');
                document.querySelector('.divcodeeditor-container').classList.add('cefbtnislands');
            } else {
                document.querySelector('.divcodeeditor-container').classList.remove('cefbtnislands');
            }
        }
        function switchtobtnlayout(layoutnum, layoutexample) {
            document.querySelector('.ceebtnposexample.ceebtnposexampleselected').classList.remove('ceebtnposexampleselected');
            layoutexample.classList.add('ceebtnposexampleselected');
            const divcodeeditorcontainer = document.querySelector('.divcodeeditor-container');
            const headers = document.querySelectorAll('.topandbottomsignsdisplay-container h2');
            const selectedebtndheader = headers[0];
            const allebtndheader = headers[1];
            if (layoutnum == "0") {
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                if (!selectedebtndheader || !allebtndheader) return;
                selectedebtndheader.textContent = "top - (selected)";
                allebtndheader.textContent = "bottom - (all)";
            } else if (layoutnum == "1") {
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                divcodeeditorcontainer.classList.add("allbtnsleft");
                if (!selectedebtndheader || !allebtndheader) return;
                selectedebtndheader.textContent = "top - (selected)";
                allebtndheader.textContent = "left - (all)";
            } else if (layoutnum == "2") {
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                divcodeeditorcontainer.classList.add("selectedbtnsleft");
                if (!selectedebtndheader || !allebtndheader) return;
                selectedebtndheader.textContent = "right - (selected)";
                allebtndheader.textContent = "bottom - (all)";
            } else if (layoutnum == "3") {
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                divcodeeditorcontainer.classList.add("allbtnsleft", "selectedbtnsleft");
                if (!selectedebtndheader || !allebtndheader) return;
                selectedebtndheader.textContent = "right - (selected)";
                allebtndheader.textContent = "left - (all)";
            } else if (layoutnum == "4") {
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                divcodeeditorcontainer.classList.add("bothbtncleft", "allbtnsleft", "selectedbtnsleft");
                if (!selectedebtndheader || !allebtndheader) return;
                selectedebtndheader.textContent = "right - (selected)";
                allebtndheader.textContent = "left - (all)";
            } 
            
        }
        function toggleceefbrlbd(toggleswitch) {
            if (toggleswitch.checked) {
                document.querySelector('.ifborderenableddisablethis input[type="checkbox"]').checked = false;
                document.querySelector('.divcodeeditor-container').classList.remove('cefbtnislands');
                document.querySelector('.divcodeeditor-container').classList.remove('ceefbrlbd');
            } else {
                document.querySelector('.divcodeeditor-container').classList.add('ceefbrlbd');
            }
        }
        let isResizingSidebar = false;
        const sidebarwidthdisplaydiv = document.querySelector('.sidebarwidthdisplay');
        
        document.querySelector('.resizesidebarbar').addEventListener('touchstart', (e) => {
            isResizingSidebar = true;
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.style.display = "block";
                sidebarwidthdisplaydiv.style.opacity = "1";
            }
        });
        
        window.addEventListener('touchmove', (e) => {
            if (!isResizingSidebar) return;
            e.preventDefault();
            const viewportWidth = document.documentElement.clientWidth;
            const vw = (e.touches[0].clientX / viewportWidth) * 100;
            document.documentElement.style.setProperty('--sibebar-width', `${vw}vw`);
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.textContent = `${Math.round(vw)}vw`;
            }
        });
        
        window.addEventListener('touchend', () => {
            isResizingSidebar = false;
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.style.opacity = "0";
                setTimeout(() => {
                    sidebarwidthdisplaydiv.style.display = "none";
                }, 300);
            }
        });
        
        document.querySelector('.resizesidebarbar').addEventListener('mousedown', (e) => {
            isResizingSidebar = true;
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.style.display = "block";
                sidebarwidthdisplaydiv.style.opacity = "1";
            }
        });
        
        window.addEventListener('mousemove', (e) => {
            if (!isResizingSidebar) return;
            const viewportWidth = document.documentElement.clientWidth;
            const vw = (e.clientX / viewportWidth) * 100;
            document.documentElement.style.setProperty('--sibebar-width', `${vw}vw`);
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.textContent = `${Math.round(vw)}vw`;
            }
        });
        
        window.addEventListener('mouseup', () => {
            isResizingSidebar = false;
            if (sidebarwidthdisplaydiv) {
                sidebarwidthdisplaydiv.style.opacity = "0";
                setTimeout(() => {
                    sidebarwidthdisplaydiv.style.display = "none";
                }, 300);
            }
        });
        
        function togglesidebarsec(theh3, theclass) {
            if (theh3.textContent.trim().startsWith(">")) {
                theh3.textContent = theh3.textContent.replace('>', '<');
                theh3.parentElement.style.opacity = "1";
                let relements = document.querySelectorAll('.' + theclass);
                relements.forEach(relement => {
                    relement.style.display = "flex";
                    relement.style.animation = "none";
                    void relement.offsetWidth;
                    relement.style.animation = "showsidebarsectionanimation 0.5s ease-out";
                });
            } else if (theh3.textContent.trim().startsWith("<")) {
                theh3.textContent = theh3.textContent.replace('<', '>');
                theh3.parentElement.style.opacity = "0.5";
                let relements = document.querySelectorAll('.' + theclass);
                relements.forEach(relement => {
                    relement.style.display = "flex";
                    relement.style.animation = "none";
                    void relement.offsetWidth;
                    relement.style.animation = "hidesidebarsectionanimation 0.5s ease-out";
                    setTimeout(() => {
                        relement.style.display = "none";
                    }, 500);
                });
            }
        }
        function updatefontsize(slider) {
            const value = parseFloat(slider.value);
            const clamped = Math.max(0.5, Math.min(2, value));
            const fontSize = clamped.toFixed(2) + 'em';
            document.body.style.setProperty('--editor-font-size', fontSize);
            showFontSizeDisplayelement();
        }
        
        let transitionanimation = "swipe";
        
        function chengeanimation(thiselement, animationname) {
            transitionanimation = animationname;
            document.querySelectorAll('.caexample.selectedanimation').forEach(element => {
                element.classList.remove('selectedanimation');
            });
            thiselement.classList.add('selectedanimation');
        }
        
        function toggleZoom(preventZoom) {
            let meta = document.querySelector('meta[name="viewport"]');
        
            if (!meta) {
                meta = document.createElement('meta');
                meta.name = "viewport";
                document.head.appendChild(meta);
            }
        
            if (!preventZoom.checked) {
                meta.setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");
            } else {
                meta.setAttribute("content", "width=device-width, initial-scale=1.0");
            }
        }
        
        const commandToSymbol = {
            "/alert": "⚠",
            "/arrowbottomleft": "↙",
            "/arrowbottomright": "↘",
            "/arrowdown": "↓",
            "/arrowgoleft": "↤",
            "/arrowgoright": "↦",
            "/arrowleft": "←",
            "/arrowright": "→",
            "/arrowtopleft": "↖",
            "/arrowtopright": "↗",
            "/arrowup": "↑",
            "/bigspark": "✶",
            "/bottomleftedge": "◣",
            "/bottomrightedge": "◢",
            "/smallcheckmark": "✓",
            "/emptycircle": "◯",
            "/copyright": "©",
            "/bigcross": "✘",
            "/crossincirkle": "⊗",
            "/crossinsquare": "⌧",
            "/crossnotinsquare": "×",
            "/cutoutcircle": "◌",
            "/diamond": "◆",
            "/emptyspark": "✧",
            "/emptysquare": "□",
            "/emptystar": "☆",
            "/emptytriangleleft": "◁",
            "/emptytriangledown": "▽",
            "/emptytriangleright": "▷",
            "/emptytriangletop": "△",
            "/filledcircle": "●",
            "/heart": "♥",
            "/infinite": "∞",
            "/magnifyingglass": "⌕",
            "/minus": "−",
            "/moonleft": "☽",
            "/moonright": "☾",
            "/movable": "✣",
            "/eighthnote": "♪",
            "/beamednote": "♫",
            "/chordsymbol": "♬",
            "/quarternote": "♩",
            "/paperplane": "➤",
            "/pencil": "✎",
            "/plus": "+",
            "/refreshright": "↻",
            "/refreshleft": "↺",
            "/registered": "®",
            "/sidebar": "≡",
            "/smallcross": "×",
            "/filledspark": "✦",
            "/filledsquare": "■",
            "/filledstar": "★",
            "/sun": "☼",
            "/toprightedge": "◥",
            "/topleftedge": "◤",
            "/trademark": "™",
            "/triangleleft": "◀",
            "/triangleright": "▶",
            "/triangledown": "▼",
            "/triangletop": "▲",
            "/updownleftarrow": "↵",
        };
        
        const shortCutCommands = {
            "/:func": {
                firstpart: "function definition() {",
                seccondpart: "}"
            },
            "/:if": {
                firstpart: "if (condition) {",
                seccondpart: "}"
            },
            "/:for": {
                firstpart: "for (let i = 0; i < array.length; i++) {",
                seccondpart: "}"
            },
            "/:try": {
                firstpart: 'try {',
                seccondpart: "} catch (error) { console.error(error); }"
            },
            "/:div": {
                firstpart: '<div class="className">',
                seccondpart: "</div>"
            },
            "/:btn": {
                firstpart: '<button id="buttonId">',
                seccondpart: "</button>"
            },
            "/:span": {
                firstpart: '<span id="spanId">',
                seccondpart: "</span>"
            },
            "/:img": {
                firstpart: '<img src="',
                seccondpart: '">'
            },
            "/:p": {
                "firstpart": "<p id=\"pId\">",
                "seccondpart": "</p>"
            },
            "/:h1": {
                firstpart: "<h1 id=\"h1Id\">",
                seccondpart: "</h1>"
            },
            "/:h2": {
                firstpart: "<h2 id=\"h2Id\">",
                seccondpart: "</h2>"
            },
            "/:h3": {
                firstpart: "<h3 id=\"h3Id\">",
                seccondpart: "</h3>"
            },
            "/:h4": {
                firstpart: "<h4 id=\"h4Id\">",
                seccondpart: "</h4>"
            },
            "/:h5": {
                firstpart: "<h5 id=\"h5Id\">",
                seccondpart: "</h5>"
            },
            "/:h6": {
                firstpart: "<h6 id=\"h6Id\">",
                seccondpart: "</h6>"
            },
            "/:at": {
                firstpart: "<a href=\"\" id=\"aId\">",
                seccondpart: "</a>"
            },
            "/:ul": {
                firstpart: "<ul id=\"ulId\">",
                seccondpart: "</ul>"
            },
            "/:ol": {
                firstpart: "<ol id=\"olId\">",
                seccondpart: "</ol>"
            },
            "/:li": {
                firstpart: "<li id=\"liId\">",
                seccondpart: "</li>"
            },
            "/:table": {
                firstpart: "<table id=\"tableId\">",
                seccondpart: "</table>"
            },
            "/:tr": {
                firstpart: "<tr id=\"trId\">",
                seccondpart: "</tr>"
            },
            "/:td": {
                firstpart: "<td id=\"tdId\">",
                seccondpart: "</td>"
            },
            "/:th": {
                firstpart: "<th id=\"thId\">",
                seccondpart: "</th>"
            },
            "/:input": {
                firstpart: "<input type=\"",
                seccondpart: "\" id=\"inputId\">"
            },
            "/:form": {
                firstpart: "<form id=\"formId\">",
                seccondpart: "</form>"
            },
            "/:label": {
                firstpart: "<label id=\"labelId\">",
                seccondpart: "</label>"
            },
            "/:iframe": {
                firstpart: "<iframe src=\"\" id=\"iframeId\">",
                seccondpart: "</iframe>"
            },
            "/:nav": {
                firstpart: "<nav id=\"navId\">",
                seccondpart: "</nav>"
            },
            "/:header": {
                firstpart: "<header id=\"headerId\">",
                seccondpart: "</header>"
            },
            "/:footer": {
                firstpart: "<footer id=\"footerId\">",
                seccondpart: "</footer>"
            },
            "/:sec": {
                firstpart: "<section id=\"sectionId\">",
                seccondpart: "</section>"
            },
            "/:article": {
                firstpart: "<article id=\"articleId\">",
                seccondpart: "</article>"
            },
            "/:aside": {
                firstpart: "<aside id=\"asideId\">",
                seccondpart: "</aside>"
            },
            "/:main": {
                firstpart: "<main id=\"mainId\">",
                seccondpart: "</main>"
            }
        }
        
        let dontcopy = false;
        
        function addacommand() {
            const copypastcontainer = document.querySelector('.createcommandcontainer');
            if (!copypastcontainer) return;
            showPrompt('enter a new command with under 20 characters (a command must start with a "/"):', (command) => {
                if (!command.startsWith('/') || commandToSymbol[command.toUpperCase().trim().replace(/\s+/g, '')] || command.trim().replace(/\s+/g, '').length > 20 || command.trim() == ""){
                    setTimeout(() => {
                        addacommand();
                    }, 100);
                    return;
                }
                setTimeout(() => {
                    showPrompt('enter the command result text:', (result) => {
                        if (result.length > 50 || result == "") {
                            setTimeout(() => {
                                addacommand();
                            }, 100);
                            return;
                        }
                        if (!copypastcontainer.querySelector('.leidresult')) {
                            copypastcontainer.innerHTML = "";
                        }
                        const leidresult = document.createElement('div');
                        leidresult.className = "leidresult";
                        const leidresultspan = document.createElement('span');
                        leidresultspan.textContent = command.toUpperCase().trim().replace(/\s+/g, '') + ": " + result;
                        leidresult.appendChild(leidresultspan);
                        const leidresultdiv = document.createElement('div');
                        leidresult.appendChild(leidresultdiv);
                        const leidresultbtn1 = document.createElement('button');
                        leidresultbtn1.textContent = "remove";
                        leidresultdiv.appendChild(leidresultbtn1);
                        const leidresultbtn2 = document.createElement('button');
                        leidresultbtn2.textContent = "copy";
                        leidresultdiv.appendChild(leidresultbtn2);
                        copypastcontainer.appendChild(leidresult);
                        
                        commandToSymbol[command.toUpperCase().trim().replace(/\s+/g, '')] = result;
                        
                        const cammandcommandlist = document.querySelector('.cammandcommandlist');
                        const li = document.createElement('li');
                        const lispan = document.createElement('span');
                        lispan.className = "command";
                        lispan.textContent = command.toUpperCase().trim().replace(/\s+/g, '');
                        li.appendChild(lispan);
                        const libutton = document.createElement('button');
                        libutton.className = "Symbol-Span";
                        libutton.textContent = result;
                        li.appendChild(libutton);
                        cammandcommandlist.appendChild(li);
                        
                        
                        leidresultbtn1.onclick = () => {
                            leidresult.remove();
                            li.remove();
                            delete commandToSymbol[command.toUpperCase().trim().replace(/\s+/g, '')];
                            if (!copypastcontainer.querySelector('.leidresult')) {
                                copypastcontainer.innerHTML = "no custom commands yet";
                            }
                        };
                        
                        leidresultbtn2.onclick = () => {
                            try {
                                dontcopy = true;
                                const newtextarea = document.createElement('textarea');
                                newtextarea.value = command.toUpperCase().trim().replace(/\s+/g, '');
                                document.body.appendChild(newtextarea);
                                newtextarea.select();
                                document.execCommand('copy');
                                document.body.removeChild(newtextarea);
                                dontcopy = false;
                            } catch (error) {
                                const thiserrorwascatched = error;
                            }
                        };
                    });
                }, 100);
            });
        }
        
        function addashortcut() {
            const copypastcontainer = document.querySelector('.createshortcutcontainer');
            if (!copypastcontainer) return;
            showPrompt('enter a new shortcut with under 20 characters (a command must start with a "/:"):', (command) => {
                if (!command.trim().startsWith('/:') || shortCutCommands[command.toLowerCase().trim().replace(/\s+/g, '')] || command.trim().replace(/\s+/g, '').length > 20 || command.trim() == "") {
                    setTimeout(() => {
                        addashortcut();
                    }, 100);
                    return;
                }
                setTimeout(() => {
                    showPrompt('enter the shortcut result text before the cursor:', (result) => {
                        if (result.length > 50 || result.trim() == "") {
                            setTimeout(() => {
                                addashortcut();
                            }, 100);
                            return;
                        }
                        setTimeout(() => {
                            showPrompt('enter the shortcut result text after the cursor:', (result2) => {
                                if (result2.length > 50 || result2.trim() == "") {
                                    setTimeout(() => {
                                        addashortcut();
                                    }, 100);
                                    return;
                                }
                                
                                setTimeout(() => {
                                    showPrompt('enter the shortcut result description with up to 20 characters:', (shortcutresultdescriptioncr) => {
                                        if (shortcutresultdescriptioncr.trim().length < 20 && shortcutresultdescriptioncr.trim() != "") {
                                            let shortcutresultdescription = shortcutresultdescriptioncr.trim();
                                            if (!copypastcontainer.querySelector('.leidresult')) {
                                                copypastcontainer.innerHTML = "";
                                            }
                                            const leidresult = document.createElement('div');
                                            leidresult.className = "leidresult";
                                            const leidresultspan = document.createElement('span');
                                            leidresultspan.textContent = command.toLowerCase().trim().replace(/\s+/g, '') + ": " + result + "(cursor)" + result2;
                                            leidresult.appendChild(leidresultspan);
                                            const leidresultdiv = document.createElement('div');
                                            leidresult.appendChild(leidresultdiv);
                                            const leidresultbtn1 = document.createElement('button');
                                            leidresultbtn1.textContent = "remove";
                                            leidresultdiv.appendChild(leidresultbtn1);
                                            const leidresultbtn2 = document.createElement('button');
                                            leidresultbtn2.textContent = "copy";
                                            leidresultdiv.appendChild(leidresultbtn2);
                                            copypastcontainer.appendChild(leidresult);
                                            
                                            shortCutCommands[command.toLowerCase().trim().replace(/\s+/g, '')] = {
                                                firstpart: result,
                                                seccondpart: result2
                                            };
                                            
                                            const shortcutcommandlist = document.querySelector('.shortcutcommandlist');
                                            const li = document.createElement('li');
                                            const lispan = document.createElement('span');
                                            lispan.className = "command";
                                            lispan.textContent = command.toLowerCase().trim().replace(/\s+/g, '');
                                            li.appendChild(lispan);
                                            const libutton = document.createElement('button');
                                            libutton.className = "Symbol-Span";
                                            libutton.textContent = shortcutresultdescription;
                                            li.appendChild(libutton);
                                            shortcutcommandlist.appendChild(li);
                                            
                                            
                                            leidresultbtn1.onclick = () => {
                                                leidresult.remove();
                                                li.remove();
                                                delete shortCutCommands[command.toLowerCase().trim().replace(/\s+/g, '')];
                                                if (!copypastcontainer.querySelector('.leidresult')) {
                                                    copypastcontainer.innerHTML = "no custom short-cuts yet";
                                                }
                                            };
                                            
                                            leidresultbtn2.onclick = () => {
                                                try {
                                                    dontcopy = true;
                                                    const newtextarea = document.createElement('textarea');
                                                    newtextarea.value = command.toLowerCase().trim().replace(/\s+/g, '');
                                                    document.body.appendChild(newtextarea);
                                                    newtextarea.select();
                                                    document.execCommand('copy');
                                                    document.body.removeChild(newtextarea);
                                                    dontcopy = false;
                                                } catch (error) {
                                                    const thiserrorwascatched = error;
                                                }
                                            };
                                        }
                                    });
                                }, 100);
                            });
                        }, 100);
                    });
                }, 100);
            });
        }
        
        
        function clearclipboard() {
            const copiedtexthistory = document.querySelector('.copiedtexthistory');
            copiedtexthistory.innerHTML = "clipboard is cleared...";
        }
        
        
        function selectthisgrid(gridop) {
            let gridSections = document.querySelectorAll('.section.gridenabled');
            
            if (gridSections.length === 0) {
                showAlert('Make sure you have "grid" enabled');
                return;
            }
            
            document.querySelectorAll('.gridop.cyselected').forEach(op => {
                op.classList.remove('cyselected');
            });
            
            gridop.classList.add('cyselected');
            
            let computedStyle = getComputedStyle(gridop);
            
            gridSections.forEach(sg => {
                sg.style.backgroundSize = computedStyle.backgroundSize;
                sg.style.backgroundImage = computedStyle.backgroundImage;
            });
            
            gridSections.forEach(sg => {
                new MutationObserver((mutations, observer) => {
                    mutations.forEach(mutation => {
                        if (mutation.attributeName === "class" && !sg.classList.contains('gridenabled')) {
                            sg.style.backgroundSize = "";
                            sg.style.backgroundImage = "";
                            observer.disconnect();
                        }
                    });
                }).observe(sg, { attributes: true });
            });
        }
        
        let m__up = 1;
        let m__down = 1;
        let m__right = 1;
        let m__left = 1;
        
        const functiondescriptions = {
            "copy": {
                title: "copy",
                description: "copy the text content of selected lines or all lines, at ones."
            },
            "delete": {
                title: "delete",
                description: "delete selected lines or all lines, at ones."
            },
            "movedown": {
                title: "move down",
                description: "move selected lines down."
            },
            "moveup": {
                title: "move up",
                description: "move selected lines up."
            },
            "pin": {
                title: "pin",
                description: "pin or unpin selected lines or unpin all pined lines."
            },
            "disable": {
                title: "disable",
                description: "disable all selected lines."
            },
            "enable": {
                title: "enable",
                description: "enable all lines."
            },
            "search": {
                title: "code search",
                description: "search for code, with text or regex."
            },
            "teleport": {
                title: "teleport",
                description: "teleport to a line number."
            },
            "commands": {
                title: "commands & shortcuts",
                description: "use commands for symbols or shortcuts."
            },
            "trim": {
                title: "trim",
                description: "trim all selected lines."
            },
            "unfold": {
                title: "unfold",
                description: "unfold all folded code blocks."
            },
            "unselect": {
                title: "unselect",
                description: "unselect all selected lines."
            },
            "removespaceleft": {
                title: "remove spaces",
                description: "delete a space left, in every selected line."
            },
            "addspaceleft": {
                title: "insert spaces",
                description: "insert a space left, in every selected line."
            },
            "replaceselectedlines": {
                title: "replace",
                description: "Replace text in selected lines using regex or plain text."
            },
            "replacealllines": {
                title: "replace all",
                description: "Replace text in all lines using either regex or plain text."
            },
            "grid": {
                title: "grid",
                description: "add a grid to the background."
            },
            "undo": {
                title: "undo",
                description: "undo changes in your file."
            }
        };
        
        function openfunctionsettings(type) {
            if (functiondescriptions[type]){
                document.querySelector('.cfsinfo').textContent = functiondescriptions[type].description;
                document.querySelector('.cfsch3').textContent = functiondescriptions[type].title;
                if (type == "delete") {
                    addallselectedlinestodeleteselectedlinesmanually();
                } else if (type == "moveup") {
                    document.querySelector('.cfscountervalue').textContent = m__up;
                    document.querySelector('.cfscounteradd').onclick = () => {
                        m__up++;
                        document.querySelector('.cfscountervalue').textContent = m__up;
                    };
                    document.querySelector('.cfscounterremove').onclick = () => {
                        if (m__up > 1) {
                            m__up--;
                            document.querySelector('.cfscountervalue').textContent = m__up;
                        }
                    };
                } else if (type == "movedown") {
                    document.querySelector('.cfscountervalue').textContent = m__down;
                    document.querySelector('.cfscounteradd').onclick = () => {
                        m__down++;
                        document.querySelector('.cfscountervalue').textContent = m__down;
                    };
                    document.querySelector('.cfscounterremove').onclick = () => {
                        if (m__down > 1) {
                            m__down--;
                            document.querySelector('.cfscountervalue').textContent = m__down;
                        }
                    };
                } else if (type == "addspaceleft") {
                    document.querySelector('.cfscountervalue').textContent = m__right;
                    document.querySelector('.cfscounteradd').onclick = () => {
                        m__right++;
                        document.querySelector('.cfscountervalue').textContent = m__right;
                    };
                    document.querySelector('.cfscounterremove').onclick = () => {
                        if (m__right > 1) {
                            m__right--;
                            document.querySelector('.cfscountervalue').textContent = m__right;
                        }
                    };
                } else if (type == "removespaceleft") {
                    document.querySelector('.cfscountervalue').textContent = m__left;
                    document.querySelector('.cfscounteradd').onclick = () => {
                        m__left++;
                        document.querySelector('.cfscountervalue').textContent = m__left;
                    };
                    document.querySelector('.cfscounterremove').onclick = () => {
                        if (m__left > 1) {
                            m__left--;
                            document.querySelector('.cfscountervalue').textContent = m__left;
                        }
                    };
                } else if (type == "pin") {
                    addreidresulttounpinlinesmanuallyorteleport();
                } else if (type == "enable" || type == "disable") {
                    addleidresulttounpinlinesmanuallyorteleport();
                } else if (type == "unselect") {
                    addleidresulttounselectlinesmanually();
                }
            }
            document.querySelectorAll('.cfscscf').forEach(element => {
                element.style.display = "none";
            });
            document.querySelectorAll('.cfscsc' + type).forEach(element => {
                const excludedClasses = [
                    "gridoptions",
                    "copiedtexthistory",
                    "deleteselectedlinesmanually",
                    "unpinlinesmanuallyorteleport",
                    "enabledisabledlonesmanually",
                    "unselectlinesmanually",
                    "clearclipboardbtn",
                    "addcommandbtn",
                    "createshortcutcontainer",
                    "addshortcutbtn",
                    "createcommandcontainer",
                    "clearpasttoundobtn"
                ];
                
                if (!excludedClasses.some(cls => element.classList.contains(cls))) {
                    element.style.display = "flex";
                } else {
                    element.style.display = "block";
                }
            });
            showcodefunctionssettingsoverlay();
        }
        
        function changecommandtosearchregexswitchtext(tehtv) {
            document.querySelector('.commandtosearchregexswitchtext').textContent = tehtv.value + " to search with regex";
        }
        
        function closetimeinputoverlay() {
            document.querySelector('.timeinputoverlay').style.display = "none";
        }
        
        
        function updateSelection(container) {
            let options = container.children;
            let center = container.scrollTop + container.clientHeight / 2;
            
            for (let option of options) {
                let optionCenter = option.offsetTop + option.clientHeight / 2;
                let distance = Math.abs(center - optionCenter);
                
                if (distance < 25) {
                    option.classList.add("Tsselected");
                } else {
                    option.classList.remove("Tsselected");
                }
            }
        }
        
        let timeDisplay = 0;
        
        function timeinputsetup() {
            const hourPicker = document.getElementById("hourPicker");
            const minutePicker = document.getElementById("minutePicker");
        
            function createInfiniteList(container) {
                for (let i = -60; i < 120; i++) {
                    let realValue = (i + 60) % 60;
                    let option = document.createElement("div");
                    option.classList.add("Tsoption");
                    option.textContent = realValue.toString().padStart(2, '0');
                    container.appendChild(option);
                }
                container.scrollTop = container.scrollHeight / 2 - container.clientHeight / 2;
            }
            
            
            createInfiniteList(hourPicker);
            createInfiniteList(minutePicker);
            
            
            function updateTime() {
                let hourIndex = Math.round((hourPicker.scrollTop + 25) / 50) % 60;
                let minuteIndex = Math.round((minutePicker.scrollTop + 25) / 50) % 60;
                timeDisplay = parseInt(hourIndex) * 60 + parseInt(minuteIndex);
                
                updateSelection(hourPicker);
                updateSelection(minutePicker);
            }
            
            
            function checkLoop(container) {
                if (container.scrollTop < 50) {
                    container.scrollTop += 60 * 50;
                } else if (container.scrollTop > 110 * 50) {
                    container.scrollTop -= 60 * 50;
                }
            }
            
            hourPicker.addEventListener("scroll", () => {
                checkLoop(hourPicker);
                setTimeout(updateTime, 100);
            });
            
            minutePicker.addEventListener("scroll", () => {
                checkLoop(minutePicker);
                setTimeout(updateTime, 100);
            });
            updateTime();
        }
        timeinputsetup();
        
        
        function dissolve(element, numParticles) {
            if (!element) {
                return;
            }
            if (!element.parentElement) {
                return;
            }
            if (element.classList.contains('sidebarfilelinklink')){
                element.classList.remove('sidebarfilelinklink');
                element.classList.add('sidebarfilelinklinkp');
            } else if (element.classList.contains('rectangle')){
                element.classList.remove('rectangle');
                element.classList.add('rectanglep');
            }
            element.style.pointerEvents = "none";
            let rect = element.getBoundingClientRect();

            if (rect.width === 0 || rect.height === 0) {
                element.remove();
                return;
            }
            
            element.style.transition = "1s";
            
            element.style.opacity = "0";
            element.style.height = "0";
            element.style.fontSize = "0";
            element.style.padding = "0";
            element.style.margin = "0";
            element.style.filter = "blur(5px)";
            
            
            for (let i = 0; i < numParticles; i++) {
                let particle = document.createElement("div");
                
                particle.classList.add("particle");
                
                document.body.appendChild(particle);
                
                let x = Math.random() * rect.width + rect.left;
                let y = Math.random() * rect.height + rect.top;
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                let moveX = (Math.random() - 0.5) * 2;
                let moveY = (Math.random() - 1.2) * 2;
                
                particle.style.setProperty("--x", moveX);
                particle.style.setProperty("--y", moveY);
                
                setTimeout(() => {
                    particle.remove();
                }, 2000);
            }
            element.style.visibility = "hidden";
            setTimeout(() => {
                element.remove();
            }, 2000);
        }
        
        
        function toggleClass(elementclass, classtt) {
            document.querySelector(elementclass).classList.toggle(classtt);
        }
        
        
        let replacing = "all";
        function replacetextinlines(allorsl) {
            replacing = allorsl;
            if (replacing == "all") {
                document.querySelector('.replacecontainer h3').textContent = "replace all";
            } else {
                document.querySelector('.replacecontainer h3').textContent = "replace in selected lines";
            }
            showreplaceoverlay();
        }
        
        
        let correntids = 3;
        
        let observenothing = false;
        const lineObserver = new IntersectionObserver((entries) => {
            if (!observenothing){
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.remove('invisible');
                    } else {
                        entry.target.classList.add('invisible');
                    }
                });
            }
        }, { threshold: 0.1 });
        
        document.querySelectorAll('.code-editor-line').forEach(line => {
            lineObserver.observe(line);
        });
        
        
        function clearconsole() {
            const consol = document.querySelector('.console');
            consol.innerHTML = "";
        }
        
        
        let timers = {};
        
        
        function startTimer(timerName) {
            timers[timerName] = {
                start: performance.now(),
                end: null,
                duration: null
            };
        }
        
        
        function checkTimer(timerName) {
            if (!timers[timerName]) return null;
            return performance.now() - timers[timerName].start;
        }
        
        
        function endTimer(timerName) {
            if (!timers[timerName]) return null;
            if (timers[timerName].end !== null) return timers[timerName].duration;
        
            timers[timerName].end = performance.now();
            timers[timerName].duration = timers[timerName].end - timers[timerName].start;
        
            const duration = timers[timerName].duration;
            delete timers[timerName];
        
            return duration;
        }
        
        
        
        let counts = {};
        
        
        function count(countName) {
            if (!counts[countName]) {
                counts[countName] = 1;
            } else {
                counts[countName] += 1;
            }
            return counts[countName];
        }
        
        function resetCount(countName) {
            if (counts[countName]) {
                counts[countName] = 0;
            }
        }
        
        
        let consolegroups = {};
        let openconsolegroups = {};
        
        
        window.addEventListener('message', (event) => {
            const eds = event.data.status;
            const consol = document.querySelector('.console');
            const messagecontainer = document.createElement('div');
            const icon = document.createElement('button');
            const message = document.createElement('span');
            messagecontainer.className = "consolemessagecontainer";
            messagecontainer.classList.add('consolestatus' + event.data.status);
            message.textContent = event.data.message;
            message.className = "consolemessage";
            icon.className = "consolemessageicon";
            messagecontainer.appendChild(icon);
            messagecontainer.appendChild(message);
            if (eds == "clear") {
                consol.innerHTML = "";
                message.textContent = "console was cleared";
            }
            const trueKeys = Object.keys(consolegroups).filter(key => consolegroups[key] === true);

            if (eds === "groupEnd" && trueKeys.length > 0) {
                consolegroups[trueKeys[trueKeys.length - 1]] = false;
            }
            
            if (trueKeys.length > 0) {
                trueKeys.forEach(key => {
                    messagecontainer.classList.add('consolegroupitem' + key);
                    const cgp = document.querySelector('.consolegroupparent' + key + '.consolegroupcollapsed');
                    if (cgp) {
                        messagecontainer.classList.add('visablegroupelement');
                    }
                    messagecontainer.id = key;
                });
            }
            
            let edm = `${event.data.message}`;
            let edm2 = edm.replace(/[^a-zA-Z]/g, '_').replaceAll(' ', '');
            
            if (eds === "group" || eds === "groupCollapsed") {
                if (!event?.data?.message || !messagecontainer || !consol) return;
            
                const uniqueId = `${Object.keys(consolegroups).length}_${crypto.randomUUID()}`.replace(/[^\w\s]/g, '').replaceAll(' ', '');
                consolegroups[edm2 + uniqueId] = true;
                openconsolegroups[edm2 + uniqueId] = true;
            
                messagecontainer.onclick = () => {
                    const groupElements = consol.querySelectorAll('.consolegroupitem' + edm2 + uniqueId);
            
                    if (groupElements.length > 0) {
                        messagecontainer.classList.toggle('consolegroupcollapsed');
                        icon.textContent = messagecontainer.classList.contains('consolegroupcollapsed') ? "▶" : "▼";
                    }
                    
                    if (messagecontainer.classList.contains('consolegroupcollapsed')) {
                        openconsolegroups[edm2 + uniqueId] = false;
                    } else {
                        openconsolegroups[edm2 + uniqueId] = true;
                    }
            
                    groupElements.forEach(groupElement => {
                        if (messagecontainer.classList.contains('consolegroupcollapsed') && !groupElement.classList.contains('visablegroupelement')) {
                            groupElement.classList.add('visablegroupelement');
                            groupElement.classList.add('visablegroupelement' + edm2);
                        } else if (!messagecontainer.classList.contains('consolegroupcollapsed') && groupElement.classList.contains('visablegroupelement') && (groupElement.id == edm2 + uniqueId || !document.querySelector('.consolegroupparent' + groupElement.id + ".consolegroupcollapsed"))) {
                            groupElement.classList.remove('visablegroupelement');
                        }
                        
                        if (groupElement.classList.contains('consolegroupcollapsed')) {
                            groupElement.click();
                            groupElement.click();
                        }else if (groupElement.classList.contains('consolegroupparenthere')){
                            groupElement.click();
                        }
            
                        if (openconsolegroups[groupElement.id] === false && !groupElement.classList.contains('visablegroupelement')) {
                            groupElement.classList.add('visablegroupelement');
                        }
                    });
                };
            
                messagecontainer.classList.add('consolegroupparent' + edm2 + uniqueId);
                messagecontainer.classList.add('consolegroupparenthere');
            
                
                if (eds === "groupCollapsed") {
                    setTimeout(() => {
                        if (typeof messagecontainer.click === "function") {
                            messagecontainer.click();
                        }
                    }, 0);
                }
            }

            
            if (eds == "time"){
                startTimer(edm2);
            }
            if (eds == "timeLog"){
                message.textContent += ": " + checkTimer(edm2);
            }
            if (eds == "timeEnd"){
                message.textContent += ": " + endTimer(edm2);
            }
            if (eds != "time" && eds != "countReset" && eds != "groupEnd"){
                consol.appendChild(messagecontainer);
            }
            if (eds == "count"){
                message.textContent += ": " + count(edm2);
            }
            if (eds == "countReset"){
                resetCount(edm2);
            }
            
            
            const allicons = {
                error: "⚠",
                clear: "⌧",
                log: "○",
                debug: "✓",
                info: "?",
                warn: "!",
                table: "■",
                dir: "",
                group: "▼",
                groupEnd: "∞",
                groupCollapsed: "▶",
                time: "◴",
                timeEnd: "◷",
                timeLog: "◵",
                assert: "⚠",
                count: "•",
                countReset: ""
            };
            if (eds in allicons){
                icon.textContent = allicons[eds];
            }
            if (eds == "error" && document.querySelector('.consoleconteiner').style.display == "none") {
                importantnotificationmessageelement(message.textContent);
            }
        });
        
        let timelineRunning = false;
        let timelineInterval;
        
        function showtimelinecontainer() {
            closeeverything();
            const timelinecontainer = document.getElementById('timeline-container');
            timelinecontainer.style.display = 'block';
            timelinecontainer.style.animation = "none";
            void timelinecontainer.offsetWidth;
            timelinecontainer.style.animation = "fadeIn 1s ease-out";
        }
        
        function hidetimelinecontainer() {
            const timelinecontainer = document.getElementById('timeline-container');
            timelinecontainer.style.animation = "none";
            void timelinecontainer.offsetWidth; 
            timelinecontainer.style.animation = "fadeOut 1s ease-out";
            
            setTimeout(() => {
                timelinecontainer.style.display = 'none';
                stopTimeline();
            }, 1000);
        }
        
        function removeactoveclassfromfbtn() {
            document.querySelector('.toggletimelinebtn').classList.remove('Active');
        }
        
        function addactoveclassfromfbtn() {
            document.querySelector('.toggletimelinebtn').classList.add('Active');
        }
        
        
        function toggleTineline(thiselementwasclicked) {
            if (!thiselementwasclicked.classList.contains("Active")) {
                showtimeinput('enter a time', (userprompt) => {
                    if (userprompt != null && !isNaN(userprompt)) {
                        addactoveclassfromfbtn();
                        showtimelinecontainer();
                        runTimeline(userprompt);
                    }else {
                        removeactoveclassfromfbtn();
                        hidetimelinecontainer();
                    }
                });
            } else if (document.getElementById('timeline-container').style.display == 'block') {
                hidetimelinecontainer();
                removeactoveclassfromfbtn();
            }
        }
        
        
        function convertToHoursAndMinutes(timeInMinutes) {
            const hours = Math.floor(timeInMinutes / 60);
            const minutes = Math.round(timeInMinutes % 60);
            return { hours, minutes };
        }
        
        
        function toggleConsole(thiselementwasclicked){
            thiselementwasclicked.classList.toggle("Active");
            if (thiselementwasclicked.classList.contains('Active')){
                document.querySelector('.showconsolebtn').style.display = "inline-block";
            }else {
                document.querySelector('.showconsolebtn').style.display = "none";
                hideconsoleconteiner();
            }
        }
        
        toggleConsole(document.querySelector('.consoletogglebtn'));
        
        
        function stopTimeline() {
            timelineRunning = false;
            clearInterval(timelineInterval);
            document.getElementById('timeline-line').style.height = '0';
        }
        
        
        function runTimeline(time) {
            if (timelineRunning) {
                stopTimeline();
            }
        
            timelineRunning = true;
            let timeline = document.getElementById('timeline-line');
            let totalSeconds = time * 60;
            let currentSecond = 0;
        
            timelineInterval = setInterval(() => {
                if (!timelineRunning) {
                    clearInterval(timelineInterval);
                    return;
                }
        
                currentSecond++;
                timeline.style.height = (currentSecond / totalSeconds) * 100 + '%';
                
                if (currentSecond >= totalSeconds) {
                    clearInterval(timelineInterval);
                    timelineRunning = false;
                    timeline.style.height = '100%';
                    removeactoveclassfromfbtn();
                    hidetimelinecontainer();
                    const { hours, minutes } = convertToHoursAndMinutes(parseFloat(time));
                    showtimeinput(hours + ` hour${hours > 1 ? 's' : ''} and ` + minutes + ` minute${minutes > 1 ? 's' : ''} have passed! Enter a new time`, (userprompt) => {
                        if (userprompt != null && !isNaN(userprompt)) {
                            showtimelinecontainer();
                            addactoveclassfromfbtn();
                            runTimeline(userprompt);
                        }else {
                            hidetimelinecontainer();
                            removeactoveclassfromfbtn();
                        }
                    });
                }
            }, 1000);
        }
        
        
        document.getElementById('timeline-container').addEventListener('click', () => {
            showtimeinput('enter a new time', (userprompt) => {
                if (userprompt != null && !isNaN(userprompt)) {
                    showtimelinecontainer();
                    addactoveclassfromfbtn();
                    runTimeline(userprompt);
                }else {
                    hidetimelinecontainer();
                    removeactoveclassfromfbtn();
                    removeactoveclassfromfbtn();
                }
            });
        });
        
        
        function highlightMatches(text, container, patterns) {
            let lastIndex = 0;
        
            while (lastIndex < text.length) {
                let matched = false;
        
                for (const { regex, className } of patterns) {
                    const clonedRegex = new RegExp(regex.source, regex.flags);
                    clonedRegex.lastIndex = lastIndex;
        
                    const match = clonedRegex.exec(text);
        
                    if (match && match.index === lastIndex) {
                        matched = true;
                        if (lastIndex < match.index) {
                            const before = document.createElement("span");
                            before.textContent = text.slice(lastIndex, match.index);
                            container.appendChild(before);
                        }
                        const span = document.createElement("span");
                        span.textContent = match[0];
                        span.className = className;
                        container.appendChild(span);
        
                        lastIndex = match.index + match[0].length;
                        break;
                    }
                }
        
                if (!matched) {
                    const span = document.createElement("span");
                    span.textContent = text[lastIndex];
                    container.appendChild(span);
                    lastIndex++;
                }
            }
        }
        
        
        document.addEventListener('click', (event) => {
            if (event.target.classList.contains('code-editor-btn') || event.target.classList.contains('editor-selected-line-btns') || event.target.classList.contains('eslbtn') || event.target.classList.contains('code-editor-btns') || event.target.classList.contains('threedots')){
                if (document.querySelector('.notificationmessage').style.display != "none") {
                    hidenotificationmessage();
                }
            }
        });
        
        
        function notify(message, buttontext, callback){
            document.querySelector('.notificationmessage .messagespan').textContent = message;
            document.querySelector('.notificationmessage .confirmationbtn').textContent = buttontext;
            shownotificationmessage();
            document.querySelector('.notificationmessage .confirmationbtn').onclick = () => {
                callback();
                if (document.querySelector('.notificationmessage').style.animation != "hidenotifucationmessageanimation 0.5s ease-out") {
                    hidenotificationmessage();
                }
            };
            setTimeout(() => {
                if (document.querySelector('.notificationmessage').style.animation != "hidenotifucationmessageanimation 0.5s ease-out") {
                    hidenotificationmessage();
                }
            }, 5000);
        }
        
        
        function testRegex() {
            const regexInput = document.getElementById('testregexinput').value;
            const flagsInput = document.getElementById('testregexflagsinput').value;
            const testString = document.getElementById('testString').value;
            const output = document.getElementById('testregexoutput');
            const showoutputvalue = document.getElementById('testregexshowoutput');
        
            try {
                const regex = new RegExp(regexInput, flagsInput);
                const patterns = [
                    { regex: regex, className: "regextestshowmatchresultresult" }
                ];
        
                const matches = testString.match(regex);
                if (matches && regexInput != "" && regexInput != "^") {
                    showoutputvalue.innerHTML = "";
                    const container = document.createDocumentFragment();
                    highlightMatches(testString, container, patterns);
                    showoutputvalue.appendChild(container);
                    if (matches.length > 1){
                        output.textContent = matches.length + ' matches: ' + matches.join(', ');
                    }else {
                        output.textContent = matches.length + ' match: ' + matches.join(', ');
                    }
                } else if (regexInput == "" || regexInput == "^"){
                    output.textContent = 'to many matches.';
                    showoutputvalue.innerHTML = '';
                    showoutputvalue.textContent = testString;
                }else if (!matches) {
                    output.textContent = 'No matches found.';
                    showoutputvalue.innerHTML = '';
                    showoutputvalue.textContent = testString;
                }
                
                return `/${regex.source}/${regex.flags}`;
            } catch (e) {
                output.textContent = `Error: ${e.message}`;
                showoutputvalue.textContent = `Error: ${e.message}`;
                return null;
            }
        }
        
        
        function showRegexTester(regexString, callback) {
            const overlay = document.getElementById('testregexoverlay');
            showtestregexoverlay();
            document.getElementById('testregexinput').focus();
        
            try {
                const regexParts = regexString.match(/^\/(.*?)\/([a-z]*)$/);
                if (!regexParts) {
                    showAlert('Invalid Regex')
                }
        
                const pattern = regexParts[1];
                const flags = regexParts[2];
                document.getElementById('testregexinput').value = pattern;
                document.getElementById('testregexflagsinput').value = flags;
            } catch (e) {
                showAlert("Invalid regex: " + e.message);
                return;
            }
        
            const useButton = document.getElementById('useButton');
            useButton.onclick = () => {
                const regex = testRegex();
                if (regex) {
                    callback(regex);
                }
                hidetestregexoverlay();
            };
        }
        
        document.getElementById('testButton').onclick = testRegex;
        
        
        function gobackrotateanimation(deletebtnnnn) {
            if (document.querySelector('.undoanimation input[type="checkbox"]').checked == false) {
                return;
            }
            const initialsign = deletebtnnnn.textContent;
            deletebtnnnn.style.animation = "none";
            void deletebtnnnn.offsetWidth;
            deletebtnnnn.style.animation = "rotatesignleft 0.4s ease-out";
            deletebtnnnn.disabled = true;
            setTimeout(() => {
                deletebtnnnn.disabled = false;
            }, 400);
        }
        
        let lasteventsparentsection = document.getElementById('section0');
        let pastevents = {};
        let futureevents = {};
        
        
        function disablepastbtn() {
            if (lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn') && !lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn').classList.contains('disabled')){
                lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn').classList.add('disabled');
            }
        }
        
        
        function enablepastbtn() {
            if (lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn') && lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn').classList.contains('disabled')) {
                lasteventsparentsection.querySelector('.editor-selected-line-btns #pastbtn').classList.remove('disabled');
            }
        }
        
        
        function gobacktolastpastevent() {
            let celine = section.querySelector('.code-editor-line:focus');
            if (!lasteventsparentsection){
                return;
            }
            if (!pastevents[lasteventsparentsection.id]){
                disablepastbtn();
                return;
            }
            const lastevent = pastevents[lasteventsparentsection.id].pop();
            
            if (!lastevent){
                disablepastbtn();
                return;
            }
            if (pastevents[lasteventsparentsection.id].length <= 0){
                disablepastbtn();
            }
            lastevent.reverse();
            
            lastevent.forEach(element => {
                if (element.type == "delete") {
                    const allselectedlines = lasteventsparentsection.querySelectorAll(".hiddenlinesparent");
                    if (allselectedlines.length) {
                        allselectedlines.forEach(selectedline => {
                            selectedline.classList.remove('hiddenlinesparent');
                            showHiddenElements(selectedline);
                            updateSelectedClasses();
                        });
                    }
                    if (lasteventsparentsection.querySelectorAll('.code-editor-container .code-editor-line')[element.index - 1]) {
                        lasteventsparentsection.querySelectorAll('.code-editor-container .code-editor-line')[element.index - 1].insertAdjacentElement("afterend", element.element);
                        addJsSyntaxHighlighting(element.element);
                    } else if (lasteventsparentsection.querySelectorAll('.code-editor-container .code-editor-line')[element.index]) {
                        lasteventsparentsection.querySelectorAll('.code-editor-container .code-editor-line')[element.index].insertAdjacentElement("beforebegin", element.element);
                        addJsSyntaxHighlighting(element.element);
                    } else {
                        lasteventsparentsection.querySelector('.code-editor-container').appendChild(element.element);
                        addJsSyntaxHighlighting(element.element);
                    }
            
                    if (allselectedlines.length) {
                        allselectedlines.forEach(selectedline => {
                            analyzeAndHideElements(selectedline);
                            updateSelectedClasses();
                        });
                    }
                    if (lasteventsparentsection.querySelector('.code-editor-line.selected')) {
                        lasteventsparentsection.querySelectorAll('.eslbtn').forEach(dline => {
                            if (dline.classList.contains('disabled')) {
                                dline.classList.remove('disabled');
                            }
                        });
                    }
                    if (element.element) scrolltolinenumber(getElementIndexInParent(element.element));
                    updateSelectedClasses();
                }else if (element.type == "text"){
                    element.element.textContent = element.text;
                    addJsSyntaxHighlighting(element.element);
                    if (element.element) scrolltolinenumber(getElementIndexInParent(element.element));
                }else if (element.type == "create"){
                    if (element.element) scrolltolinenumber(getElementIndexInParent(element.element));
                    element.element.remove();
                    if (!lasteventsparentsection.querySelector('.code-editor-line.selected')) {
                        lasteventsparentsection.querySelectorAll('.eslbtn').forEach(dline => {
                            if (!dline.classList.contains('disabled')) {
                                dline.classList.add('disabled');
                            }
                        });
                    }
                    updateSelectedClasses();
                }else if (element.type == "addclass"){
                    if (element.element) scrolltolinenumber(getElementIndexInParent(element.element));
                    element.element.classList.add(element.text);
                }else if (element.type == "removeclass") {
                    if (element.element) scrolltolinenumber(getElementIndexInParent(element.element));
                    element.element.classList.remove(element.text);
                }
                if (element.cursor) {
                    setCursorPosition(element.element, element.cursor);
                }
            });
        }
        
        
        let createkonfetti = true;
        function createConfetti() {
            if (!createkonfetti){
                return;
            }
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.top = `${-100}px`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = `${Math.random() * 2 + 3}s`;
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);
            }
            createkonfetti = false;
        }
        
        let focuslinetimeout;
        function focuseceline(celine) {
            if (focuslinetimeout) {
                clearTimeout(focuslinetimeout);
                document.querySelectorAll('.focusedline').forEach(el => el.classList.remove('focusedline'));
            }
            celine.classList.add('focusedline');
            focuslinetimeout = setTimeout(() => {
                celine.classList.remove('focusedline');
                focuslinetimeout = null;
            }, 3000);
        }
        
        function mergecode(htmlCodeComtainer, additionalCode, tofinde) {
            closesidebaronsmallscreensizes();
            closeeverything();
            if (htmlCodeComtainer.parentElement){
                lasteventsparentsection = htmlCodeComtainer.parentElement;
            }else {
                showAlert('Merge Failed');
                return;
            }
            let navBar = document.getElementById('nav-bar');
            let scrolltothissection = navBar.querySelector('.nav-dot[data-index="' + htmlCodeComtainer.parentElement.id.replace('section', '') + '"]');
            if (scrolltothissection) {
                scrolltothissection.scrollIntoView({ behavior: 'smooth' });
                document.querySelector('.overlay-back-btn').click();
            }
            const allselectedlines = htmlCodeComtainer.querySelectorAll(".hiddenlinesparent");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove('hiddenlinesparent');
                    showHiddenElements(selectedline);
                    updateSelectedClasses();
                });
            }
            let celines = htmlCodeComtainer.querySelectorAll('.code-editor-line');
            relevantlines = [];
            celines.forEach((line, index) => {
                if (line.textContent.includes(tofinde)){
                    relevantlines.push(index);
                }
            });
            let celine = null;
            if (tofinde == "</head>"){
                if (relevantlines == [] || !celines[relevantlines[0] - 1]){
                    showAlert('Merge Failed');
                    return;
                }
    
                celine = celines[relevantlines[0] - 1];
            }else {
                if (relevantlines == [] || !celines[relevantlines[relevantlines.length - 1] - 1]) {
                    showAlert('Merge Failed');
                    return;
                }

                celine = celines[relevantlines[relevantlines.length - 1] - 1];
            }
            if (!celine) {
                showAlert('the merge failed');
                return;
            }
            startLoadingMerge();
            let newpast = [];

            let pastelement = {
                element: celine,
                type: "text",
                text: celine.textContent
            };
            newpast.push(pastelement);

            let spaces = "";
            let extraspacesadded = false;
            let continueSpaces = true;
            for (let i = 0; i < celine.textContent.length; i++) {
                let character = celine.textContent[i];
                if ((character === " " || character === "\u00A0") && continueSpaces) {
                    spaces += "\u00A0";
                } else {
                    continueSpaces = false;
                }
            }
            if (celine.textContent.trim().endsWith('<style>') || celine.textContent.trim().startsWith('<style>')) {
                extraspacesadded = true;
                spaces += "\u00A0\u00A0\u00A0\u00A0";
            }else if (celine.textContent.trim().endsWith('<body>') || celine.textContent.trim().startsWith('<body>')){
                spaces += "\u00A0\u00A0\u00A0\u00A0";
            }else if (celine.textContent.trim().endsWith('<script>') || celine.textContent.trim().startsWith('<body>')) {
                spaces += "\u00A0\u00A0\u00A0\u00A0";
            }

            let pasteText = additionalCode;
    
            let lines = pasteText.split(/\r\n|\n|\r/);

            let firstreferencespacesforspacecoun = convertToNonBreakingSpaces(lines[0]);

            let space2 = "";
            let continueSpace2 = true;
            for (let i = 0; i < firstreferencespacesforspacecoun.length; i++) {
                let character = firstreferencespacesforspacecoun[i];
                if ((character === " " || character === "\u00A0") && continueSpace2) {
                    space2 += "\u00A0";
                } else {
                    continueSpace2 = false;
                }
            }
            const firstLineLeadingSpacesCount = space2.length;
            let lineSpacesCoun2 = 0;
            let continueLineSpac2 = true;

            for (let j = 0; j < lines[0].length; j++) {
                let character = lines[0][j];
                if ((character === " " || character === "\u00A0") && continueLineSpac2) {
                    lineSpacesCoun2++;
                } else {
                    continueLineSpac2 = false;
                }
            }

            let adjustedLin2 = lines[0];
            if (lineSpacesCoun2 >= firstLineLeadingSpacesCount) {
                adjustedLin2 = lines[0].slice(firstLineLeadingSpacesCount);
            }
            celine.textContent += convertToNonBreakingSpaces(adjustedLin2);
            addJsSyntaxHighlighting(celine);
            let longspaces = spaces + "\u00A0\u00A0\u00A0\u00A0";
    
            let startwithscriptorstyle = additionalCode.trim().startsWith('<style>') || additionalCode.trim().startsWith('<script>');
            for (let i = 1; i < lines.length; i++) {
                correntids += 1;
                const newline = document.createElement('div');
                newline.setAttribute('contenteditable', 'true');
                newline.id = correntids;
                newline.classList.add('code-editor-line');
                let lineSpacesCount = 0;
                let continueLineSpaces = true;

                for (let j = 0; j < lines[i].length; j++) {
                    let character = lines[i][j];
                    if ((character === " " || character === "\u00A0") && continueLineSpaces) {
                        lineSpacesCount++;
                    } else {
                        continueLineSpaces = false;
                    }
                }
                let adjustedLine = lines[i];
                if (lineSpacesCount >= firstLineLeadingSpacesCount) {
                    adjustedLine = lines[i].slice(firstLineLeadingSpacesCount);
                }
                if (i != lines.length - 1 && startwithscriptorstyle && i != 1 && !extraspacesadded) {
                    newline.textContent = longspaces + convertToNonBreakingSpaces(adjustedLine);
                } else {
                    newline.textContent = spaces + convertToNonBreakingSpaces(adjustedLine);
                }
                celine.insertAdjacentElement('afterend', newline);
                addJsSyntaxHighlighting(newline);
                let pastelement2 = {
                    element: newline,
                    type: "create",
                    index: getElementIndexInParent(newline)
                };
                newpast.push(pastelement2);
                celine = newline;
                if (i == lines.length - 1 && htmlCodeComtainer.parentElement && htmlCodeComtainer.parentElement.style.display != "none") {
                    celine.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center',
                        inline: 'center'
                    });
                    focuseceline(celine);
                }
                if (allselectedlines.length) {
                    allselectedlines.forEach(selectedline => {
                        analyzeAndHideElements(selectedline);
                        updateSelectedClasses();
                    });
                }
            }
            if (newpast.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }
        
        
        function modifyHTML(htmlCode, additionalCode, type, htmlCodeComtainer) {
            const bodyRegex = /<body[^>]*>([\s\S]*?)<\/body>/i;
            const scriptRegex = /<script[^>]*>([\s\S]*?)<\/script>/i;
            const headRegex = /<head[^>]*>([\s\S]*?)<\/head>/i;
            const styleTagRegex = /<style[^>]*>([\s\S]*?)<\/style>/i;

            if (type == 'js') {
                if (bodyRegex.test(htmlCode)){
                    mergecode(htmlCodeComtainer, '\n<script>\n' + additionalCode + '\n<\/script>', '</body>');
                }else if (scriptRegex.test(htmlCode)){
                    mergecode(htmlCodeComtainer, '\n' + additionalCode + '\n', '<\/script>');
                }else {
                    showAlert('make sure that you have a body or script tag in your html code');
                }
            } else if (type == 'css') {
                if (styleTagRegex.test(htmlCode)) {
                    mergecode(htmlCodeComtainer, '\n' + additionalCode, '</style>');
                }else if (headRegex.test(htmlCode)) {
                    mergecode(htmlCodeComtainer, '\n<style>\n' + additionalCode + '\n<\/style>', '</head>');
                }else {
                    showAlert('make sure that you have a head or a style tag in your html code');
                }
            }else {
                showAlert('you can only merge css, javascript and html, with eachother');
            }

            return htmlCode;
        }
        
        
        function adjustElementPosition(element) {
            const rect = element.getBoundingClientRect();
            const screenHeight = window.innerHeight;

            const distanceToBottom = rect.bottom - screenHeight;

            if (distanceToBottom > 0) {
                element.style.top = `${rect.top - distanceToBottom}px`;
            }
        }
        
        
        function adjustElementPositionleft(element) {
            const rect = element.getBoundingClientRect();
            const screenWidth = window.innerWidth;
    
            const distanceToRight = rect.right - screenWidth;

            if (distanceToRight > 0) {
                element.style.left = `${rect.left - distanceToRight}px`;
            }

            if (rect.left < 0) {
                element.style.left = "0px";
            }
        }
        
        
        function createOptionsContainer(targetElement, number) {
            const options = [
                { icon: "⌧", text: "Delete" },
                { icon: "□", text: "Copy Code" },
                { icon: "□", text: "Copy Path" },
                { icon: "■", text: "Duplicate" },
                { icon: "-", text: "Merge" },
                { icon: "↓", text: "Download" }
            ];
        
            const overlay = document.createElement("div");
            overlay.className = "overlay";
        
            const container = document.createElement("div");
            container.className = "options-container";
            overlay.appendChild(container);
        
            options.forEach((option) => {
                const optionItem = document.createElement("div");
                optionItem.className = "option-item";
        
                const icon = document.createElement("button");
                icon.className = "option-icon";
                icon.textContent = option.icon;
        
                const text = document.createElement("span");
                text.className = "option-text";
                text.textContent = option.text;
        
                const copyText = (text) => {
                    try {
                        dontcopy = true;
                        const textarea = document.createElement("textarea");
                        textarea.value = text.trim();
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand("copy");
                        document.body.removeChild(textarea);
                        dontcopy = false;
                    } catch (error) {
                        const catchederror = error;
                    }
                };
        
                const copyCode = (element) => {
                    let text = "";
                    element.querySelectorAll(".code-editor-line").forEach((line) => {
                        text += line.textContent + "\n";
                    });
                    try {
                        dontcopy = true;
                        const textarea = document.createElement("textarea");
                        textarea.value = text.trim();
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand("copy");
                        document.body.removeChild(textarea);
                        dontcopy = false;
                    } catch (error) {
                        const catchederror = error;
                    }
                };
        
                function getalllinestext(element) {
                    let text = "";
                    element.querySelectorAll(".code-editor-line").forEach((line) => {
                        text += line.textContent + "\n";
                    });
                    return text;
                }
        
                function MergeFiles() {
                    const promptInput = document.getElementById('custom-input');
                    const promptOptions = document.querySelector('#prompt-options');
                    const allFilePaths = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
                    if (allFilePaths.length > 0) {
                        promptOptions.innerHTML = "";
                        promptOptions.style.display = "flex";
                    }
                    allFilePaths.forEach(filePathOp => {
                        const filePathOpSpan = document.createElement("span");
                        filePathOpSpan.textContent = filePathOp;
                        filePathOpSpan.addEventListener("click", () => {
                            promptInput.value = filePathOp;
                        });
                        
                        if (!supportedpl.some(sEnds => filePathOp.endsWith(sEnds))) {
                            filePathOpSpan.classList.add("unSupported");
                        }
                        
                        promptOptions.appendChild(filePathOpSpan);
                    });
                    showPrompt('merge with file:', (filename) => {
                        if (allFilePaths.length > 0) {
                            promptOptions.innerHTML = "";
                            promptOptions.style.display = "none";
                        }
                        let allfilenames = document.querySelectorAll('.filedot .filePathInput');
                        let allfilenamesarray = Array.from(allfilenames).map(input => input.value);
                        if (!allfilenamesarray.includes(filename)) {
                            showAlert('you have no html, css or javascript file with the name: ' + filename);
                            return;
                        }
                        allfilenames.forEach(file => {
                            if (file.value == filename) {
                                let mergedcode = "";
                                let htmlfile = "";
                                if (targetElement.classList.contains('edit-btn') && targetElement.parentElement.parentElement.querySelector('.notclickable')) {
                                    if (targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.html') && file.value.trim().endsWith('.css') && !file.value.trim().endsWith('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            'css',
                                            document.querySelector(`#section${number} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${number} .code-editor-container`);
                                    } else if (targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.html') && !file.value.trim().endsWith('.css') && file.value.trim().endsWith('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            'js',
                                            document.querySelector(`#section${number} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${number} .code-editor-container`);
                                    } else if (targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.css') && file.value.trim().endsWith('.html') && !file.value.trim().endsWith('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            'css',
                                            document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)
                                        );
        
                                        htmlfile = document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`);
                                    } else if (targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.js') && file.value.trim().endsWith('.html') && !file.value.trim().endsWith('.css')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            'js',
                                            document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`);
                                    } else {
                                        showAlert('you can only merge javascript and css with html code');
                                    }
                                } else {
                                    if (targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.html') && file.value.trim().endsWith('.css') && !file.value.trim().includes('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            'css',
                                            document.querySelector(`#section${number} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${number} .code-editor-container`);
                                    } else if (targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.html') && !file.value.trim().endsWith('.css') && file.value.trim().endsWith('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            'js',
                                            document.querySelector(`#section${number} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${number} .code-editor-container`);
                                    } else if (targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.css') && file.value.trim().endsWith('.html') && !file.value.trim().endsWith('.js')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            'css',
                                            document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`);
                                    } else if (targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.js') && file.value.trim().endsWith('.html') && !file.value.trim().endsWith('.css')) {
                                        mergedcode = modifyHTML(
                                            getalllinestext(document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)),
                                            getalllinestext(document.querySelector(`#section${number} .code-editor-container`)),
                                            'js',
                                            document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`)
                                        );
                                        htmlfile = document.querySelector(`#section${file.parentElement.getAttribute('data-index')} .code-editor-container`);
                                    } else {
                                        showAlert('you can only merge javascript and css with html code');
                                    }
                                }
                            }
                        });
                    });
                }
                
                let thisfilepath = "";
                const thisfilenameinput = document.querySelector('#nav-bar .nav-dot[data-index="' + number + '"] .filePathInput');
                if (thisfilenameinput) {
                    thisfilepath = thisfilenameinput.value;
                }
        
                if (option.text == "Delete") {
                    optionItem.onclick = () => {
                        overlay.remove();
                        deletethisfile(number);
                    };
                } else if (option.text == "Download") {
                    if (thisfilepath){
                        optionItem.onclick = () => {
                            overlay.remove();
                            downloadFile(thisfilepath);
                        };
                    } else {
                        return;
                    }
                } else if (option.text == "Copy Path") {
                    if (thisfilepath) {
                        optionItem.onclick = () => {
                            overlay.remove();
                            copyText(thisfilepath);
                        };
                    } else {
                        return;
                    }
                } else if (option.text == "Copy Code") {
                    if (document.querySelector(`#section${number} .code-editor-container`)){
                        const textToCopy = document.querySelector(`#section${number} .code-editor-container`);
                        optionItem.onclick = () => {
                            overlay.remove();
                            copyCode(textToCopy);
                        };
                    } else {
                        return;
                    }
                } else if (option.text == 'Merge') {
                    if (targetElement.parentElement && document.querySelector(`#section${number} .code-editor-container`)){
                        optionItem.onclick = () => {
                            overlay.remove();
                            MergeFiles();
                        };
                    } else {
                        return;
                    }
                } else if (option.text == "Duplicate") {
                    if (document.querySelector(`#section${number} .code-editor-container`) && thisfilepath){
                        optionItem.onclick = () => {
                            overlay.remove();
                            duplicatefile(thisfilepath, document.querySelector(`#section${number}`));
                        };
                    } else {
                        return;
                    }
                }
        
                if (number == "0" && option.text == "Delete") {
                    return;
                }
        
                if (targetElement.classList.contains('edit-btn') && targetElement.parentElement.parentElement.querySelector('.notclickable')) {
                    if (option.text == "Merge" && !targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.html') && !targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.css') && !targetElement.parentElement.parentElement.querySelector('.notclickable').textContent.trim().endsWith('.js')) {
                        return;
                    }
                } else {
                    if (option.text == "Merge" && !targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.html') && !targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.js') && !targetElement.parentElement.textContent.replace("⋮", "").trim().endsWith('.css')) {
                        return;
                    }
                }
        
                optionItem.appendChild(icon);
                optionItem.appendChild(text);
                container.appendChild(optionItem);
            });
        
            const targetRect = targetElement.getBoundingClientRect();
            setTimeout(() => {
                document.body.appendChild(overlay);
                container.style.position = "absolute";
                container.style.top = `${targetRect.bottom + 5}px`;
                adjustElementPosition(container);
                container.style.left = `${
                            targetRect.left + targetRect.width / 2 - container.offsetWidth / 2
                        }px`;
                adjustElementPositionleft(container);
            }, 0);
        
            overlay.addEventListener("click", (event) => {
                if (event.target === overlay) {
                    overlay.remove();
                }
            });
        }
        
        function typeEffect(element, newText, callback) {
            const originalText = element.textContent || "";

            let index = originalText.length;

            function removeText() {
                if (index > 0) {
                    element.textContent = originalText.slice(0, --index);
                    setTimeout(removeText, 100);
                } else {
                    buildText();
                }
            }

            let buildIndex = 0;
    
            function buildText() {
                if (buildIndex < newText.length) {
                    element.textContent += newText.charAt(buildIndex++);
                    setTimeout(buildText, 100);
                } else if (callback) {
                    callback();
                }
            }
            removeText();
        }
        
        let themetoedit = document.querySelector(`.custom-theme`);
        
        
        function removeThemeProperties() {
            if (!themetoedit) {
                return;
            }

            themetoedit.style.removeProperty('--selected-color');
            themetoedit.style.removeProperty('--rectangleborder');
            themetoedit.style.removeProperty('--checkmark-color');
            themetoedit.style.removeProperty('--switchcheckedbackground-color');
            themetoedit.style.removeProperty('--loadingbarloadedbackground-color');
            themetoedit.style.removeProperty('--rectanglecolorcolor-color');
            themetoedit.style.removeProperty('--codeeditoreditbtn-color');
            themetoedit.style.removeProperty('--lightdarkgrey-color');
            themetoedit.style.removeProperty('--lightgrey-color');
            themetoedit.style.removeProperty('--background-color');
            themetoedit.style.removeProperty('--safariheaderbackground-color');
            themetoedit.style.removeProperty('--half-transparent-bg-color');
            themetoedit.style.removeProperty('--half-transparent-border-color');
            themetoedit.style.removeProperty('--white-color');
            themetoedit.style.removeProperty('--commandlistbackground-color');
            themetoedit.style.removeProperty('--codeeditoreditbtnbackground-color');
            themetoedit.style.removeProperty('--contentcontainer-color');
            themetoedit.style.removeProperty('--deviceborder-color');
            themetoedit.style.removeProperty('--browserheaderborderbottom-color');
            themetoedit.style.removeProperty('--urlbarbackground-color');
            themetoedit.style.removeProperty('--urlbarcolor-color');
            themetoedit.style.removeProperty('--black-color');
            themetoedit.style.removeProperty('--spencialbtnbackground-color');
            themetoedit.style.removeProperty('--browsercontainerbackground-color');
            themetoedit.style.removeProperty('--browseriframebackgroundcolor-color');
            themetoedit.style.removeProperty('--browsercontainerbackground-color');
            themetoedit.style.removeProperty('--seccontainerbackground-color');
            themetoedit.style.removeProperty('--syntaxblock-color');
            themetoedit.style.removeProperty('--syntaxoperator-color');
            themetoedit.style.removeProperty('--syntaxbracket-color');
            themetoedit.style.removeProperty('--syntaxsign-color');
            themetoedit.style.removeProperty('--syntaxstring-color');
            themetoedit.style.removeProperty('--syntaxnumber-color');
            themetoedit.style.removeProperty('--syntaxcomment-color');
            themetoedit.style.removeProperty('--syntaxvariable-color');
            themetoedit.style.removeProperty('--syntaxcommand-color');
            themetoedit.style.removeProperty('--syntaxkeyword-color');
            themetoedit.style.removeProperty('--syntaxhtmlcomment-color');
            themetoedit.style.removeProperty('--syntaxregex-color');
            themetoedit.style.removeProperty('--filepathinput-color');
            themetoedit.style.removeProperty('--syntaxhtmltagcontent-color');
            themetoedit.style.removeProperty('--griddot-color');
            themetoedit.style.removeProperty('--drakgrey-color');
            themetoedit.style.removeProperty('--overlaycolor-color');
            themetoedit.style.removeProperty('--commandlistcolor-color');
            themetoedit.style.removeProperty('--linenumber-color');
            themetoedit.style.removeProperty('--caret-color');
        }
        
        
        function updateaccentColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit){
                return;
            }
            const selectedColor = document.getElementById('accentColor').value;
            const alpha = document.getElementById('accentAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            const minusRgba = hexToRgbaMinus(selectedColor, alpha);
            themetoedit.style.setProperty('--drakgrey-color', rgba);
            themetoedit.style.setProperty('--lightgrey-color', rgba);
            themetoedit.style.setProperty('--lightdarkgrey-color', minusRgba);
            themetoedit.style.setProperty('--urlbarbackground-color', rgba);
            themetoedit.style.setProperty('--spencialbtnbackground-color', rgba);
            themetoedit.style.setProperty('--seccontainerbackground-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function isColorLightOrDark(rgba) {
            const match = rgba.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
            if (!match) {
                throw new Error("Ungültiger RGBA-Wert");
            }

            const r = parseInt(match[1], 10);
            const g = parseInt(match[2], 10);
            const b = parseInt(match[3], 10);

            const brightness = 0.2126 * r + 0.7152 * g + 0.0722 * b;
    
            return brightness > 128 ? "light" : "dark";
        }
        
        
        function updateColorColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('colorColor').value;
            const alpha = document.getElementById('colorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            const rgba2 = hexToRgba(selectedColor, alpha - 0.5);
            themetoedit.style.setProperty('--urlbarcolor-color', rgba);
            themetoedit.style.setProperty('--black-color', rgba);
            themetoedit.style.setProperty('--overlaycolor-color', rgba2);
            themetoedit.style.setProperty('--linenumber-color', rgba);
            themetoedit.style.setProperty('--commandlistcolor-color', rgba);
            generateCustomThemeCode();
        }

        function hexToRgbaMinus(hex, alpha) {
            const r = Math.max(0, parseInt(hex.slice(1, 3), 16) - 30);
            const g = Math.max(0, parseInt(hex.slice(3, 5), 16) - 30);
            const b = Math.max(0, parseInt(hex.slice(5, 7), 16) - 30);
            
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }
        
        function updateSelectedColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('selectedColor').value;
            const alpha = document.getElementById('selectedAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            const rgba2 = hexToRgbaMinus(selectedColor, alpha);
            themetoedit.style.setProperty('--selected-color', rgba2);
            themetoedit.style.setProperty('--checkmark-color', rgba);
            themetoedit.style.setProperty('--caret-color', rgba);
            generateCustomThemeCode();
        }
        
        
        async function updategridColorColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('gridColor').value;
            const alpha = document.getElementById('gridColorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            function updateCssVariable() {
                themetoedit.style.setProperty('--griddot-color', rgba);
            }
            await updateCssVariable();
            if (document.querySelector('.gridop.cyselected') && document.getElementById('enablegridcheckbox').checked) {
                selectthisgrid(document.querySelector('.gridop.cyselected'));
            }
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxhtmltagcontentcolor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxhtmltagcontentcolor').value;
            const alpha = document.getElementById('syntaxhtmltagcontentcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxhtmltagcontent-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updateBackgroundColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('backgroundColor').value;
            const alpha = document.getElementById('backgroundAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            const transparentRgba = hexToRgba(selectedColor, 0.1);
            themetoedit.style.setProperty('--half-transparent-bg-color', transparentRgba);
            themetoedit.style.setProperty('--background-color', rgba);
            themetoedit.style.setProperty('--safariheaderbackground-color', rgba);
            themetoedit.style.setProperty('--white-color', rgba);
            themetoedit.style.setProperty('--commandlistbackground-color', rgba);
            themetoedit.style.setProperty('--codeeditoreditbtnbackground-color', rgba);
            themetoedit.style.setProperty('--contentcontainer-color', rgba);
            if (isColorLightOrDark(rgba) == "light"){
                themetoedit.style.setProperty('--browsercontainerbackground-color', '#fff');
                themetoedit.style.setProperty('--browseriframebackgroundcolor-color', '#fff');
                themetoedit.style.setProperty('--browsercontainerbackground-color', '#f7f7f7');
            }else {
                themetoedit.style.setProperty('--browsercontainerbackground-color', '#000');
                themetoedit.style.setProperty('--browseriframebackgroundcolor-color', '#000');
                themetoedit.style.setProperty('--browsercontainerbackground-color', '#0E0F0E');
            }
            generateCustomThemeCode();
        }
        
        
        function updateRectangleBorderColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const rectangleBorderColor = document.getElementById('rectangleBorderColor').value;
            const alpha = document.getElementById('rectangleBorderAlpha').value / 100;
            const rgba = hexToRgba(rectangleBorderColor, alpha);
            const transparentRgba = hexToRgba(rectangleBorderColor, 0.8);
            themetoedit.style.setProperty('--half-transparent-border-color', transparentRgba);
            themetoedit.style.setProperty('--rectangleborder', rgba);
            themetoedit.style.setProperty('--deviceborder-color', rgba);
            themetoedit.style.setProperty('--browserheaderborderbottom-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updateSwitchCheckedBackgroundColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const switchCheckedBackgroundColor = document.getElementById('switchCheckedBackgroundColor').value;
            const alpha = document.getElementById('switchCheckedAlpha').value / 100;
            const rgba = hexToRgba(switchCheckedBackgroundColor, alpha);
            themetoedit.style.setProperty('--switchcheckedbackground-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updateLoadingBarLoadedBackgroundColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const loadingBarLoadedBackgroundColor = document.getElementById('loadingBarLoadedBackgroundColor').value;
            const alpha = document.getElementById('loadingBarLoadedAlpha').value / 100;
            const rgba = hexToRgba(loadingBarLoadedBackgroundColor, alpha);
            themetoedit.style.setProperty('--loadingbarloadedbackground-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updateRectangleColorColor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const rectangleColorColor = document.getElementById('rectangleColorColor').value;
            const alpha = document.getElementById('rectangleColorAlpha').value / 100;
            const rgba = hexToRgba(rectangleColorColor, alpha);
            themetoedit.style.setProperty('--rectanglecolorcolor-color', rgba);
            themetoedit.style.setProperty('--filepathinput-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatecodeeditoreditbtncolor() {
            themetoedit = document.querySelector(`.custom-theme`);
            if (!themetoedit) {
                return;
            }
            const codeeditoreditbtncolor = document.getElementById('codeeditoreditbtncolor').value;
            const alpha = document.getElementById('codeeditoreditbtncolorAlpha').value / 100;
            const rgba = hexToRgba(codeeditoreditbtncolor, alpha);
            themetoedit.style.setProperty('--codeeditoreditbtn-color', rgba);
            generateCustomThemeCode();
        }
        
        function updatecustomtheme(codeInputField) {
            const themeCode = codeInputField.value.trim();
            const everyValue = themeCode.split('.');
            const everyColorInput = document.querySelectorAll('.switchtothememaincolorspan2');
            const everyRangeInput = document.querySelectorAll('.themeoption input[type="range"]');

            everyValue.forEach((value, index) => {
                const [valueHex, valueRange] = value.split(',');

                if (isValidHex(valueHex) && isValidNumber(valueRange)) {
                    if (everyColorInput[index]) {
                        everyColorInput[index].value = valueHex.trim();
                    }
                    if (everyRangeInput[index]) {
                        everyRangeInput[index].value = parseFloat(valueRange.trim());
                    }
                    updateSelectedColor();
                    updateColorColor();
                    updateBackgroundColor();
                    updateRectangleBorderColor();
                    updateSwitchCheckedBackgroundColor();
                    updateLoadingBarLoadedBackgroundColor();
                    updateRectangleColorColor();
                    updatecodeeditoreditbtncolor();
                    updatesyntaxblockcolor();
                    updatesyntaxoperatorcolor();
                    updatesyntaxbracketcolor();
                    updatesyntaxsigncolor();
                    updatesyntaxstringcolor();
                    updatesyntaxnumbercolor();
                    updatesyntaxcommentcolor();
                    updatesyntaxvariablecolor();
                    updatesyntaxcommandcolor();
                    updatesyntaxkeywordcolor();
                    updatesyntaxhtmlcommentcolor();
                    updatesyntaxregexcolor();
                    updatesyntaxhtmltagcontentcolor();
                    updategridColorColor();
                    updateaccentColor();
                }
            });
        }
        
        
        function updatesyntaxblockcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxblockcolor').value;
            const alpha = document.getElementById('syntaxblockcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxblock-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxoperatorcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxoperatorcolor').value;
            const alpha = document.getElementById('syntaxoperatorcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxoperator-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxbracketcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxbracketcolor').value;
            const alpha = document.getElementById('syntaxbracketcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxbracket-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxsigncolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxsigncolor').value;
            const alpha = document.getElementById('syntaxsigncolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxsign-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxstringcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxstringcolor').value;
            const alpha = document.getElementById('syntaxstringcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxstring-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxnumbercolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxnumbercolor').value;
            const alpha = document.getElementById('syntaxnumbercolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxnumber-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxcommentcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxcommentcolor').value;
            const alpha = document.getElementById('syntaxcommentcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxcomment-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxvariablecolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxvariablecolor').value;
            const alpha = document.getElementById('syntaxvariablecolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxvariable-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxcommandcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxcommandcolor').value;
            const alpha = document.getElementById('syntaxcommandcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxcommand-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxkeywordcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxkeywordcolor').value;
            const alpha = document.getElementById('syntaxkeywordcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxkeyword-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxhtmlcommentcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxhtmlcommentcolor').value;
            const alpha = document.getElementById('syntaxhtmlcommentcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxhtmlcomment-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function updatesyntaxregexcolor() {
            themetoedit = document.querySelector('.custom-theme');
            if (!themetoedit) {
                return;
            }
            const selectedColor = document.getElementById('syntaxregexcolor').value;
            const alpha = document.getElementById('syntaxregexcolorAlpha').value / 100;
            const rgba = hexToRgba(selectedColor, alpha);
            themetoedit.style.setProperty('--syntaxregex-color', rgba);
            generateCustomThemeCode();
        }
        
        
        function generateCustomThemeCode() {
            const everyColorInput = document.querySelectorAll('.switchtothememaincolorspan2');
            const everyRangeInput = document.querySelectorAll('.themeoption input[type="range"]');
    
            let themeCode = [];

            everyColorInput.forEach((colorInput, index) => {
                const colorValue = colorInput.value.trim();
                const rangeValue = everyRangeInput[index]?.value.trim();

                if (isValidHex(colorValue) && isValidNumber(rangeValue)) {
                    themeCode.push(`${colorValue},${rangeValue}`);
                }
            });

            const codeInput = document.querySelector('.customthemecodeinput');
            if (codeInput) {
                codeInput.value = themeCode.join('.');
            }
        }
        
        function isValidNumber(value) {
            const number = parseFloat(value.trim());
            return !isNaN(number) && number >= 0 && number <= 100;
        }
        
        function isValidHex(hex) {
            const hexPattern = /^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/;
            return hexPattern.test(hex.trim());
        }

        function hexToRgba(hex, alpha) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);

            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }
        
        const alldefaultthemes = {
            'dark-theme': "#000000,100.#161b22,100.#28a745,50.#ffffff,100.#161b22,100.#0156cd,100.#ffffff,100.#0156cd,100.#0156cd,100.#171b21,31.#c678dd,100.#e06c75,100.#abb2bf,100.#abb2bf,100.#98c379,100.#d19a66,100.#5c6370,100.#61afef,100.#e5c07b,100.#c678dd,100.#5c6370,100.#e06c75,100.#ffffff,100",
            "vintage-theme": "#333333,100.#474747,100.#fecb3e,50.#ffffff,100.#474747,100.#a67b01,100.#ffffff,100.#fdc700,100.#999999,100.#ffffff,10.#785800,100.#785800,100.#abb2bf,100.#abb2bf,100.#d38301,100.#d19a66,100.#5c6370,100.#fdc700,100.#e5c07b,100.#a67b01,100.#5c6370,100.#e06c75,100.#d6d6d6,100",
            "green-theme": "#000000,100.#010f00,100.#28a745,50.#024900,100.#041a00,100.#097f00,100.#1c6300,100.#0fb300,100.#0e6800,100.#00d41d,10.#096000,100.#07d900,100.#08e500,100.#038c00,100.#00e000,100.#00eb00,100.#003202,100.#047600,100.#008f00,100.#16e200,100.#002300,100.#01f600,100.#024600,100",
            "red-theme": "#0c0000,100.#220000,100.#750000,50.#880001,100.#2d0000,100.#f90001,100.#ed0001,100.#e70001,100.#fc0001,100.#fc0001,10.#860001,100.#800001,100.#ea0001,100.#ef0001,100.#f10001,100.#f80001,100.#4e0000,100.#a70001,100.#f00001,100.#a00001,100.#610000,100.#ff0304,100.#670000,100",
            "candy-theme": "#f9d3e0,100.#ffdce9,100.#fa92e9,100.#ff81b7,100.#ee719e,100.#ca7dff,100.#e63b7a,100.#be38f3,100.#ee719e,100.#e63b7a,100.#d00078,100.#ffaae9,100.#982b72,100.#c11463,100.#ffffff,100.#da63be,100.#b117c4,100.#c678dd,100.#5c6370,100.#e06cff,100.#ffffff,100.#e00075,100.#e63bd5,100",
            "lightblue-theme": "#ffffff,100.#daf4ff,100.#aafbff,50.#00cafb,100.#ccffff,100.#0088ef,100.#53e0ff,100.#0156cd,100.#007fd7,100.#ffffff,10.#84ebff,100.#64daff,100.#0d9fff,100.#3873bf,100.#007dff,100.#61bfff,100.#aafbff,100.#009fff,100.#73c2ff,100.#0078dd,100.#aafbff,100.#007cff,100.#8ce2ff,100",
            "enhanceddefaultdark-theme": "#020615,100.#0b1120,100.#0156cd,50.#ffffff,100.#0b1120,100.#0156cd,100.#ffffff,100.#0156cd,100.#0156cd,100.#0b1120,75.#c678dd,100.#e06c75,100.#abb2bf,100.#abb2bf,100.#98c379,100.#d19a66,100.#5c6370,100.#61afef,100.#e5c07b,100.#c678dd,100.#5c6370,100.#e06c75,100.#ffffff,100",
            "gray-theme": "#28282e,100.#393a43,100.#393a43,50.#ffffff,100.#393a43,100.#0156cd,100.#ffffff,100.#0156cd,100.#0156cd,100.#393a43,12.#c678dd,100.#e06c75,100.#abb2bf,100.#abb2bf,100.#98c379,100.#d19a66,100.#5c6370,100.#61afef,100.#e5c07b,100.#c678dd,100.#5c6370,100.#e06c75,100.#ffffff,100",
            "lightyellow-theme": "#f0f0f0,100.#ebebeb,100.#ffab01,50.#000000,100.#d6d6d6,100.#ffab01,100.#000000,100.#fecb3e,100.#ffab01,100.#d6d6d6,37.#a96800,100.#da5100,100.#858585,100.#707070,100.#da5100,100.#d19a66,100.#5c6370,100.#d19d01,100.#e5c07b,100.#d19d01,100.#5c6370,100.#d38301,100.#333333,100",
            "darkpurple-theme": "#141425,100.#1e1e2f,100.#5c2d91,100.#ffffff,100.#1e1e2f,100.#5c2d91,100.#ffffff,100.#5c2d91,100.#61afef,100.#1e1e2f,44.#c640dd,100.#5c2d91,100.#abb2bf,100.#abb2bf,100.#72c338,100.#d02d91,72.#5c6370,100.#61afef,100.#61afef,100.#b125dd,100.#5c6370,100.#5c2d91,100.#ffffff,100",
            "light-theme": "#ffffff,100.#e8eaee,100.#0075f0,100.#000000,100.#e8eaee,100.#0075f0,100.#7f868b,100.#0075f0,100.#0075f0,100.#dadce1,21.#0075f0,100.#abb2bf,100.#abb2bf,100.#abb2bf,100.#009500,100.#61afef,72.#5c6370,100.#0075f0,100.#0075f0,100.#0075f0,100.#5c6370,100.#0075f0,100.#000000,100",
            "custom-theme": ""
        };

        let lastchosentheme = "none";
        function addcustomthemetoallthemes() {
            showPrompt('enter the themes name', (inputedname) => {
                let name = inputedname.replace(/[^a-zA-Z]/g, '');
                const value = document.querySelector('.customthemecodeinput').value;
                if (name.trim() == "") {
                    showAlert("you did not enter a theme name");
                    return;
                }
                if (alldefaultthemes[name]) {
                    showAlert("you already have a file with the name: " + name);
                    return;
                }
                if (value == "") {
                    showAlert("make a theme, to save it");
                    return;
                }
                alldefaultthemes[name] = value;
                const div = document.createElement('div');
                div.className = "themeoption";
                const span = document.createElement('span');
                span.className = "switchtothememaincolorspan";
                const scinput = document.getElementById('switchCheckedBackgroundColor');
                if (scinput) {
                    span.style.background = scinput.value;
                } else {
                    span.style.background = "var(--secondary-color)";
                }
                const span2 = document.createElement('span');
                span2.className = "switchtothemetitlespan";
                span2.textContent = name;
                div.onclick = () => {
                    if (lastchosentheme != name){
                        switchtotheme(name);
                    } else {
                        showPrompt('want to rename? enter the new theme name', (newinputedthemename) => {
                            const newthemename = newinputedthemename.replace(/[^a-zA-Z]/g, '');
                            
                            if (newthemename.trim() === "") {
                                showAlert("Theme rename unsuccessful: name was empty.");
                                return;
                            }
                            
                            if (alldefaultthemes[newthemename]) {
                                showAlert("A theme with that name already exists.");
                                return;
                            }

                            if (!alldefaultthemes[name]){
                                showAlert("theme rename unsuccessful");
                                return;
                            }
                            
                            alldefaultthemes[newthemename] = alldefaultthemes[name];
                            delete alldefaultthemes[name];
                            span2.textContent = newthemename;
                            name = newthemename;
                        });
                    }
                };
                div.appendChild(span);
                div.appendChild(span2);
                document.querySelector('.themeoption2').insertAdjacentElement('beforebegin', div);
            });
        }
        
        function switchtotheme(theme) {
            lastchosentheme = theme;
            if (!alldefaultthemes[theme]){
                removeThemeProperties();
            }
            if (alldefaultthemes[theme]){
                updateSelectedColor();
                updateColorColor();
                updateBackgroundColor();
                updateRectangleBorderColor();
                updateSwitchCheckedBackgroundColor();
                updateLoadingBarLoadedBackgroundColor();
                updateRectangleColorColor();
                updatecodeeditoreditbtncolor();
                updatesyntaxblockcolor();
                updatesyntaxoperatorcolor();
                updatesyntaxbracketcolor();
                updatesyntaxsigncolor();
                updatesyntaxstringcolor();
                updatesyntaxnumbercolor();
                updatesyntaxcommentcolor();
                updatesyntaxvariablecolor();
                updatesyntaxcommandcolor();
                updatesyntaxkeywordcolor();
                updatesyntaxhtmlcommentcolor();
                updatesyntaxregexcolor();
                updatesyntaxhtmltagcontentcolor();
                updategridColorColor();
                updateaccentColor();
            }
            if (theme == "custom-theme"){
                document.body.classList.add("custom-theme");
                themetoedit = document.querySelector(`.${theme}`);
                const customthemecodeinput = document.querySelector('.customthemecodeinput');
                updatecustomtheme(customthemecodeinput);
            } else if (alldefaultthemes[theme]) {
                document.body.classList.add("custom-theme");
                themetoedit = document.querySelector(`.${theme}`);
                const customthemecodeinput = document.querySelector('.customthemecodeinput');
                customthemecodeinput.value = alldefaultthemes[theme];
                updatecustomtheme(customthemecodeinput);
            } else {
                document.body.classList.remove("custom-theme");
                document.body.className = "";
            }
        }
        
        function removeallthemes() {
            removeThemeProperties();
            document.body.classList.remove("custom-theme");
            document.body.className = "";
        }
        
        function showalltemplatescontainer() {
            document.getElementById('showalltemplatescontainerbtn').classList.add("ActiveOverlay");
            const socoverlay5container = document.querySelector('.overlay5-container');
            if (socoverlay5container.style.display != "flex") {
                socoverlay5container.style.display = "flex";
                socoverlay5container.style.animation = "none";
                void socoverlay5container.offsetWidth;
                if (transitionanimation != "none") {
                    socoverlay5container.style.animation = transitionanimation + "in 0.5s ease-out";
                }
            }
            closesidebaronsmallscreensizes();
        }
        function showallfilescontainer() {
            document.getElementById('showallfilescontainerbtn').classList.add("ActiveOverlay");
            const socoverlaycontainer = document.querySelector('.overlay-container');
            if (socoverlaycontainer.style.display != "flex") {
                socoverlaycontainer.style.display = "flex";
                socoverlaycontainer.style.animation = "none";
                void socoverlaycontainer.offsetWidth;
                if (transitionanimation != "none") {
                    socoverlaycontainer.style.animation = transitionanimation + "in 0.5s ease-out";
                }
            }
            closesidebaronsmallscreensizes();
        }
        function closesidebaronsmallscreensizes() {
            if (document.querySelector('.divcodeeditor-container').classList.contains('smallsidebarenabled')){
                document.querySelector('.divcodeeditor-container').classList.remove('smallsidebarenabled');
            }
        }
        
        function closeeverything() {
            hidecodefunctionssettingsoverlay();
            hidechooseanimationoverlay();
            hidecommandoverlay();
            hidesignexplenationoverlay();
            closeviewthisfile();
            hidethemeoverlay();
            document.querySelector('.overlay-close-btn').click();
            document.querySelector('.overlay5-close-btn').click();
            closesidebaronsmallscreensizes();
            hidetestregexoverlay();
            hidethemeoverlay();
            hidereplaceoverlay();
            hidebtnpositionsettingsoverlay();
            if (document.querySelector('.notificationmessage').style.display != "none") {
                hidenotificationmessage();
            }
        }
        
        function viewbottominputoninput(viewelementinputelement){
            document.getElementById('scrollviewintoviewbtn').textContent = viewelementinputelement.value;
        }
        
        
        function togglesidebarbuttonfunction() {
            const mediaQuery = window.matchMedia('(max-width: 700px)');
            if (mediaQuery.matches) {
                if (document.querySelector('.divcodeeditor-container').classList.contains('sidebarenabled')){
                    document.querySelector('.divcodeeditor-container').classList.remove('sidebarenabled');
                }
                document.querySelector('.divcodeeditor-container').classList.toggle('smallsidebarenabled');
            } else {
                if (document.querySelector('.divcodeeditor-container').classList.contains('smallsidebarenabled')){
                    document.querySelector('.divcodeeditor-container').classList.remove('smallsidebarenabled');
                }
                document.querySelector('.divcodeeditor-container').classList.toggle('sidebarenabled');
            }
        }
        
        const mediaQuery = window.matchMedia('(max-width: 700px)');

        if (mediaQuery.matches){
            if (document.querySelector('.divcodeeditor-container').classList.contains('sidebarenabled')){
                document.querySelector('.divcodeeditor-container').classList.remove('sidebarenabled');
            }
        }
        window.addEventListener('resize', function() {
            if (window.innerWidth <= 900) {
                const divcodeeditorcontainer = document.querySelector('.divcodeeditor-container');
                const ceebtnposexampleceebtnposexampleselected = document.querySelector('.ceebtnposexample.ceebtnposexampleselected');
                divcodeeditorcontainer.classList.remove("bothbtncleft", "allbtnsleft", "selectedbtnsleft", "ceefbrlbd", "cefbtnislands");
                document.querySelector('.ifislandenableddisablethis input[type="checkbox"]').checked = false;
                document.querySelector('.ifborderenableddisablethis input[type="checkbox"]').checked = false;
                divcodeeditorcontainer.classList.add('ceefbrlbd');
                divcodeeditorcontainer.classList.remove('cefbtnislands');
                if (ceebtnposexampleceebtnposexampleselected){
                    ceebtnposexampleceebtnposexampleselected.classList.remove("ceebtnposexampleselected");
                }
                document.getElementById('ceebtnposexample0').classList.add("ceebtnposexampleselected");
                hidebtnpositionsettingsoverlay();
            }
            if (window.innerWidth <= 700) {
                if (document.querySelector('.divcodeeditor-container').classList.contains('sidebarenabled')){
                    document.querySelector('.divcodeeditor-container').classList.remove('sidebarenabled');
                }
            }else if (window.innerWidth > 700) {
                if (document.querySelector('.divcodeeditor-container').classList.contains('smallsidebarenabled')){
                    document.querySelector('.divcodeeditor-container').classList.remove('smallsidebarenabled');
                }
            }
        });
        
        const togglethemecontainerbtn = document.querySelector('.togglethemecontainerbtn');
        const toggleanimationcontainerbtn = document.querySelector('.toggleanimationcontainerbtn');
        const togglelayoutcontainerbtn = document.querySelector('.togglelayoutcontainerbtn');
        
        function hideelementwithswipe(relement, type = "undefined") {
            if (relement.style.display == "none") {
                return;
            }
            if (type == "theme") {
                togglethemecontainerbtn.classList.remove("ActiveOverlay");
            } else if (type == "layout") {
                togglelayoutcontainerbtn.classList.remove("ActiveOverlay");
            } else if (type == "animation") {
                toggleanimationcontainerbtn.classList.remove("ActiveOverlay");
            }
            relement.style.animation = "none";
            void relement.offsetWidth;
            if (transitionanimation != "none") {
                relement.style.animation = transitionanimation + "out 0.5s ease-out";
                setTimeout(() => {
                    relement.style.display = "none";
                }, 500);
            }else {
                relement.style.display = "none";
            }
        }
        
         function showelementwithswipe(relement, type = "undefined") {
            if (relement.style.display == "flex"){
                hideelementwithswipe(relement, type);
                return;
            }
            if (type == "theme") {
                togglethemecontainerbtn.classList.add("ActiveOverlay");
            } else if (type == "layout") {
                togglelayoutcontainerbtn.classList.add("ActiveOverlay");
            } else if (type == "animation") {
                toggleanimationcontainerbtn.classList.add("ActiveOverlay");
            }
            relement.style.display = "flex";
            relement.style.animation = "none";
            void relement.offsetWidth;
            if (transitionanimation != "none") {
                relement.style.animation = transitionanimation + "in 0.5s ease-out";
            }
        }
        
        function showbtnpositionsettingsoverlay() {
            const sohchooseceebtnposoverlay = document.querySelector('.chooseceebtnposoverlay');
            showelementwithswipe(sohchooseceebtnposoverlay, "layout");
        }
        
        function hidebtnpositionsettingsoverlay() {
            const sohchooseceebtnposoverlay = document.querySelector('.chooseceebtnposoverlay');
            hideelementwithswipe(sohchooseceebtnposoverlay, "layout");
        }
        
        function showchooseanimationoverlay() {
            const sohchooseanimationoverlay = document.querySelector('.chooseanimationoverlay');
            showelementwithswipe(sohchooseanimationoverlay, "animation");
        }
        
        function hidechooseanimationoverlay() {
            const sohchooseanimationoverlay = document.querySelector('.chooseanimationoverlay');
            hideelementwithswipe(sohchooseanimationoverlay, "animation");
        }
        
        function showcommandoverlay() {
            const sohcommandsoverlaycontainer = document.querySelector('.commandsoverlay-container');
            showelementwithswipe(sohcommandsoverlaycontainer);
        }
        function hidecommandoverlay() {
            const sohcommandsoverlaycontainer = document.querySelector('.commandsoverlay-container');
            hideelementwithswipe(sohcommandsoverlaycontainer);
        }
        function hidecodefunctionssettingsoverlay() {
            const sohcodefunctionssettingsoverlay = document.querySelector('.codefunctionssettingsoverlay');
            hideelementwithswipe(sohcodefunctionssettingsoverlay);
        }
        function showcodefunctionssettingsoverlay() {
            const sohcodefunctionssettingsoverlay = document.querySelector('.codefunctionssettingsoverlay');
            showelementwithswipe(sohcodefunctionssettingsoverlay);
        }
        
        function shownotificationmessage() {
            const sohnotificationmessage = document.querySelector('.notificationmessage');
            if (sohnotificationmessage.style.display == "flex"){
                return;
            }
            sohnotificationmessage.style.display = "flex";
            sohnotificationmessage.style.animation = "none";
            void sohnotificationmessage.offsetWidth;
            sohnotificationmessage.style.animation = "shownotifucationmessageanimation 0.5s ease-out";
        }
        function hidenotificationmessage() {
            const sohnotificationmessage = document.querySelector('.notificationmessage');
            if (sohnotificationmessage.style.animation == "hidenotifucationmessageanimation 0.5s ease-out"){
                return;
            }
            sohnotificationmessage.style.animation = "none";
            void sohnotificationmessage.offsetWidth;
            sohnotificationmessage.style.animation = "hidenotifucationmessageanimation 0.5s ease-out";
            setTimeout(() => {
                sohnotificationmessage.style.display = "none";
            }, 500);
        }
        
        function hideexternalsidebar(toggleexternalsidebarelement) {
            const toggleexternalsidebarelementspan = toggleexternalsidebarelement.querySelector('span');
            
            let relement = toggleexternalsidebarelement.parentElement;
            
            relement.style.display = "flex";
            relement.style.animation = "none";
            void relement.offsetWidth;
            let prevwidth = relement.style.width;
            document.querySelector('.divcodeeditor-container').classList.add("sidebarfilebtnssectionextexternalsidebarprev");
            relement.style.animation = "hidesidebarsectionanimation 0.3s ease-out";
            setTimeout(() => {
                document.querySelector('.divcodeeditor-container').classList.remove("sidebarfilebtnssectionextexternalsidebarprev");
                if (toggleexternalsidebarelementspan.textContent == "<") {
                    toggleexternalsidebarelementspan.textContent = ">";
                    toggleexternalsidebarelement.querySelector('#toggleexternalsidebartext').textContent = "maximize";
                    document.querySelector('.divcodeeditor-container').classList.remove("sidebarfilebtnssectionextexternalsidebar");
                } else {
                    document.querySelector('.divcodeeditor-container').classList.add("sidebarfilebtnssectionextexternalsidebar");
                    toggleexternalsidebarelement.querySelector('#toggleexternalsidebartext').textContent = "minimize";
                    toggleexternalsidebarelementspan.textContent = "<";
                }
                relement.style.display = "block";
                relement.style.animation = "none";
                void relement.offsetWidth;
                if (transitionanimation != "none") {
                    relement.style.animation = "showsidebarsectionanimation 0.5s ease-out";
                }
            }, 300);
        }
        
        function showtestregexoverlay() {
            const sohtestregexoverlay = document.querySelector('#testregexoverlay');
            showelementwithswipe(sohtestregexoverlay);
        }
        function hidetestregexoverlay() {
            const sohtestregexoverlay = document.querySelector('#testregexoverlay');
            hideelementwithswipe(sohtestregexoverlay);
        }
        function showsignexplenationoverlay() {
            const sohsingsoverlaycontainer = document.querySelector('.singsoverlay-container');
            showelementwithswipe(sohsingsoverlaycontainer);
        }
        function hidesignexplenationoverlay() {
            const sohsingsoverlaycontainer = document.querySelector('.singsoverlay-container');
            hideelementwithswipe(sohsingsoverlaycontainer);
        }
        function showthemeoverlay() {
            const sohthemeoverlay = document.querySelector('.theme-overlay');
            showelementwithswipe(sohthemeoverlay, "theme");
        }
        function hidethemeoverlay() {
            const sohthemeoverlay = document.querySelector('.theme-overlay');
            hideelementwithswipe(sohthemeoverlay, "theme");
        }
        function showconsoleconteiner() {
            const sohconsoleconteiner = document.querySelector('.consoleconteiner');
            showelementwithswipe(sohconsoleconteiner);
        }
        function hideconsoleconteiner() {
            const sohconsoleconteiner = document.querySelector('.consoleconteiner');
            hideelementwithswipe(sohconsoleconteiner);
        }
        function showreplaceoverlay() {
            const sohreplaceoverlay = document.querySelector('.replaceoverlay');
            showelementwithswipe(sohreplaceoverlay);
        }
        function hidereplaceoverlay() {
            const sohreplaceoverlay = document.querySelector('.replaceoverlay');
            hideelementwithswipe(sohreplaceoverlay);
        }
        const overlay = document.getElementById('custom-overlay');
        const messageBox = document.getElementById('custom-message');
        const closeAlertButton = document.getElementById('close-alert');
        const promptInputContainer = document.getElementById('prompt-input-container');
        const promptInput = document.getElementById('custom-input');
        const submitPromptButton = document.getElementById('submit-prompt');
        const promptOptions = document.querySelector('#prompt-options');
        const closeDialog = document.getElementById('close-dialog');
        
        
        function showAlert(message, callback) {
            setTimeout(() => {
                messageBox.textContent = message;
                promptInputContainer.style.display = 'none';
                closeAlertButton.style.display = 'block';
                overlay.style.display = 'flex';
                closeAlertButton.onclick = () => {
                    if (typeof callback == 'function') {
                        closeCustomDialog();
                        callback();
                    }
                };
            }, 100);
        }
        
        
        function showPrompt(message, callback) {
            messageBox.textContent = message;
            promptInputContainer.style.display = 'block';
            closeAlertButton.style.display = 'none';
            overlay.style.display = 'flex';

            submitPromptButton.onclick = () => {
                const inputValue = promptInput.value;
                callback(inputValue);
                closeCustomDialog();
            };
        }
        
        
        function showtimeinput(texttsotit = "enter a time", callback) {
            document.querySelector('.timeinputoverlay').style.display = 'flex';
            
            const submitTimeButton = document.querySelector('.submitTimeButton');
            
            document.querySelector('.timeinputdtext').textContent = texttsotit;
            
            submitTimeButton.onclick = () => {
                callback(timeDisplay);
                document.querySelector('.timeinputoverlay').style.display = 'none';
            };
            const hourPicker = document.getElementById("hourPicker");
            const minutePicker = document.getElementById("minutePicker");
            updateSelection(hourPicker);
            updateSelection(minutePicker);
        }
        
        function closeCustomDialog() {
            overlay.style.display = 'none';
            promptInput.value = '';
            promptOptions.innerHTML = "";
            promptOptions.style.display = "none";
        }
        
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) {
                closeCustomDialog();
            }
        });
        
        closeAlertButton.addEventListener('click', closeCustomDialog);
        closeDialog.addEventListener('click', closeCustomDialog);
        
        let isloadingfiles = false;
        let isloadingimages = false;
        function startLoading() {
            const steps = [
                { percent: 0, text: 'Receiving' },
                { percent: 25, text: 'Creating environment' },
                { percent: 50, text: 'Linking' },
                { percent: 75, text: 'Formatting' },
                { percent: 100, text: 'Loading complete' },
            ];
            startLoadingThis(steps, 'Analyzing');
        }
        
        
        function startLoadingThis(steps, initialtext) {
            const overlay = document.getElementById('overlay');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const checkmark = document.getElementById('checkmark');
            const progressContainer = document.getElementById('progress-container');
            overlay.classList.add('active');
            progressBar.style.width = '0%';
            progressContainer.style.display = 'block';
            checkmark.classList.remove('visible');
            progressText.textContent = initialtext;

            let stepIndex = 0;

            function updateStep() {
                if (stepIndex < steps.length) {
                    const step = steps[stepIndex];
                    progressBar.style.width = `${step.percent}%`;
                    progressText.textContent = step.text;

                    if (step.percent === 100) {
                        progressContainer.style.display = 'none';
                        checkmark.classList.add('visible');
                    }

                    stepIndex++;
                    setTimeout(updateStep, 400);
                } else {
                    setTimeout(() => {
                        overlay.classList.remove('active');
                    }, 500);
                }
            }

            updateStep();
        }
        function startLoadingMerge() {
            const steps = [
                { percent: 0, text: 'Processing' },
                { percent: 50, text: 'Adding' },
                { percent: 100, text: 'Merge complete' },
            ];
            startLoadingThis(steps, 'Receiving');
        }
        
        let allimages = {};
        
        function startLoadingImages() {
            const steps = [
                { percent: 0, text: 'Processing' },
                { percent: 50, text: 'Adding' },
                { percent: 100, text: 'Loading complete' },
            ];

            startLoadingThis(steps, 'Receiving');
        }
        function startLoadingImagesAndFiles() {
            const steps = [
                { percent: 0, text: 'Receiving' },
                { percent: 25, text: 'Creating environment' },
                { percent: 50, text: 'Linking' },
                { percent: 75, text: 'Formatting' },
                { percent: 100, text: 'Loading complete' },
            ];

            startLoadingThis(steps, 'Analyzing files');
        }
        function hidecodesearchresults() {
            setTimeout(() => {
                const codesearchresults = document.querySelector('.codesearchresults');
                codesearchresults.innerHTML = "";
                codesearchresults.style.display = "none";
            }, 500);
        }
        document.getElementById('fileInput').addEventListener('change', function(event) {
            const files = event.target.files;
            let loadimageiffti = true;
            const failedfiles = [];
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const filePath = file.name;
                if (file.type.startsWith('image/')) {
                    isloadingimages = true;
                    if (!allimages[filePath]) {
                        addNewImage(filePath, URL.createObjectURL(file), file);
                    } else {
                        loadimageiffti = false;
                        failedfiles.push(filePath);
                    }
                } else if (file.type === 'text/plain' || file.type === 'text/css' || file.type === 'application/javascript' || file.type === 'text/html') {
                    let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
                    if (!allfilenames.includes(filePath)) {
                        isloadingfiles = true;
                        addNewFile(filePath, file);
                    } else {
                        failedfiles.push(filePath);
                    }
                }
            }
            if (isloadingfiles == true && isloadingimages == false) {
                isloadingfiles = false;
                isloadingimages = false;
                startLoading();
            }else if (isloadingfiles == false && isloadingimages == true && loadimageiffti == true) {
                isloadingfiles = false;
                isloadingimages = false;
                startLoadingImages();
            }else if (isloadingfiles == true && isloadingimages == true) {
                isloadingfiles = false;
                isloadingimages = false;
                startLoadingImagesAndFiles();
            }
            if (failedfiles.length > 0) {
                if (failedfiles.length == 1){
                    showAlert("you already have a " + failedfiles[0] + " file");
                } else {
                    const lastfailedfilename = failedfiles.pop();
                    showAlert("you already have files with these names: " + failedfiles.join(', ') + " and " + lastfailedfilename + ". rename them if you want to upload these files");
                }
            }
        });

        function clickthiselement(elementidorclass){
            document.querySelector(elementidorclass).click();
        }

        const imagerectangle = document.getElementById('image-rectangle');
        imagerectangle.querySelector('.download-btn').addEventListener('click', () => {
        const a = document.createElement('a');
            a.href = imagerectangle.textContent;
            a.download = imagerectangle.textContent;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        });

        function copythistext(text) {
            try {
                dontcopy = true;
                const newtextarea = document.createElement('textarea');
                newtextarea.value = text;
                document.body.appendChild(newtextarea);
                newtextarea.select();
                document.execCommand('copy');
                document.body.removeChild(newtextarea);
                dontcopy = false;
            } catch (error) {
                const thiserrorwascatched = error;
            }
        }

        function addNewImage(imagePath, imageUrl, file) {
            allimages[imagePath] = imageUrl;
            
            const fileName = imagePath.split('/').pop();

            const contentContainer = document.querySelector('.content-container');

            function getImageInfo(filePath) {

                const fileName = filePath.split('/').pop();

                const [name, format] = fileName.split(/\.(?=[^\.]+$)/);

                return {
                    name: name,
                    format: format
                };
            }
            const newRectangle = document.createElement('div');
            newRectangle.classList.add('rectangle');
            newRectangle.id = "image-rectangle";
            let newfilenameinfo = getImageInfo(fileName);
            newRectangle.setAttribute('data-name', newfilenameinfo.name);
            newRectangle.setAttribute('data-type', newfilenameinfo.format);
            newRectangle.style.backgroundImage = `url('${imageUrl}')`;
            newRectangle.style.backgroundSize = 'cover';
            newRectangle.style.backgroundPosition = 'center';

            newRectangle.innerHTML = `<span class="image-name"></span>
<div class="rectangle-buttons"><button class="download-btn">Download</button><button class="delete-btn" onclick="deleteImage(this)">Delete</button><button class="copyiurl-btn">Copy</button></div>
<button class="close">×</button>`;

            contentContainer.appendChild(newRectangle);

            document.querySelector('.searchforafilenamereadybtn').style.display = "none";
            document.querySelector('.searchforafilename').value = "";
            document.querySelectorAll('.rectangle').forEach(rect => {
                rect.style.display = "flex";
            });
            
            newRectangle.querySelector('.copyiurl-btn').onclick = () => {
                copythistext(imageUrl);
            };
            newRectangle.querySelector('.image-name').textContent = fileName;
            
            newRectangle.querySelector('.download-btn').addEventListener('click', () => {
                downloadImage(file);
            });
            
            let timer;
            
            newRectangle.querySelector('.close').addEventListener('click', () => {
                newRectangle.classList.remove('enlarged');
            });
            newRectangle.addEventListener('mousedown', startEnlarge);
            newRectangle.addEventListener('touchstart', startEnlarge);
            
            newRectangle.addEventListener('mouseup', stopEnlarge);
            newRectangle.addEventListener('mouseleave', stopEnlarge);
            newRectangle.addEventListener('touchend', stopEnlarge);
            
            function startEnlarge(event) {
                timer = setTimeout(() => {
                    newRectangle.classList.add('enlarged');
                }, 700);
            }
            
            function stopEnlarge() {
                clearTimeout(timer);
            }
        }
        
        function deleteImage(element) {
            const rectangle = element.closest('.rectangle');
            if (allimages[rectangle.querySelector('.image-name').textContent]){
                delete allimages[rectangle.querySelector('.image-name').textContent];
            }
            rectangle.remove();
            
        }
        
        function downloadImage(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const fileUrl = e.target.result;
                const a = document.createElement('a');
                a.href = fileUrl;
                a.download = file.name;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };
            reader.readAsDataURL(file);
        }
        function requestcreatenewfile() {
            showPrompt('file path:', (filename) => {
                let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
                if (!allfilenames.includes(filename) && filename != '' && filename.length < 251){
                    createNewFile(filename);
                }
            });
        }
        function requestcreatenewfilefortemplatecode(codetext) {
            showPrompt('file path:', (filename) => {
                let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
                if (!allfilenames.includes(filename) && filename.length < 251) {
                    createNewFilefortemplatecode(filename, codetext);
                }
            });
        }
        async function addNewFile(filename, file) {
            let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
            if (allfilenames.includes(filename)){
                return;
            }
            const container = document.getElementById('container');
            const navBar = document.getElementById('nav-bar');
            
            correntids++;
            
            const newSection = document.createElement('div');
            newSection.classList.add('section');
            newSection.id = `section${container.children.length}`;
            newSection.innerHTML = `<div class="editor-selected-line-btns"><button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button><button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button><button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button><button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button><button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button><button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button><button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button><button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button><button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button><input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕ search"></div></div>
        <div class="code-editor-container" id="linenumberingon">
            <div id="${correntids}" class="code-editor-line" contenteditable="true"></div>
        </div>
        <div class="code-editor-btns"><button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button><button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button><button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button><button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button><button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button><button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button><button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button><button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button><button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button><input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number"></div>`;
            container.appendChild(newSection);

            lineoptioncontainerupdate(newSection.querySelector('.code-editor-container'));

            const reader = new FileReader();
            let body = document.querySelector('body');
            const editorContainer = newSection.querySelector('.code-editor-container');
            
            reader.onload = (e) => {
                const lines = e.target.result.split('\n');
                lines.forEach((lineText) => {
                    correntids += 1;
                    const line = document.createElement('div');
                    line.classList.add('code-editor-line');
                    line.setAttribute('contenteditable', 'true');
                    line.textContent = lineText;
                    line.id = correntids;
                    editorContainer.appendChild(line);
                    lineObserver.observe(line);
                });
                editorContainer.querySelectorAll('.code-editor-line').forEach(line => {
                    addJsSyntaxHighlighting(line)
                });
            };
            reader.readAsText(file);

            const newNavDot = document.createElement('div');
            newNavDot.classList.add('nav-dot', 'filedot');

            newNavDot.setAttribute('data-index', container.children.length - 1);
            newNavDot.innerHTML = `
      <input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="${filename}">
    `;
            newNavDot.setAttribute('onclick', 'dotonclick()');
            navBar.appendChild(newNavDot);

            let filePathInputblablabla = newNavDot.querySelector('.filePathInput');
            let timeout;

            filePathInputblablabla.addEventListener('input', (event) => {
                handleFileNameInputChange(event.target.parentElement);
            });
            
            filePathInputblablabla.addEventListener('mousedown', startOverlayEnlarge);
            filePathInputblablabla.addEventListener('touchstart', startOverlayEnlarge);

            filePathInputblablabla.addEventListener('mouseup', stopOverlayEnlarge);
            filePathInputblablabla.addEventListener('mouseleave', stopOverlayEnlarge);
            filePathInputblablabla.addEventListener('touchend', stopOverlayEnlarge);

            function startOverlayEnlarge(event) {
                timeout = setTimeout(() => {
                    document.querySelector('.overlay-container').style.display = "flex";
                    document.querySelector('.overlay-container').style.animation = "none";
                    void document.querySelector('.overlay-container').offsetWidth;
                    if (transitionanimation != "none") {
                        document.querySelector('.overlay-container').style.animation = transitionanimation + "in 0.5s ease-out";
                    }
                }, 700);
            }

            function stopOverlayEnlarge() {
                clearTimeout(timeout);
            }

            const dataList = document.getElementById('filenameoptions');
            const option = document.createElement('option');
            option.value = filename;
            option.id = `option${newNavDot.getAttribute('data-index')}`;
            dataList.appendChild(option);

            const overlayContainer = document.querySelector('.overlay-container .content-container');
            const newRectangle = document.createElement('div');
            newRectangle.classList.add('rectangle');
            newRectangle.innerHTML = `<span class="notclickable">${filename}</span>
<div class="rectangle-buttons">
    <button class="edit-btn">≡</button>
</div>
<button class="close">×</button>`;
            newRectangle.setAttribute('onclick', `editthisfile(${container.children.length - 1}, event)`);
            overlayContainer.appendChild(newRectangle);

            document.querySelector('.searchforafilenamereadybtn').style.display = "none";
            document.querySelector('.searchforafilename').value = "";
            document.querySelectorAll('.rectangle').forEach(rect => {
                rect.style.display = "flex";
            });

            if (newRectangle.querySelector('.download-btn')){
                newRectangle.querySelector('.download-btn').onclick = () => {
                    downloadFile(filename);
                }
            }

            newRectangle.querySelector('.close').addEventListener('click', () => {
                newRectangle.classList.remove('enlarged');
            });

            let timer;
            newRectangle.addEventListener('mousedown', startEnlarge);
            newRectangle.addEventListener('touchstart', startEnlarge);
            newRectangle.addEventListener('mouseup', stopEnlarge);
            newRectangle.addEventListener('mouseleave', stopEnlarge);
            newRectangle.addEventListener('touchend', stopEnlarge);

            function startEnlarge() {
                timer = setTimeout(() => {
                    newRectangle.classList.add('enlarged');
                }, 700);
            }

            function stopEnlarge() {
                clearTimeout(timer);
            }

            let sidebarfilelink = document.createElement('button');
            sidebarfilelink.textContent = filename;
            sidebarfilelink.innerHTML += `<div class="threedots">⋮</div>`;
            sidebarfilelink.className = 'sidebarfilelinklink';
            sidebarfilelink.id = 'sidebarfilelinklink' + newNavDot.getAttribute('data-index');
            sidebarfilelink.setAttribute('onclick', `editthisfile(${newNavDot.getAttribute('data-index')}, event)`);

            document.querySelector('.sidebarbardivbuttondiv1').appendChild(sidebarfilelink);
            await updateDataIndex('nav-bar');
            newNavDot.classList.add('nav-dot', 'navdot' + newNavDot.getAttribute('data-index'));
            newRectangle.id = "rectangle" + newNavDot.getAttribute('data-index');
            navBarremoveeventlistenerscrollandadditagain();
            handleFileNameInputChange(newNavDot);
            sidebarfilelink.click();
        }
        async function createNewFile(filename) {
            let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
            if (allfilenames.includes(filename)) {
                return;
            }
            const container = document.getElementById('container');
            const navBar = document.getElementById('nav-bar');
            
            correntids += 1;
            
            const newSection = document.createElement('div');
            newSection.classList.add('section');
            newSection.id = `section${container.children.length}`;
            newSection.innerHTML = `<div class="editor-selected-line-btns"><button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button><button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button><button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button><button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button><button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button><button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button><button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button><button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button><button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button><input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕"></div></div>
        <div class="code-editor-container" id="linenumberingon">
            <div id="${correntids}" class="code-editor-line" contenteditable="true"></div>
        </div>
        <div class="code-editor-btns"><button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button><button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button><button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button><button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button><button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button><button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button><button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button><button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button><button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button><input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number"></div>`;
            container.appendChild(newSection);
            
            lineObserver.observe(newSection.querySelector('.code-editor-line'));

            lineoptioncontainerupdate(newSection.querySelector('.code-editor-container'));

            const newNavDot = document.createElement('div');
            newNavDot.classList.add('nav-dot', 'filedot');
            newNavDot.setAttribute('data-index', container.children.length - 1);
            newNavDot.innerHTML = `<input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="${filename}">`;
            newNavDot.setAttribute('onclick', 'dotonclick()');
            navBar.appendChild(newNavDot);

            let filePathInputblablabla = newNavDot.querySelector('.filePathInput');
            let timeout;

            filePathInputblablabla.addEventListener('input', (event) => {
                handleFileNameInputChange(event.target.parentElement);
            });

            filePathInputblablabla.addEventListener('mousedown', startOverlayEnlarge);
            filePathInputblablabla.addEventListener('touchstart', startOverlayEnlarge);

            filePathInputblablabla.addEventListener('mouseup', stopOverlayEnlarge);
            filePathInputblablabla.addEventListener('mouseleave', stopOverlayEnlarge);
            filePathInputblablabla.addEventListener('touchend', stopOverlayEnlarge);

            function startOverlayEnlarge(event) {
                timeout = setTimeout(() => {
                    document.querySelector('.overlay-container').style.display = "flex";
                    document.querySelector('.overlay-container').style.animation = "none";
                    void document.querySelector('.overlay-container').offsetWidth;
                    if (transitionanimation != "none") {
                        document.querySelector('.overlay-container').style.animation = transitionanimation + "in 0.5s ease-out";
                    }
                }, 700);
            }

            function stopOverlayEnlarge() {
                clearTimeout(timeout);
            }

            const dataList = document.getElementById('filenameoptions');
            const option = document.createElement('option');
            option.value = filename;
            option.id = `option${newNavDot.getAttribute('data-index')}`;
            dataList.appendChild(option);

            const overlayContainer = document.querySelector('.overlay-container .content-container');
            const newRectangle = document.createElement('div');
            newRectangle.classList.add('rectangle');
            newRectangle.innerHTML = `<span class="notclickable">${filename}</span>
<div class="rectangle-buttons">
    <button class="edit-btn">≡</button>
</div>
<button class="close">×</button>`;
            newRectangle.setAttribute('onclick', `editthisfile(${container.children.length - 1}, event)`);
            overlayContainer.appendChild(newRectangle);

            document.querySelector('.searchforafilenamereadybtn').style.display = "none";
            document.querySelector('.searchforafilename').value = "";
            document.querySelectorAll('.rectangle').forEach(rect => {
                rect.style.display = "flex";
            });

            if (newRectangle.querySelector('.download-btn')){
                newRectangle.querySelector('.download-btn').onclick = () => {
                    downloadFile(filename);
                };
            }
            newRectangle.querySelector('.close').addEventListener('click', () => {
                newRectangle.classList.remove('enlarged');
            });

            let timer;
            newRectangle.addEventListener('mousedown', startEnlarge);
            newRectangle.addEventListener('touchstart', startEnlarge);
            newRectangle.addEventListener('mouseup', stopEnlarge);
            newRectangle.addEventListener('mouseleave', stopEnlarge);
            newRectangle.addEventListener('touchend', stopEnlarge);

            function startEnlarge() {
                timer = setTimeout(() => {
                    newRectangle.classList.add('enlarged');
                }, 700);
            }

            function stopEnlarge() {
                clearTimeout(timer);
            }

            let sidebarfilelink = document.createElement('button');
            sidebarfilelink.textContent = filename;
            sidebarfilelink.className = 'sidebarfilelinklink';
            sidebarfilelink.innerHTML += `<div class="threedots">⋮</div>`;
            sidebarfilelink.id = 'sidebarfilelinklink' + newNavDot.getAttribute('data-index');
            sidebarfilelink.setAttribute('onclick', `editthisfile(${newNavDot.getAttribute('data-index')}, event)`);

            document.querySelector('.sidebarbardivbuttondiv1').appendChild(sidebarfilelink);

            await updateDataIndex('nav-bar');
            newNavDot.classList.add('nav-dot', 'navdot' + newNavDot.getAttribute('data-index'));
            newRectangle.id = "rectangle" + newNavDot.getAttribute('data-index');
            navBarremoveeventlistenerscrollandadditagain();
            handleFileNameInputChange(newNavDot);
            sidebarfilelink.click();
        }
        async function createNewFilefortemplatecode(filename, optionalText = '') {
            let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
            if (allfilenames.includes(filename)) {
                showAlert('you have a file with the name ' + filename + ' please change the file name and try again');
                return;
            }
            
            const container = document.getElementById('container');
            const navBar = document.getElementById('nav-bar');

            const newSection = document.createElement('div');
            newSection.classList.add('section');
            newSection.id = `section${container.children.length}`;
            newSection.innerHTML = `
        <div class="editor-selected-line-btns"><button class="code-editor-btn disabled" id="pastbtn" onclick="gobackrotateanimation(this);gobacktolastpastevent()">↺</button>
            <button class="eslbtn disabled" id="deletebtn" onclick="deleteSelectedLines();changedeletebtn(this)">⌧</button>
            <button class="eslbtn disabled" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantselectedlines()">⚠</button>
            <button class="eslbtn disabled" id="upbtn" onclick="moveselectedlineup()">↑</button>
            <button class="eslbtn disabled" id="downbtn" onclick="moveselectedlinedown()">↓</button>
            <button class="eslbtn disabled" id="sleapbtn" onclick="changebtnnotinsquare(this);restselectedline()">☾</button>
            <button class="eslbtn disabled" id="copybtn" onclick="changedeletebtn(this);copyselectedlinetexts()">□</button>
            <button class="eslbtn disabled" id="trimbtn" onclick="changebtnnotinsquare(this);trimAllselectedlinetexts()">●</button><button class="eslbtn disabled" id="removespacesleftbtn" onclick="moveAllselectedlinetextsleft()">↤</button><button class="eslbtn disabled" id="addspacesleftbtn" onclick="moveAllselectedlinetextsright()">↦</button>
            <button class="eslbtn disabled" id="replaceaslbtn" onclick="replacetextinlines('allsl')">⤻</button>
            <input type="text" class="code-search-input" id="code-search-input" oninput="searchcode(this)" onfocus="searchcode(this)" placeholder="⌕">
        </div>
        <div class="code-editor-container" id="linenumberingon">
        </div>
        <div class="code-editor-btns">
            <button class="code-editor-btn" id="showsignexplenationoverlay-btn-element" onclick="showsignexplenationoverlay()">?</button>
            <button class="code-editor-btn" id="deletebtn" onclick="deleteAllLines();changedeletebtn(this)">⌧</button>
            <button class="code-editor-btn" id="importantPinbtn" onclick="changebtnnotinsquare(this);importantalllines()">⚠</button>
            <button class="code-editor-btn" id="leftbtn" onclick="changebtnnotinsquare(this);unselectalllines()">←</button>
            <button class="code-editor-btn" id="rightbtn" onclick="changebtnnotinsquare(this);unfoldalllines()">→</button>
            <button class="code-editor-btn" id="unsleeplines" onclick="changebtnnotinsquare(this);unsleepalllines()">○</button>
            <button class="code-editor-btn" id="copybtn" onclick="changedeletebtn(this);copyalllinetexts()">□</button>
            <button class="code-editor-btn" id="showcommandlist-btn-element" onclick="showcommandoverlay()">⌘</button>
            <button class="code-editor-btn" id="replacealbtn" onclick="replacetextinlines('all')">⤻</button>
            <input type="text" class="line-number-input" id="line-number-input" onkeydown="checkiflinenumberinputkeydownisenter(event)" placeholder="⌕ line number">
        </div>`;
            container.appendChild(newSection);

            lineoptioncontainerupdate(newSection.querySelector('.code-editor-container'));
            const newNavDot = document.createElement('div');
            newNavDot.classList.add('nav-dot', 'filedot');
            newNavDot.setAttribute('data-index', container.children.length - 1);
            newNavDot.innerHTML = `<input class="filePathInput" type="text" maxlength="250" onblur="onfilepathinputblur(this)" value="${filename}">`;
            newNavDot.setAttribute('onclick', 'dotonclick()');
            navBar.appendChild(newNavDot);

            let filePathInput = newNavDot.querySelector('.filePathInput');
            let timeout;

            filePathInput.addEventListener('input', (event) => {
                handleFileNameInputChange(event.target.parentElement);
            });

            filePathInput.addEventListener('mousedown', startOverlayEnlarge);
            filePathInput.addEventListener('touchstart', startOverlayEnlarge);
            filePathInput.addEventListener('mouseup', stopOverlayEnlarge);
            filePathInput.addEventListener('mouseleave', stopOverlayEnlarge);
            filePathInput.addEventListener('touchend', stopOverlayEnlarge);

            function startOverlayEnlarge() {
                timeout = setTimeout(() => {
                    document.querySelector('.overlay-container').style.display = "flex";
                    document.querySelector('.overlay-container').style.animation = "none";
                    void document.querySelector('.overlay-container').offsetWidth;
                    if (transitionanimation != "none") {
                        document.querySelector('.overlay-container').style.animation = transitionanimation + "in 0.5s ease-out";
                    }
                }, 700);
            }

            function stopOverlayEnlarge() {
                clearTimeout(timeout);
            }

            const dataList = document.getElementById('filenameoptions');
            const option = document.createElement('option');
            option.value = filename;
            option.id = `option${newNavDot.getAttribute('data-index')}`;
            dataList.appendChild(option);

            const overlayContainer = document.querySelector('.overlay-container .content-container');
            const newRectangle = document.createElement('div');
            newRectangle.classList.add('rectangle');
            newRectangle.innerHTML = `<span class="notclickable">${filename}</span>
<div class="rectangle-buttons">
    <button class="edit-btn">≡</button>
</div>
<button class="close">×</button>`;
            newRectangle.addEventListener('click', (event) => {
                editthisfile(container.children.length - 1, event);
            });
            overlayContainer.appendChild(newRectangle);

            document.querySelector('.searchforafilenamereadybtn').style.display = "none";
            document.querySelector('.searchforafilename').value = "";
            document.querySelectorAll('.rectangle').forEach(rect => {
                rect.style.display = "flex";
            });

            if (newRectangle.querySelector('.download-btn')){
                newRectangle.querySelector('.download-btn').onclick = () => {
                    downloadFile(filename);
                };
            }

            newRectangle.querySelector('.close').addEventListener('click', () => {
                newRectangle.classList.remove('enlarged');
            });

            let timer;
            newRectangle.addEventListener('mousedown', startEnlarge);
            newRectangle.addEventListener('touchstart', startEnlarge);
            newRectangle.addEventListener('mouseup', stopEnlarge);
            newRectangle.addEventListener('mouseleave', stopEnlarge);
            newRectangle.addEventListener('touchend', stopEnlarge);

            function startEnlarge() {
                timer = setTimeout(() => {
                    newRectangle.classList.add('enlarged');
                }, 700);
            }

            function stopEnlarge() {
                clearTimeout(timer);
            }

            let sidebarfilelink = document.createElement('button');
            sidebarfilelink.textContent = filename;
            sidebarfilelink.className = 'sidebarfilelinklink';
            sidebarfilelink.innerHTML += `<div class="threedots">⋮</div>`;
            sidebarfilelink.id = 'sidebarfilelinklink' + newNavDot.getAttribute('data-index');
            sidebarfilelink.setAttribute('onclick', `editthisfile(${newNavDot.getAttribute('data-index')}, event)`);

            document.querySelector('.sidebarbardivbuttondiv1').appendChild(sidebarfilelink);

            const lines = optionalText.split('\n');
            const editorContainer = newSection.querySelector('.code-editor-container');
            lines.forEach((lineText) => {
                correntids += 1;
                const line = document.createElement('div');
                line.classList.add('code-editor-line');
                line.setAttribute('contenteditable', 'true');
                line.textContent = lineText;
                line.id = correntids;
                editorContainer.appendChild(line);
                lineObserver.observe(line);
            });
            
            editorContainer.querySelectorAll('.code-editor-line').forEach(line => {
                addJsSyntaxHighlighting(line)
            });

            await updateDataIndex('nav-bar');
            newNavDot.classList.add('nav-dot', 'navdot' + newNavDot.getAttribute('data-index'));
            newRectangle.id = "rectangle" + newNavDot.getAttribute('data-index');
            navBarremoveeventlistenerscrollandadditagain();
            handleFileNameInputChange(newNavDot);
            sidebarfilelink.click();
        }

        function downloadFile(name) {
            let type = name.split('.').pop();
            let filename = name.split('.').slice(0, -1).join('.');

            let content = checkiffile(name);
            if (!content) {
                return;
            }

            const mimeTypes = {
                html: 'text/html',
                css: 'text/css',
                js: 'application/javascript',
                txt: 'text/plain'
            };

            const mimeType = mimeTypes[type];
            if (!mimeType) {
                return;
            }

            const blob = new Blob([content], { type: mimeType });

            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `${filename}.${type}`;

            document.body.appendChild(link);
            link.click();

            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
        }
        function onfilepathinputblur(inputField) {
            const allFileNames = Array.from(document.querySelectorAll('.filedot .filePathInput'))
                .filter(input => input !== inputField)
                .map(input => input.value);

            if (allFileNames.includes(inputField.value)) {
                let baseName = inputField.value;
                let counter = 1;

                if (baseName.length > 240 - String(counter).length - 1) {
                    baseName = baseName.slice(0, 240 - String(counter).length - 1);
                }

                while (allFileNames.includes(`${counter}_${baseName}`)) {
                    counter++;
                }

                let newvalue = `${counter}_${baseName}`;
                if (newvalue.length >= 250) {
                    newvalue = truncateText(newvalue, 250);
                }

                inputField.value = newvalue;

                if (inputField.parentElement) {
                    handleFileNameInputChange(inputField.parentElement);
                }
            }
        }
        
        function truncateText(text, maxLength) {
            if (typeof text !== "string" || typeof maxLength !== "number") {
                throw new Error("Ungültige Argumente: text muss ein String und maxLength eine Zahl sein.");
            }
            
            return text.slice(0, maxLength);
        }
        
        function handleFileNameInputChange(navDot) {
            const dataIndex = navDot.getAttribute('data-index');
            const option = document.getElementById("option" + dataIndex);
            const rectangle = document.getElementById("rectangle" + dataIndex);
            const sidebarfilelinklink = document.getElementById("sidebarfilelinklink" + dataIndex);

            if (!option || !rectangle) {
                return;
            }

            const filePathInput = navDot.querySelector('.filePathInput');
            const rectanglespan = rectangle.querySelector('span');
            const downloadBtn = rectangle.querySelector('.download-btn');

            if (!filePathInput || !rectanglespan) {
                return;
            }

            const newValue = filePathInput.value.trim();
            if (!newValue) {
                return;
            }
            let newValueSplit = newValue.split('/').filter(value => {
                return value.trim().replace(/\W/g, '') != "";
            });
            const safeValue = newValueSplit.pop();
            option.value = safeValue;
            option.textContent = safeValue;
            rectanglespan.textContent = safeValue;

            sidebarfilelinklink.textContent = safeValue;
            sidebarfilelinklink.innerHTML += `<div class="threedots">⋮</div>`;
            sidebarfilelinklink.className = "sidebarfilelinklink";
            if (!supportedpl.some(sEnds => safeValue.endsWith(sEnds))) {
                sidebarfilelinklink.classList.add("unsupported");
            }
            if (document.querySelector('.sidebarfilelinklink.currentfile')){
                document.querySelector('.sidebarfilelinklink.currentfile').classList.remove('currentfile');
            }
            sidebarfilelinklink.classList.add('currentfile');
            document.querySelectorAll('.sidebarfilelinklink').forEach(link => {
                link.style.display = "flex";
            });
            document.querySelectorAll('#folderh3').forEach(fold => {
                if (!document.querySelector('.' + fold.getAttribute('data-valuewr'))) {
                    fold.remove();
                } else {
                    fold.style.display = "block";
                    fold.querySelector('span').textContent = "<";
                    fold.querySelector('span').click();
                }
            });
            let lasth3 = null;
            newValueSplit.forEach((value, index) => {
                if (value.trim().replace(/\W/g, '') != "") {
                    sidebarfilelinklink.style.display = "none";
                    sidebarfilelinklink.classList.add('folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, ''));
                    sidebarfilelinklink.classList.add('nsidebarfilelinklinkelement');
                    if (document.querySelector('.foldernamec' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')) && document.querySelector('.foldernamec' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')).classList.contains('foldernum' + index)) {
                        document.querySelector('.foldernamec' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')).remove();
                    }
                    //<h3 id="folderh3"><span class="closefilesection">></span> folder</h3>
                    const h3 = document.createElement('h3');
                    const span = document.createElement('span');
                    const span2 = document.createElement('span');
                    h3.id = "folderh3";
                    span.className = "closefilesection";
                    h3.classList.add('folderfor' + safeValue.replace(/\W/g, ''));
                    h3.classList.add('foldernamec' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, ''));
                    h3.classList.add('foldernum' + index);
                    h3.setAttribute('data-valuewr', 'folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, ''));
                    newValueSplit.slice(0, index).forEach((svalue, indx) => {
                        h3.classList.add('folderelement' + newValueSplit.slice(0, indx).join('') + svalue.replace(/\W/g, ''));
                        h3.style.display = "none";
                    });
                    if (index != 0) {
                        h3.classList.add("nfolderelement");
                    }
                    span.textContent = ">";
                    span2.textContent = " " + value;
                    span2.style.display = "contents";
                    h3.appendChild(span);
                    h3.appendChild(span2);
                    if (!lasth3) {
                        document.querySelector('.sidebarbardivbuttondiv1').firstElementChild.insertAdjacentElement("afterend", h3);
                    } else {
                        lasth3.insertAdjacentElement("afterend", h3);
                    }
                    document.querySelectorAll('.folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')).forEach(element => {
                        if (element.id == 'folderh3') {
                            element.querySelector('span').textContent = ">";
                        }
                        element.style.display = "none";
                    });
                    lasth3 = h3;
                    span.onclick = () => {
                        if (span.textContent == ">") {
                            document.querySelectorAll('.sidebarfilelinklink').forEach(link => {
                                link.style.display = "none";
                            });
                            document.querySelectorAll('#folderh3').forEach(fold => {
                                fold.style.display = "none";
                                fold.querySelector('span').textContent = ">";
                                document.querySelectorAll('.' + fold.getAttribute('data-valuewr')).forEach(el => {
                                    el.style.display = "none";
                                });
                            });
                            let allfoldersinthisfolder = [];
                            document.querySelectorAll('.folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')).forEach(element => {
                                if (element.id == 'folderh3'){
                                    element.style.display = "block";
                                    element.querySelector('span').textContent = ">";
                                    allfoldersinthisfolder.push(element);
                                } else {
                                    element.style.display = "flex";
                                }
                            });
                            allfoldersinthisfolder.forEach(fold => {
                                document.querySelectorAll('.' + fold.getAttribute('data-valuewr')).forEach(el => {
                                    el.style.display = "none";
                                });
                            });
                            span.textContent = "<";
                            h3.style.display = "block";
                        } else if (span.textContent == "<") {
                            document.querySelectorAll('.sidebarfilelinklink').forEach(link => {
                                link.style.display = "flex";
                            });
                            document.querySelectorAll('#folderh3').forEach(fold => {
                                fold.style.display = "block";
                                fold.querySelector('span').textContent = ">";
                                document.querySelectorAll('.' + fold.getAttribute('data-valuewr')).forEach(el => {
                                    el.style.display = "none";
                                });
                            });
                            document.querySelectorAll('.folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, '')).forEach(element => {
                                if (element.id == 'folderh3') {
                                    element.querySelector('span').textContent = ">";
                                }
                                element.style.display = "none";
                            });
                            document.querySelectorAll('.nfolderelement').forEach(nfelement => {
                                nfelement.style.display = "none";
                            });
                            
                            if (index >= 1) {
                                const dqsv = document.querySelector('.foldernamec' + newValueSplit.slice(0, index - 1).join('') + newValueSplit[index - 1].replace(/\W/g, ''));
                                const dqsv2 = document.querySelectorAll('.folderelement' + newValueSplit.slice(0, index - 1).join('') + newValueSplit[index - 1].replace(/\W/g, ''));
                                if (dqsv) {
                                    dqsv.querySelector('span').textContent = ">";
                                    dqsv.querySelector('span').click();
                                }
                            }
                            sidebarfilelinklink.style.display = "none";
                            span.textContent = ">";
                        }
                    };
                }
            });
            newValueSplit.forEach((value, index) => {
                newValueSplit.slice(index + 1).forEach(svalue => {
                    const dqsv = document.querySelector('.foldernamec' + newValueSplit.slice(0, index + 1).join('') + svalue.replace(/\W/g, ''));
                    if (dqsv) {
                        dqsv.classList.add('folderelement' + newValueSplit.slice(0, index).join('') + value.replace(/\W/g, ''));
                        dqsv.style.display = "none";
                    }
                });
            });
            document.querySelectorAll('#folderh3').forEach(fold => {
                if (!document.querySelector('.' + fold.getAttribute('data-valuewr'))) {
                    fold.remove();
                }
            });
            document.querySelectorAll('#folderh3:not(.nfolderelement)').forEach(nnfelement => {
                nnfelement.querySelector('span').textContent = "<";
                nnfelement.querySelector('span').click();
                nnfelement.style.display = "block";
            });
            const seccontainer = document.querySelector('.seccontainer');
            if (seccontainer.style.display != "none" && seccontainer.querySelector('#fileinfofiletype')) {
                let filetype = document.querySelector(`.filedot.navdot${section.id.replace('section', '')} .filePathInput`);
                if (filetype) {
                    let filetypes = {
                        "html": "HyperText Markup Language",
                        "css": "Cascading Style Sheets",
                        "jsx": "JavaScript XML",
                        "tsx": "TypeScript XML",
                        "json": "JavaScript Object Notation",
                        "txt": "Text File",
                        "js": "JavaScript",
                        "htm": "HyperText Markup"
                    };
                
                    let extension = filetype.value.split('.').pop();
                
                    if (filetypes[extension]) {
                        seccontainer.querySelector('#fileinfofiletype').textContent = filetypes[extension];
                    } else {
                        seccontainer.querySelector('#fileinfofiletype').textContent = "Unsupported";
                    }
                }
            }
            if (downloadBtn){
                downloadBtn.onclick = () => downloadFile(safeValue);
            }
        }
        
        document.querySelectorAll('.filedot .filePathInput').forEach(rect => {
            rect.addEventListener('input', () => {
                handleFileNameInputChange(rect.parentElement);
            });
        });
        
        document.querySelectorAll('.rectangle').forEach(rect => {
            let timer;
            
            rect.querySelector('.close').addEventListener('click', () => {
                rect.classList.remove('enlarged');
            });
            rect.addEventListener('mousedown', startEnlarge);
            rect.addEventListener('touchstart', startEnlarge);
            
            rect.addEventListener('mouseup', stopEnlarge);
            rect.addEventListener('mouseleave', stopEnlarge);
            rect.addEventListener('touchend', stopEnlarge);
            
            function startEnlarge(event) {
                timer = setTimeout(() => {
                    rect.classList.add('enlarged');
                }, 700);
            }
            
            function stopEnlarge() {
                clearTimeout(timer);
            }
        });
        
        document.querySelectorAll('.filePathInput').forEach(rect => {
            let timer;
            
            rect.addEventListener('mousedown', startEnlarge);
            rect.addEventListener('touchstart', startEnlarge);
            
            rect.addEventListener('mouseup', stopEnlarge);
            rect.addEventListener('mouseleave', stopEnlarge);
            rect.addEventListener('touchend', stopEnlarge);
            
            function startEnlarge(event) {
                timer = setTimeout(() => {
                    updateviewthisfilebtn();
                    document.querySelector('.overlay-container').style.display = "flex";
                    document.querySelector('.overlay-container').style.animation = "none";
                    void document.querySelector('.overlay-container').offsetWidth;
                    if (transitionanimation != "none") {
                        document.querySelector('.overlay-container').style.animation = transitionanimation + "in 0.5s ease-out";
                    }
                }, 700);
            }
            
            function stopEnlarge() {
                clearTimeout(timer);
            }
        });
        
        function hideelement(type, name, event, isfo = "undefined"){
            if (event.target !== event.currentTarget) {
                return;
            }
            if (isfo == "filesoverlay") {
                document.getElementById('showallfilescontainerbtn').classList.remove("ActiveOverlay");
            } else if (isfo == "templatesoverlay") {
                document.getElementById('showalltemplatescontainerbtn').classList.remove("ActiveOverlay");
            }
            if (type == 'class'){
                const ewcname = document.querySelector('.' + name);
                ewcname.style.animation = "none";
                void ewcname.offsetWidth;
                if (transitionanimation != "none") {
                    ewcname.style.animation = transitionanimation + "out 0.5s ease-out";
                    setTimeout(() => {
                        ewcname.style.display = 'none';
                    }, 500);
                }else {
                    ewcname.style.display = 'none';
                }
            }else if (type == 'id'){
                const ewidname = document.getElementById(name);
                ewidname.style.animation = "none";
                void ewidname.offsetWidth;
                if (transitionanimation != "none") {
                    ewidname.style.animation = transitionanimation + "out 0.5s ease-out";
                    setTimeout(() => {
                        ewidname.style.display = 'none';
                    }, 500);
                } else {
                    ewidname.style.display = 'none';
                }
            }
        }
        
        const navBar = document.getElementById('nav-bar');
        let isDragging = false;
        let startY = 0;
        let currentHeight = 50;
        let section = document.getElementById('section0');
        let sectionindex = 0;
        let inputDiv = section.querySelector('.code-editor-container');
        
        function clearpasttoundo() {
            if (pastevents[section.id]) {
                delete pastevents[section.id];
                const steps = [
                    { percent: 0, text: 'deleting past' },
                    { percent: 90, text: 'past deleted' },
                    { percent: 100, text: 'Clearing complete' },
                ];
                startLoadingThis(steps, 'getting past');
                disablepastbtn();
            }else {
                showAlert('this file does not have a past');
            }
        }
        
        function replacetext(replacethis, replacement) {
            let replacementtext = document.getElementById(replacement)?.value || "";
            let replacethistext = document.getElementById(replacethis)?.value || "";
        
            if (!replacementtext || !replacethistext) return;
            if (!section) return;
            
            let newpast = [];
        
            let lines = replacing === "all" 
                ? section.querySelectorAll(".code-editor-line") 
                : section.querySelectorAll(".code-editor-line.selected");
            const regexortext = document.getElementById('replaceoptions').value;
            if (regexortext == "1" && replacethistext.trim() != "") {
                try {
                    const regexforreplacing = new RegExp(replacethistext, "g");
                    Array.from(lines)
                        .filter(el => el.textContent.match(regexforreplacing))
                        .reverse()
                        .forEach(line => {
                            let pastelement = {
                                element: line,
                                type: "text",
                                text: line.textContent
                            };
                            newpast.push(pastelement);
                            line.textContent = line.textContent.replace(regexforreplacing, replacementtext);
                            addJsSyntaxHighlighting(line);
                        });
                    shortNotificationmessageelement("file content successfully updated");
                } catch(err){
                    let error = err;
                    shortNotificationmessageelement("an Error occurred while replecing");
                }
            } else {
                Array.from(lines)
                    .filter(el => el.textContent.includes(replacethistext))
                    .reverse()
                    .forEach(line => {
                        let pastelement = {
                            element: line,
                            type: "text",
                            text: line.textContent
                        };
                        newpast.push(pastelement);
                        line.textContent = line.textContent.replaceAll(replacethistext, replacementtext);
                        addJsSyntaxHighlighting(line);
                    });
                shortNotificationmessageelement("file content successfully updated");
            }
            if (newpast.length > 0) {
                pasteventPrep();
                futureevents[lasteventsparentsection.id] = [];
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
            hidereplaceoverlay();
        }

        
        function scrollviewintoview() {
            if (section.id == document.querySelector('.viewcontainer').id){
                return;
            }
            const view = document.getElementById('view-nav-dot');
            view.scrollIntoView({ behavior: 'smooth' });
            document.querySelector('.nav-bar').style.overflow = "scroll";
            document.querySelector('.nav-bar').style.overflowY = "hidden";
            closeeverything();
        }
        function gotonextorpreviousfile(vbackorforwardv){
            if (!section){
                return;
            }
            let navbarindexnumbernumber = 0;
            if (vbackorforwardv == "back"){
                navbarindexnumbernumber = parseInt(section.id.replace('section', '')) - 1;
            }else if (vbackorforwardv == "forward"){
                navbarindexnumbernumber = parseInt(section.id.replace('section', '')) + 1;
            }
            let navBar = document.getElementById('nav-bar');
            let scrolltothissection = navBar.querySelector('.nav-dot[data-index="' + navbarindexnumbernumber + '"]');
            if (scrolltothissection){
                scrolltothissection.scrollIntoView({ behavior: 'smooth' });
                document.querySelector('.overlay-back-btn').click();
            }
        }
        function checkiflinenumberinputkeydownisenter(event) {
            if (event.key == 'Enter') {
                event.preventDefault();
                document.querySelectorAll('.suggestioncontainer').forEach(suggestioncontainerv => {
                    suggestioncontainerv.remove();
                });
                let input = event.target;
                let value = input.value.trim();

                if (value !== '') {
                    if (isNaN(value)) {
                        return;
                    }

                    let lines = section.querySelectorAll('.code-editor-line');
                    let lineIndex = parseInt(value, 10) - 1;

                    if (lineIndex >= 0 && lineIndex < lines.length) {
                        let line = lines[lineIndex];

                        line.scrollIntoView({
                            behavior: 'smooth',
                            block: 'center',
                        });
                        focuseceline(line);
                    }else if (lineIndex >= 0 && lineIndex > lines.length){
                        let line = lines[lines.length - 1];
                        
                        line.scrollIntoView({
                            behavior: 'smooth',
                            block: 'center',
                        });
                        focuseceline(line);
                    }
                }
            }
        }
        function scrolltolinenumber(linenum){
            let lines = section.querySelectorAll('.code-editor-line');
            let lineIndex = parseInt(linenum);

            if (lineIndex >= 0 && lineIndex < lines.length) {
                let line = lines[lineIndex];

                line.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center',
                });
                focuseceline(line);
            }
        }

        function deletethisfile(number) {
            let sid = document.getElementById("section" + number)?.id;
            let sidesid = sid && sid == section.id;
            if (sidesid) {
                document.getElementById('sidebarfilelinklink0').click();
            }
            let rectangleToDelete = document.getElementById('rectangle' + number);
            if (rectangleToDelete) {
                dissolve(rectangleToDelete, 250);
                document.querySelectorAll('.rectangle').forEach((rect, index) => {
                    const sectionKey = rect.id.replace('rectangle', 'section');
                    if (pastevents[sectionKey]) {
                        pastevents["section" + index] = pastevents[sectionKey];
                    }

                    if (futureevents[sectionKey]) {
                        futureevents["section" + index] = futureevents[sectionKey];
                    }
                    if (rect.id !== 'image-rectangle') {
                        rect.id = "rectangle" + index;
                        if (rect.querySelector('.rectangle-buttons .delete-btn') && rect.querySelector('.rectangle-buttons .edit-btn')){
                            rect.querySelector('.rectangle-buttons .delete-btn').setAttribute('onclick', `deletethisfile(${index})`);
                            rect.querySelector('.rectangle-buttons .edit-btn').setAttribute('onclick', `editthisfile(${index})`);
                        }
                        rect.setAttribute('onclick', `editthisfile(${index}, event)`);
                    }
                });
            }

            let navBar = document.getElementById('nav-bar');
            let deletedFileName = "";
            if (navBar) {
                let deletethisnavdot = navBar.querySelector('.nav-dot[data-index="' + number + '"]');
                if (deletethisnavdot) {
                    let filePathInput = deletethisnavdot.querySelector('.filePathInput');
                    let deletethisnavdotvalue = filePathInput ? filePathInput.value : null;
                    deletedFileName = deletethisnavdotvalue;
                    deletethisnavdot.remove();

                    document.querySelectorAll('.nav-dot').forEach((navdot, index) => {
                        navdot.classList.remove('navdot' + navdot.getAttribute('data-index'));
                        navdot.classList.add('navdot' + index);
                        navdot.setAttribute('data-index', index);
                    });

                    if (deletethisnavdotvalue) {
                        let filenameOptions = document.getElementById('filenameoptions');
                        if (filenameOptions) {
                            let optionToDelete = filenameOptions.querySelector(`option[value="${deletethisnavdotvalue}"]`);
                            if (optionToDelete) {
                                optionToDelete.remove();
                                document.querySelectorAll('#filenameoptions option').forEach((option, index) => {
                                    option.id = "option" + index;
                                });
                            }
                        }
                    }
                }
            }

            let container = document.getElementById('container');
            if (container) {
                let deletethissection = container.querySelector('.section[id="section' + number + '"]');
                if (deletethissection) {
                    deletethissection.remove();
                    document.querySelectorAll('.section').forEach((sectionv, index) => {
                        sectionv.id = "section" + index;
                    });
                }
            }
            
            let sidebarfilelinklink = document.getElementById("sidebarfilelinklink" + number);
            if (sidebarfilelinklink) {
                sidebarfilelinklink.className = "sidebarfilelinklink";
                dissolve(sidebarfilelinklink, 150);
                document.querySelectorAll(".sidebarfilelinklink").forEach((sidebarfilelink, index) => {
                    if (parseInt(document.querySelector('.viewcontainer').id.replace('section', '')) <= index) {
                        index++;
                    }
                    sidebarfilelink.id = 'sidebarfilelinklink' + index;
                    sidebarfilelink.setAttribute('onclick', `editthisfile(${index}, event)`);
                });
            }
            document.querySelectorAll('.sidebarfilelinklink').forEach(link => {
                link.style.display = "flex";
            });
            document.querySelectorAll('#folderh3').forEach(fold => {
                if (!document.querySelector('.' + fold.getAttribute('data-valuewr'))) {
                    fold.remove();
                } else {
                    fold.style.display = "block";
                    fold.querySelector('span').textContent = "<";
                    fold.querySelector('span').click();
                }
            });
            if (deletedFileName && deletedFileName.textContent != "") {
                shortNotificationmessageelement(deletedFileName + " successfully deleted");
            }
        }
        
        function editthisfile(number, event = null){
            if (document.querySelector('.notificationmessage').style.display != "none") {
                hidenotificationmessage();
            }
            if (event && event.target !== event.currentTarget && !event.target.classList.contains('notclickable') && !event.target.classList.contains('close')) {
                createOptionsContainer(event.target, number);
                return;
            }else if (event && event.target.classList.contains('close') || event.target.classList.contains('enlarged')){
                return;
            }
            closesidebaronsmallscreensizes();
            if (event.target.classList.contains('rectangle')){
                let navBar = document.getElementById('nav-bar');
                let scrolltothissection = navBar.querySelector('.nav-dot[data-index="' + number + '"]');
                if (scrolltothissection){
                    let lasttransitionanimation = transitionanimation;
                    transitionanimation = "ease";
                    event.target.classList.add('openfileenlarged');
                    scrolltothissection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => {
                        document.querySelector('.overlay-back-btn').click();
                        closeeverything();
                        setTimeout(() => {
                            event.target.classList.remove('openfileenlarged');
                        }, 500);
                        transitionanimation = lasttransitionanimation;
                    }, 500)
                }
            }else {
                closeeverything();
                let navBar = document.getElementById('nav-bar');
                let scrolltothissection = navBar.querySelector('.nav-dot[data-index="' + number + '"]');
                if (scrolltothissection) {
                    scrolltothissection.scrollIntoView({ behavior: 'smooth' });
                    document.querySelector('.overlay-back-btn').click();
                }
            }
            lasteventsparentsection = document.getElementById('section' + number);
        }
        function updateviewthisfilebtn() {
            if (!section || !section.id){
                return;
            }
            if (section.id == document.querySelector('.viewcontainer').id){
                document.querySelector('.viewthisfile').style.display = 'none';
            }else {
                document.querySelector('.viewthisfile').style.display = 'inline-block';
            }
        }
        function deleteAllEmptyLines() {
            const sectionlinecontainer = section.querySelector(".code-editor-container");
            if (!sectionlinecontainer) {
                showAlert('we did not find the files content');
                return;
            }
            const steps = [
                { percent: 0, text: 'Processing...' },
                { percent: 50, text: 'removing...' },
                { percent: 100, text: 'empty lines removed' },
            ];
            startLoadingThis(steps, 'checking...');
            const allsectionlines = Array.from(sectionlinecontainer.querySelectorAll(".code-editor-line")).filter(el => {
                return el.textContent.trim() == "";
            });
            let newpast = [];
            lasteventsparentsection = section;
            let y = allsectionlines.length
            for (let i = 0; i < y; i++){
                let line = allsectionlines[i];
                let pastelement = {
                    element: line,
                    type: "delete",
                    index: getElementIndexInParent(line)
                };
                newpast.push(pastelement);
                if (section.querySelectorAll(".code-editor-line").length > 1 && !line.classList.contains('hiddenlinesparent')) {
                    line.remove();
                }
            }
            if (newpast.length > 0) {
                pasteventPrep();
                futureevents[lasteventsparentsection.id] = [];
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
                const seccontainer = document.querySelector('.seccontainer');
                const fileinfolineamount = seccontainer.querySelector('#fileinfolineamount');
                const fileinfolengthnumber = seccontainer.querySelector('#fileinfolengthnumber');
                if (fileinfolineamount && fileinfolengthnumber) {
                    fileinfolineamount.textContent = Array.from(section.querySelectorAll('.code-editor-line')).length;
                    fileinfolengthnumber.textContent = section.querySelector('.code-editor-container').textContent.replace(/[\s\u00A0\u1680\u180E\u2000-\u200A\u202F\u205F\u3000\uFEFF]/g, '').length;
                }
            }
        }
        function deleteAllCommentsInLines() {
            if (!section) {
                showAlert('we did not find the file');
            }
            const sectionlinecontainer = section.querySelector(".code-editor-container");
            if (!sectionlinecontainer) {
                showAlert('we did not find the files content');
                return;
            }
            
            const steps = [
                { percent: 0, text: 'Processing...' },
                { percent: 50, text: 'removing...' },
                { percent: 100, text: 'comments removed' },
            ];
            startLoadingThis(steps, 'checking...');
            
            const allsyntaxcommentsectionlines = Array.from(sectionlinecontainer.querySelectorAll(".code-editor-line.syntaxcomment"));
            const allsyntaxhtmlcommentsectionlines = Array.from(sectionlinecontainer.querySelectorAll(".code-editor-line.syntaxhtmlcomment"));
            
            let newpast = [];
            lasteventsparentsection = section;
            
            const allsyntaxcommentsyntaxhtmlcommentsectionlines = [...allsyntaxcommentsectionlines, ...allsyntaxhtmlcommentsectionlines];
            
            allsyntaxcommentsyntaxhtmlcommentsectionlines.forEach(line => {
                let pastelement = {
                    element: line,
                    type: "delete",
                    index: getElementIndexInParent(line)
                };
                newpast.push(pastelement);
                
                line.remove();
            });
            
            const allsectionlines = sectionlinecontainer.querySelectorAll(".code-editor-line");

            allsectionlines.forEach(line => {
                let pastelement = {
                    element: line,
                    type: "text",
                    text: line.textContent
                };
                newpast.push(pastelement);

                let text = line.textContent;
                
                text = text.replace(/(?:\<\!\-\-[^]*|(?<!\<\!\-\-[^]*)[\s\S]*?\-\-\>)/g, '').replace(/(\/\/[^\n]*|\/\*[\s\S]*?(?:\*\/|$)|[^\/]*\*\/)/g, '');
                line.textContent = text;
                addJsSyntaxHighlighting(line);
            });

            if (newpast.length > 0) {
                pasteventPrep();
                futureevents[lasteventsparentsection.id] = [];
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
                const seccontainer = document.querySelector('.seccontainer');
                const fileinfolineamount = seccontainer.querySelector('#fileinfolineamount');
                const fileinfolengthnumber = seccontainer.querySelector('#fileinfolengthnumber');
                if (fileinfolineamount && fileinfolengthnumber) {
                    fileinfolineamount.textContent = Array.from(section.querySelectorAll('.code-editor-line')).length;
                    fileinfolengthnumber.textContent = section.querySelector('.code-editor-container').textContent.replace(/[\s\u00A0\u1680\u180E\u2000-\u200A\u202F\u205F\u3000\uFEFF]/g, '').length;
                }
            }
        }

        function positionElementAbove(elementToPosition, referenceElement) {
            const referenceRect = referenceElement.getBoundingClientRect();
            elementToPosition.style.position = 'absolute';
            elementToPosition.style.top = `${referenceRect.top - window.innerHeight * 0.06}px`;

            if (document.querySelector('.sidebarenabled')){
                elementToPosition.style.right = `calc(${referenceRect.left + (referenceRect.width - elementToPosition.offsetWidth) / 2}px - var(--sibebar-width))`;
            }else {
                elementToPosition.style.right = `${referenceRect.left + (referenceRect.width - elementToPosition.offsetWidth) / 2}px`;
            }
        }

        function positionoptionsElementBelow(elementToPosition, referenceElement) {
            const referenceRect = referenceElement.getBoundingClientRect();
            elementToPosition.style.position = 'absolute';
            elementToPosition.style.top = `${referenceRect.height}px`;

            if (document.querySelector('.sidebarenabled')) {
                elementToPosition.style.right = `calc(${referenceRect.left + (elementToPosition.offsetWidth) / 2}px - var(--sibebar-width))`;
                elementToPosition.style.width = 'calc(100vw - var(--sibebar-width))';
            } else {
                elementToPosition.style.right = `${referenceRect.left + (elementToPosition.offsetWidth) / 2}px`;
                elementToPosition.style.width = '100vw';
            }
            adjustElementPosition(elementToPosition);
            adjustElementPositionleft(elementToPosition);
        }
        let targetElementv = null;
        document.querySelectorAll('.code-editor-container').forEach(linecontainer => {
            lineoptioncontainerupdate(linecontainer);
        });
        function lineoptioncontainerupdate(linecontainer){

            linecontainer.addEventListener('mousedown', function(event) {
                const targetElement = event.target;
                targetElementv = targetElement;
                targetElement.holdTimer = setTimeout(() => {
                document.querySelector('.lineoptions').style.display = 'block';
                    performLongPressAction(targetElement);
                }, 700);
            });

            linecontainer.addEventListener('mouseup', function(event) {
                const targetElement = event.target;
                clearTimeout(targetElement.holdTimer);
            });

            linecontainer.addEventListener('mouseleave', function(event) {
                const targetElement = event.target;
                clearTimeout(targetElement.holdTimer);
            });

            linecontainer.addEventListener('click', function(event) {
                const targetElement = event.target;
                performLongPressAction(targetElement);
                targetElementv = targetElement;
            });

            linecontainer.addEventListener('keydown', function() {
                const focusedline = document.querySelector('.code-editor-line:focus');
                if (!focusedline) {
                    return;
                }
                const targetElement = focusedline;
                performLongPressAction(targetElement);
                targetElementv = targetElement;
            });


            linecontainer.addEventListener('scroll', function() {
                if (targetElementv) {
                    performLongPressAction(targetElementv);
                }
                if (document.querySelector('.suggestioncontainer')){
                    const container = document.querySelector('.suggestioncontainer');
                    function updateCaretPosition() {
                        const selection = window.getSelection();
                        if (selection.rangeCount === 0) return;
            
                        const range = selection.getRangeAt(0);
                        const rect = range.getBoundingClientRect();
            
                        if (rect.height === 0) return;
            
                        container.style.left = `${rect.left + window.scrollX}px`;
                        container.style.top = `${rect.bottom + window.scrollY}px`;
                        adjustElementPositionleft(container);
                        
                        const rect2 = container.getBoundingClientRect();
                        const screenHeight = window.innerHeight;
                        
                        const distanceToBottom = rect2.bottom - screenHeight;
                        
                        if (distanceToBottom > 0) {
                            container.remove();
                        }
                        
                        const rect3 = container.getBoundingClientRect();
                        const distanceToTop = rect3.top;
                        
                        if (distanceToTop < 0) {
                            container.remove();
                        }
                    }
                    updateCaretPosition();
                }
            });


            linecontainer.addEventListener('touchstart', function(event) {
                const targetElement = event.target;
                targetElementv = targetElement;
                targetElement.holdTimer = setTimeout(() => {
                document.querySelector('.lineoptions').style.display = 'block';
                    performLongPressAction(targetElement);
                }, 700);
            });
            linecontainer.addEventListener('touchend', function(event) {
                const targetElement = event.target;

                targetElementv = targetElement;
                clearTimeout(targetElement.holdTimer);
            });
            linecontainer.addEventListener('click', function(event) {
                const targetElement = event.target;
                performLongPressAction(targetElement);
                targetElementv = targetElement;
            });
            linecontainer.addEventListener('keydown', function() {
                const focusedline = document.querySelector('.code-editor-line:focus');
                if (!focusedline){
                    return;
                }
                const targetElement = focusedline;
                performLongPressAction(targetElement);
                targetElementv = targetElement;
            });


            linecontainer.addEventListener('scroll', function() {
                if (targetElementv){
                    performLongPressAction(targetElementv);
                }
            });
        }

        function performLongPressAction(element) {
            if (element.classList.contains('code-editor-line')) {
                positionElementAbove(document.querySelector('.lineoptions'), element);
            } else {
                document.querySelector('.lineoptions').style.display = 'none';
            }
        }
        function closelineoptionscontainer() {
            document.querySelector('.lineoptions').style.display = 'none';
        }
        function swipethislineleft() {
            if (!section){
                return;
            }
            if (section.classList.contains('viewcontainer')){
                return;
            }
            if (!targetElementv){
                return;
            }
            if (targetElementv.classList.contains('selected')) {
                targetElementv.classList.remove('selected');
                if (!section.querySelector('.code-editor-line.selected')){
                    section.querySelectorAll('.eslbtn').forEach(dline => {
                        dline.classList.add('disabled');
                    });
                }
                updateSelectedClasses();
            } else if (!targetElementv.classList.contains('selected') && !targetElementv.classList.contains('hiddenlinesparent') && !targetElementv.classList.contains('superselected')) {
                analyzeAndHideElements(targetElementv);
                updateSelectedClasses();
            } else if (targetElementv.classList.contains('superselected')) {
                targetElementv.classList.remove('superselected');
                targetElementv.classList.add('selected');
                targetElementv.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                    dline.classList.remove('disabled');
                });
                updateSelectedClasses();
            }
        }
        function swipethislineright() {
            if (!section){
                return;
            }
            if (section.classList.contains('viewcontainer')){
            return;
            }
            if (!targetElementv){
                return;
            }
            if (!targetElementv.classList.contains('selected') && !targetElementv.classList.contains('hiddenlinesparent') && !targetElementv.classList.contains('superselected')) {
                targetElementv.classList.add('selected');
                section.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                    dline.classList.remove('disabled');
                });
                updateSelectedClasses();
            } else if (targetElementv.classList.contains('hiddenlinesparent')) {
                targetElementv.classList.remove('hiddenlinesparent');
                showHiddenElements(targetElementv);
                updateSelectedClasses();
            }else if (targetElementv.classList.contains('selected')) {
                let anothersuperselectedline = false;
                let superselectedline = section.querySelector('.code-editor-line.superselected');
                if (superselectedline){
                    anothersuperselectedline = true;
                }
                targetElementv.classList.remove('selected');
                targetElementv.classList.add('superselected');
                if (!section.querySelector('.code-editor-line.selected')){
                    section.querySelectorAll('.eslbtn').forEach(dline => {
                        dline.classList.add('disabled');
                    });
                }
                if (anothersuperselectedline == true){
                    superselect(superselectedline, targetElementv);
                    superselectedline.classList.remove('superselected');
                    targetElementv.classList.remove('superselected');
                    superselectedline.classList.add('selected');
                    targetElementv.classList.add('selected');
                    section.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                        dline.classList.remove('disabled');
                    });

                }
                updateSelectedClasses();
            }
        }

        const initialviewcontainerzindex = document.querySelector('.viewcontainer').style.zIndex;
        const initialviewcontainertop = document.querySelector('.viewcontainer').style.top;
        const initialviewcontainerleft = document.querySelector('.viewcontainer').style.left;
        let initialviewcontainerdisplay = document.querySelector('.viewcontainer').style.display;
        function viewthisfile() {
            section.style.display = "none";
            initialviewcontainerdisplay = document.querySelector('.viewcontainer').style.display;
            document.querySelector('.viewcontainer').style.animation = "none";
            document.querySelector('.viewcontainer').style.position = "fixed";
            document.querySelector('.viewcontainer').style.top = "0";
            document.querySelector('.viewcontainer').style.left = "0";
            document.querySelector('.viewcontainer').style.zIndex = "1111";
            document.querySelector('.consoleconteiner').style.zIndex = "1111";
            document.querySelector('.consoleconteiner').style.bottom = "0";
            document.querySelector('.viewcontainer').style.display = "flex";

            let sidebarenabledviewcontainer = document.querySelector('.sidebarenabled .viewcontainer');
            if (sidebarenabledviewcontainer){
                sidebarenabledviewcontainer.style.left = "var(--sibebar-width)";
            }

            let filepathtext = document.querySelector('.navdot' + sectionindex + ' input[type="text"]').value;

            document.getElementById('computer-url-input').value = filepathtext;
            document.getElementById('mobile-url-input').value = filepathtext;

            document.querySelector('.closeviewthisfilebtn').style.display = "flex";
        }

        function closeviewthisfile() {
            section.style.display = "flex";
            document.querySelector('.viewcontainer').style.position = "relative";
            document.querySelector('.viewcontainer').style.top = initialviewcontainertop;
            document.querySelector('.viewcontainer').style.left = initialviewcontainerleft;
            document.querySelector('.viewcontainer').style.zIndex = initialviewcontainerzindex;
            document.querySelector('.consoleconteiner').style.zIndex = 'auto';
            document.querySelector('.consoleconteiner').style.bottom = "50px";
            if (section && section.classList.contains('viewcontainer')){
                document.querySelector('.viewcontainer').style.display = "flex";
            }else {
                document.querySelector('.viewcontainer').style.display = initialviewcontainerdisplay;
            }

            document.querySelector('.closeviewthisfilebtn').style.display = "none";
            hideconsoleconteiner();
        }
        
        function normalizeSpaces(text) {
            return text.replace(/\s/g, ' ');
        }
        
        function checkiffile(filename) {
            let fileContent = "";
            document.querySelectorAll('.filedot').forEach(fd => {
                let filePathInputva = fd.querySelector('.filePathInput');
                if (filePathInputva && filePathInputva.value == filename) {
                    let sectionv = document.getElementById(`section${fd.getAttribute('data-index')}`);
                    if (sectionv) {
                        let container = sectionv.querySelector('.code-editor-container');
                        if (container) {
                            container.querySelectorAll('.code-editor-line').forEach(line => {
                                fileContent += normalizeSpaces(line.textContent) + "\n";
                            });
                            return;
                        }
                    }
                }
            });
            return fileContent;
        }
        
        function replaceLinksAndScripts(values) {
            let htmlString = checkiffile(values);
            const fileCache = new Map();

            const getFileContent = (filename) => {
                if (!fileCache.has(filename)) {
                    fileCache.set(filename, checkiffile(filename));
                }
                return fileCache.get(filename);
            };

            htmlString = htmlString.replace(/<link\s+[^>]*rel=["']stylesheet["'][^>]*href=["']([^"']+)["'][^>]*>/g, (match, href) => {
                const fileContent = checkiffile(href);
                return fileContent ? `<style>\n${fileContent}\n</style>` : match;
            });

            htmlString = htmlString.replace(/<script\s+[^>]*src=["']([^"']+)["'][^>]*><\/script>/g, (match, src) => {
                const fileContent = checkiffile(src);
                return fileContent ? `<script>\n${fileContent}\n<\/script>` : match;
            });
            const filerequests = `
    <\/script>
    <script>
        const fileReplacements = ${JSON.stringify(allimages)};
        
        if ('fetch' in window) {
          const originalFetch = window.fetch;
          window.fetch = function(url, options) {
            // Bestimme die URL, egal ob als String oder Request-Objekt übergeben
            let requestUrl = (typeof url === 'string') ? url : url.url;
            const urlObj = new URL(requestUrl, location.href);
            const fileName = urlObj.pathname.split("/").pop();
        
            // Falls ein Ersatz für den angefragten Dateinamen existiert, leite den Request um
            if (fileReplacements[fileName]) {
              return originalFetch(fileReplacements[fileName], options);
            }
        
            // Andernfalls führe den ursprünglichen Request aus
            return originalFetch(url, options);
          };
        }

        const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.type === "attributes" && mutation.attributeName === "src") {
              const img = mutation.target;
              const fileName = img.src.split("/").pop();
              if (fileReplacements[fileName]) {
                img.src = fileReplacements[fileName];
              }
            }
          });
        });
        
        // Beobachtet das ganze Dokument nach <img>-Änderungen
        observer.observe(document, { attributes: true, subtree: true, attributeFilter: ["src"] });
        
        // Bereits existierende <img>-Tags direkt ersetzen
        document.querySelectorAll("img").forEach((img) => {
          const fileName = img.src.split("/").pop();
          if (fileReplacements[fileName]) {
            img.src = fileReplacements[fileName];
          }
        });

    <\/script>
            `;
            htmlString = htmlString.replace(/<\/script>(?![\s\S]*<\/script>)/, filerequests);
            if (document.querySelector('.consoletogglebtn').classList.contains('Active')){
                const extracode = `
    <\/script>
    <script>
        window.addEventListener('message', (event) => {
            if (typeof event.data === 'string' && event.data.startsWith('run: ')) {
                try {
                    const func = new Function(event.data.slice(5).trim());
                    const result = func();
                } catch (error) {
                    parent.postMessage({ 
                        status: 'error', 
                        message: error.name + ': ' + error.message 
                    }, '*');
                }
            }
        });
    <\/script>`;
                
                htmlString = htmlString.replaceAll(/<script\b[^>]*>([\s\S]*?)<\/script>/gi, (match, code) => {
                    return "<script>\ntry {\n" + code + "\n} catch (error) {\nif (error.type){\nparent.postMessage({ status: 'error', message: error.type + ': ' + error.message }, '*');\n}else {\nparent.postMessage({ status: 'error', message: 'Error: ' +  \`\${error.message}\` }, '*');\n}\n}\n<\/script>";
                });
                htmlString = htmlString.replace(/<\/script>(?![\s\S]*<\/script>)/, extracode);
                
                
                htmlString = htmlString.replaceAll(/console\.(\w+)\((.*?)\);/g, (match, type, message) => {
                    const keys = [
                        "error",
                        "clear",
                        "log",
                        "debug",
                        "info",
                        "warn",
                        "table",
                        "dir",
                        "group",
                        "groupEnd",
                        "groupCollapsed",
                        "time",
                        "timeEnd",
                        "timeLog",
                        "assert",
                        "count",
                        "countReset"
                    ];
                    if (!keys.includes(type)){
                        return `parent.postMessage({ status: 'error', message: 'unsupported console method: ${type}' }, '*');\nconsole.${type}(${message});`;
                    }
                    let messagetouse = message;
                    if (messagetouse == ""){
                        //console.${type}(${messagetouse});\n
                        return `parent.postMessage({ status: '${type}', message: "default" }, '*');`;
                    }
                    //console.${type}(${messagetouse});\n
                    return `parent.postMessage({ status: '${type}', message: [${messagetouse}] }, '*');`;
                });
            }
            
            return htmlString;
        }

        let currentiframeid = null;
        function cleariframe(iframeid) {
            if (!iframeid || currentiframeid != iframeid) {
                return;
            }
            
            currentiframeid = null;
            document.querySelector('.console').innerHTML = "";
            document.querySelector('#' + iframeid).srcdoc = "";
            document.querySelector('#' + iframeid).srcdoc = "";
            document.querySelector('#' + iframeid).parentElement.style.backgroundColor = "var(--browseriframebackgroundcolor-color)";
            timers = {};
            counts = {};
            consolegroups = {};
            openconsolegroups = {};
        }
        function textCode(textcontainerid, iframeid) {
            if (!iframeid){
                return;
            }
            document.querySelector('.console').innerHTML = "";
            currentiframeid = iframeid;
            document.querySelector('#computer-frame').srcdoc = "";
            document.querySelector('#mobile-frame').srcdoc = "";
            document.querySelectorAll('.iframe-container').forEach(iframe => {
                iframe.style.backgroundColor = "var(--browseriframebackgroundcolor-color)";
            });
            timers = {};
            counts = {};
            consolegroups = {};
            openconsolegroups = {};
            let code = "";
            const requestedfilename = document.getElementById(textcontainerid).value;
            if (requestedfilename.endsWith(".tsx")){
                code = checkiffile(requestedfilename);
                document.getElementById(iframeid).srcdoc = code;
            }else if (requestedfilename.endsWith(".jsx")) {
                code = checkiffile(requestedfilename);
                document.getElementById(iframeid).srcdoc = code;
            } else if (requestedfilename.endsWith(".html")){
                code = replaceLinksAndScripts(requestedfilename);
                document.getElementById(iframeid).srcdoc = code;
            } else if (requestedfilename.endsWith(".htm")){
                code = replaceLinksAndScripts(requestedfilename);
                document.getElementById(iframeid).srcdoc = code;
            } else {
                code = checkiffile(requestedfilename);
                document.getElementById(iframeid).srcdoc = "<pre><code>" + escapeHTML(code) + "</code></pre>";
            }
            document.getElementById(iframeid).parentElement.style.background = "white";
            function escapeHTML(str) {
                return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            }
        }
        
        function runcodeincurrentiframe(inputfield, event){
            if (event.key == "Enter" && currentiframeid){
                let texttorun = inputfield.value;
                texttorun = texttorun.replaceAll(/<script\b[^>]*>([\s\S]*?)<\/script>/gi, (match, code) => {
                    return "<script>\ntry {\n" + code + "\n} catch (error) {\nif (error.type){\nparent.postMessage({ status: 'error', message: error.type + ': ' + error.message }, '*');\n}else {\nparent.postMessage({ status: 'error', message: 'Error: ' +  \`\${error.message}\` }, '*');\n}\n}\n<\/script>";
                });
                texttorun = texttorun.replaceAll(/console\.(\w+)\((.*?)\);/g, (match, type, message) => {
                    const keys = [
                        "error",
                        "clear",
                        "log",
                        "debug",
                        "info",
                        "warn",
                        "table",
                        "dir",
                        "group",
                        "groupEnd",
                        "groupCollapsed",
                        "time",
                        "timeEnd",
                        "timeLog",
                        "assert",
                        "count",
                        "countReset"
                    ];
                    if (!keys.includes(type)) {
                        return `parent.postMessage({ status: 'error', message: 'unsupported console method: ${type}' }, '*');\nconsole.${type}(${message});`;
                    }
                    let messagetouse = message;
                    if (messagetouse == "") {
                        //console.${type}(${messagetouse});\n
                        return `parent.postMessage({ status: '${type}', message: "default" }, '*');`;
                    }
                    //console.${type}(${messagetouse});\n
                    return `parent.postMessage({ status: '${type}', message: [${messagetouse}] }, '*');`;
                });
                document.getElementById(currentiframeid).contentWindow.postMessage('run: ' + texttorun, '*');
                inputfield.value = "";
            }
        }


        const swipeContainer = document.querySelector('.swipe-container');
        let startXvvv;

        function updateIframe(type) {
            const iframe = document.getElementById(`${type}-frame`);
            const url = document.getElementById(`${type}-url-input`).value;
            iframe.src = url;
        }

        swipeContainer.addEventListener('touchstart', (e) => {
            startXvvv = e.touches[0].clientX;
        });

        swipeContainer.addEventListener('touchend', (e) => {
            const endX = e.changedTouches[0].clientX;
            handleSwipe(startXvvv, endX);
        });

        swipeContainer.addEventListener('mousedown', (e) => {
            startXvvv = e.clientX;
        });

        swipeContainer.addEventListener('mouseup', (e) => {
            const endX = e.clientX;
            handleSwipe(startXvvv, endX);
        });

        function handleSwipe(start, end) {
            const distance = start - end;
            const threshold = 100;

            if (distance > threshold) {
                swipeContainer.scrollBy({ left: window.innerWidth, behavior: 'smooth' });
            } else if (distance < -threshold) {
                swipeContainer.scrollBy({ left: -window.innerWidth, behavior: 'smooth' });
            }
        }

        function addstartercodetofiles() {
            const section0 = document.getElementById('section0');
            const section1 = document.getElementById('section1');
            const section2 = document.getElementById('section2');
            
            let sec0text = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Header</h1>
    <script src="script.js"><\/script>
</body>
</html>\n`;
            let sec1text = `body {
    height: 100vh;
    width: 100vw;
}`;
            let sec2text = `console.log('Hello World');\n`;
            
            const vAIluryStudioPendingFileName = localStorage.getItem("AIluryStudioPendingFileName");
            const vAIluryStudioPendingFileContent = localStorage.getItem("AIluryStudioPendingFileContent");
            const vAIluryStudioPendingFileRun = localStorage.getItem("AIluryStudioPendingFileRun");
            const vAIluryStudioPendingFileType = localStorage.getItem("AIluryStudioPendingFileType");
            if (vAIluryStudioPendingFileName && vAIluryStudioPendingFileContent && vAIluryStudioPendingFileRun && vAIluryStudioPendingFileType) {
                const sidebarfilelinklink0 = document.getElementById('sidebarfilelinklink0');
                const sidebarfilelinklink1 = document.getElementById('sidebarfilelinklink1');
                const sidebarfilelinklink2 = document.getElementById('sidebarfilelinklink2');
                const navdot0input = document.querySelector('.navdot0 .filePathInput');
                const navdot1input = document.querySelector('.navdot1 .filePathInput');
                const navdot2input = document.querySelector('.navdot2 .filePathInput');
                if (sidebarfilelinklink0 && sidebarfilelinklink1 && sidebarfilelinklink2 && navdot0input && navdot1input && navdot2input) {
                    if (vAIluryStudioPendingFileType == "html") {
                        sec0text = vAIluryStudioPendingFileContent;
                        navdot0input.value = vAIluryStudioPendingFileName;
                        handleFileNameInputChange(navdot0input.parentElement);
                        const cvinput = document.getElementById("computer-url-input");
                        const mvinput = document.getElementById("mobile-url-input");
                        if (vAIluryStudioPendingFileRun == "true" && cvinput && mvinput) {
                            cvinput.value = vAIluryStudioPendingFileName;
                            mvinput.value = vAIluryStudioPendingFileName;
                            scrollviewintoview();
                        }
                    } else if (vAIluryStudioPendingFileType == "css") {
                        sec1text = vAIluryStudioPendingFileContent;
                        navdot1input.value = vAIluryStudioPendingFileName;
                        handleFileNameInputChange(navdot1input.parentElement);
                        const cvinput = document.getElementById("computer-url-input");
                        const mvinput = document.getElementById("mobile-url-input");
                        if (vAIluryStudioPendingFileRun == "true" && cvinput && mvinput) {
                            cvinput.value = vAIluryStudioPendingFileName;
                            mvinput.value = vAIluryStudioPendingFileName;
                            scrollviewintoview();
                        } else {
                            sidebarfilelinklink1.click();
                        }
                    } else if (vAIluryStudioPendingFileType == "js") {
                        sec2text = vAIluryStudioPendingFileContent;
                        navdot2input.value = vAIluryStudioPendingFileName;
                        handleFileNameInputChange(navdot2input.parentElement);
                        const cvinput = document.getElementById("computer-url-input");
                        const mvinput = document.getElementById("mobile-url-input");
                        if (vAIluryStudioPendingFileRun == "true" && cvinput && mvinput) {
                            cvinput.value = vAIluryStudioPendingFileName;
                            mvinput.value = vAIluryStudioPendingFileName;
                            scrollviewintoview();
                        } else {
                            sidebarfilelinklink2.click();
                        }
                    }
                }
                localStorage.removeItem("AIluryStudioPendingFileName");
                localStorage.removeItem("AIluryStudioPendingFileContent");
                localStorage.removeItem("AIluryStudioPendingFileRun");
                localStorage.removeItem("AIluryStudioPendingFileType");
            }
            
            const sec0lines = sec0text.split('\n');
            const sec1lines = sec1text.split('\n');
            const sec2lines = sec2text.split('\n');
            
            const allsections = [section0, section1, section2];
            const allsectionstext = [sec0lines, sec1lines, sec2lines];
            allsectionstext.forEach((text, index) => {
                text.forEach(line => {
                    correntids += 1;
                    const newline = document.createElement('div');
                    newline.setAttribute('contenteditable', 'true');
                    newline.id = correntids;
                    newline.classList.add('code-editor-line');
                    newline.textContent = replaceNormalSpaces(line);
                    allsections[index].querySelector('.code-editor-container').appendChild(newline);
                    addJsSyntaxHighlighting(newline);
                });
            });
        }
        
        addstartercodetofiles();
        
        let originalDisplayStatus = [];

        function searchcode(thiselementhasthevalue) {
            if (!section) {
                return;
            }
            if (section.classList.contains('viewcontainer')) {
                return;
            }
            closelineoptionscontainer();

            const codesearchresults = document.querySelector('.codesearchresults');
            positionElementBelow(codesearchresults, thiselementhasthevalue);
            adjustElementPosition(codesearchresults);
            adjustElementPositionleft(codesearchresults);
            codesearchresults.onscroll = () => {
                adjustElementPositionleft(codesearchresults);
            };
            
            const inputvalue = thiselementhasthevalue.value.trim().toLowerCase();
            codesearchresults.style.display = inputvalue ? "flex" : "none";
            codesearchresults.innerHTML = "";
    
            if (codesearchresults.style.display == "flex"){
                document.addEventListener("click", (event) => {
                    if (!event.target.classList.contains('comtiniueresultsbtn') && !event.target.classList.contains('codesearchresults') && !event.target.classList.contains('result') && !event.target.classList.contains('code-search-input')) {
                        hidecodesearchresults();
                    }
                });
            }

            if (inputvalue) {
                const parentSection = thiselementhasthevalue.closest(".section");
                const sectionlinecontainer = parentSection.querySelector('.code-editor-container');
                
                let combinedList = [];
                if (document.querySelector('.pinedlinestopsearchresult input[type="checkbox"]').checked) {
                    const importantElements = sectionlinecontainer.querySelectorAll('.code-editor-line.importantpin');
                    const nonImportantElements = sectionlinecontainer.querySelectorAll('.code-editor-line:not(.importantpin)');
                    combinedList = [...importantElements, ...nonImportantElements];
                } else {
                    const nonImportantAndImportantElements = sectionlinecontainer.querySelectorAll('.code-editor-line');
                    combinedList = [...nonImportantAndImportantElements];
                }

                let resultsnumber = 0;

                function continiueresults(startIndex) {
                    let resultsnumber2 = 0;

                    for (let i = startIndex; i < combinedList.length; i++) {
                        const lineelement = combinedList[i];
                        let commandSearchValue = document.querySelector('.commandtosearchregex').value;
                        let commandCheckbox = document.querySelector('.commandforregexsearch input[type="checkbox"]').checked;
                        let inputLower = inputvalue.toLowerCase();
                        let lineText = normalizeSpaces(lineelement.textContent.toLowerCase());
                        
                        let rfsregex;
                        
                        if (commandSearchValue.length > 0 && thiselementhasthevalue.value.trim().startsWith(commandSearchValue) && commandCheckbox) {
                            let regexPattern = thiselementhasthevalue.value.trim().slice(commandSearchValue.length);
                            
                            if (regexPattern.trim()) {
                                try {
                                    rfsregex = new RegExp(regexPattern);
                                } catch (e) {
                                    let error = e;
                                }
                            }
                        }
                        
                        let con1 = lineText.includes(inputLower);
                        let con2 = commandSearchValue.length > 0 && thiselementhasthevalue.value.trim().startsWith(commandSearchValue) && rfsregex && rfsregex.test(lineText);
                        
                        if (con2 || !con2 && con1) {
                            if (resultsnumber2 >= 50) {
                                const newcomtiniuebtn = document.createElement('button');
                                newcomtiniuebtn.className = "comtiniueresultsbtn";
                                newcomtiniuebtn.textContent = "more...";
                                codesearchresults.appendChild(newcomtiniuebtn);
                                newcomtiniuebtn.onclick = () => {
                                    continiueresults(i);
                                    newcomtiniuebtn.remove();
                                };
                                return;
                            }
                            const newspan = document.createElement('span');
                            newspan.classList.add('result');
                            
                            if (lineelement.classList.contains('importantpin')) {
                                newspan.classList.add('importantsearchresult');
                            }
                            if (document.querySelector('.linenumberforsearchresult input[type="checkbox"]').checked && lineelement.parentElement){
                                const newspannum = document.createElement('span');
                                newspannum.classList.add('resultnum');
                                newspannum.textContent = getElementIndexInParent(lineelement) + 1 + ". ";
                                newspan.appendChild(newspannum);
                                newspan.append(lineelement.textContent.trim());
                            }else {
                                newspan.textContent = lineelement.textContent.trim();
                            }
                            codesearchresults.appendChild(newspan);

                            resultsnumber++;
                            resultsnumber2++;

                            newspan.addEventListener('click', () => {
                                observenothing = true;
                                lineelement.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'center',
                                });
                                focuseceline(lineelement);
                                setTimeout(() => {
                                    observenothing = false;
                                    performLongPressAction(lineelement);
                                    hidecodesearchresults();
                                }, 100);
                            });
                        }
                    }
                }
                continiueresults(0);
            }
        }
        
        function positionElementBelow(elementToPosition, referenceElement) {
            const referenceRect = referenceElement.getBoundingClientRect();
            elementToPosition.style.position = 'absolute';
            elementToPosition.style.top = `${referenceRect.bottom + window.innerHeight * 0.03}px`;
            elementToPosition.style.left = `${referenceRect.left}px`;
            elementToPosition.style.display = "block";
        }

        function updatelinenumbercheckbox(checkbox){
            if (!section){
                return;
            }
            if (section.classList.contains('viewcontainer')){
                return;
            }
            const dataValue = checkbox.getAttribute('data-update-id');
            if (dataValue){
                if (checkbox.checked == false){
                    section.querySelector(`.code-editor-container`).id = dataValue + "off";
                }else if (checkbox.checked == true){
                    section.querySelector(`.code-editor-container`).id = dataValue + "on";
                }
            }
        }
    
        function updategridenabledordisabledcheckbox(checkbox) {
            if (!section) {
                return;
            }
            if (section.classList.contains('viewcontainer')) {
                return;
            }
            const dataValue = checkbox.getAttribute('data-update-class');
            if (dataValue) {
                document.querySelectorAll('.section').forEach(section => {
                    if (checkbox.checked == false) {
                        if(section.classList.contains('gridenabled')){
                            section.classList.remove('gridenabled');
                        }
                    } else if (checkbox.checked == true) {
                        if(!section.classList.contains('gridenabled')){
                            section.classList.add('gridenabled');
                            if (document.querySelector('.gridop.cyselected')){
                                selectthisgrid(document.querySelector('.gridop.cyselected'));
                            }
                        }
                    }
                });
            }
        }

        function updateautocompleteenabledordisabledcheckbox(checkbox) {
            if (!section) {
                return;
            }
            if (section.classList.contains('viewcontainer')) {
                return;
            }
            const dataValue = checkbox.getAttribute('data-update-aceclass');
            if (dataValue) {
                document.querySelectorAll('.section').forEach(section => {
                    if (checkbox.checked == false) {
                        if (section.classList.contains('autocompleteenabled')) {
                            section.classList.remove('autocompleteenabled');
                        }
                    } else if (checkbox.checked == true) {
                        if (!section.classList.contains('autocompleteenabled')) {
                            section.classList.add('autocompleteenabled');
                        }
                    }
                });
            }
        }

        function updatecheckboxed(checkbox){
            if (!section){
                return;
            }
            if (section.classList.contains('viewcontainer')){
                return;
            }
            const dataValue = checkbox.getAttribute('data-checked');
            if (dataValue){
                if (checkbox.checked == false){
                    section.querySelectorAll(`#${dataValue}`).forEach(btn => {
                        btn.style.display = "none";
                    });
                }else if (checkbox.checked == true){
                    section.querySelectorAll(`#${dataValue}`).forEach(btn => {
                        btn.style.display = "inline-block";
                    });
                }
            }
        }

        function checkboxupdatefunction() {
            if (!section){
                return;
            }
            if (section.classList.contains('viewcontainer')){
                return;
            }
            document.querySelectorAll('.switchbox').forEach(checkbox0 => {
                const dataValue = checkbox0.getAttribute('data-checked');

                section.querySelectorAll(`#${dataValue}`).forEach(btn0 => {
                    const displayStyle = btn0.style.display;

                    if (displayStyle == "none") {
                        checkbox0.checked = false;
                    } else {
                        checkbox0.checked = true;
                    }
                });
                const dataValue2 = checkbox0.getAttribute('data-update-id');
                const dataValue3 = checkbox0.getAttribute('data-update-class');
                const dataValue4 = checkbox0.getAttribute('data-update-aceclass');
                if (section.querySelector('.code-editor-container')){
                    if (!dataValue && dataValue2 && section.querySelector('.code-editor-container').id == "linenumberingoff"){
                        checkbox0.checked = false;
                    }else if (!dataValue && dataValue2 && section.querySelector('.code-editor-container').id == "linenumberingon"){
                        checkbox0.checked = true;
                    }
                }
                if (!dataValue && dataValue3 && !dataValue4 && !section.classList.contains('gridenabled') && !document.querySelector('.section.gridenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (section.classList.contains('gridenabled')) {
                            section.classList.remove('gridenabled');
                        }
                    });
                    checkbox0.checked = false;
                } else if (!dataValue && dataValue3 && !dataValue4 && !section.classList.contains('gridenabled') && document.querySelector('.section.gridenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (!section.classList.contains('gridenabled')) {
                            section.classList.add('gridenabled');
                            if (document.querySelector('.gridop.cyselected')) {
                                selectthisgrid(document.querySelector('.gridop.cyselected'));
                            }
                        }
                    });
                    checkbox0.checked = true;
                } else if (!dataValue && dataValue3 && !dataValue4 && section.classList.contains('gridenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (!section.classList.contains('gridenabled')) {
                            section.classList.add('gridenabled');
                            if (document.querySelector('.gridop.cyselected')) {
                                selectthisgrid(document.querySelector('.gridop.cyselected'));
                            }
                        }
                    });
                    checkbox0.checked = true;
                }
                if (!dataValue && dataValue4 && !dataValue3 && !section.classList.contains('autocompleteenabled') && !document.querySelector('.section.autocompleteenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (section.classList.contains('autocompleteenabled')) {
                            section.classList.remove('autocompleteenabled');
                        }
                    });
                    checkbox0.checked = false;
                } else if (!dataValue && dataValue4 && !dataValue3 && !section.classList.contains('autocompleteenabled') && document.querySelector('.section.autocompleteenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (!section.classList.contains('autocompleteenabled')) {
                            section.classList.add('autocompleteenabled');
                        }
                    });
                    checkbox0.checked = true;
                } else if (!dataValue && dataValue4 && !dataValue3 && section.classList.contains('autocompleteenabled')) {
                    document.querySelectorAll('.section').forEach(section => {
                        if (!section.classList.contains('autocompleteenabled')) {
                            section.classList.add('autocompleteenabled');
                        }
                    });
                    checkbox0.checked = true;
                }
            });
        }
    
        checkboxupdatefunction();



        navBar.addEventListener('mousedown', (e) => {
            isDragging = true;
            startY = e.clientY;
        });

        navBar.addEventListener('touchstart', (e) => {
            isDragging = true;
            startY = e.touches[0].clientY;
        });

        window.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaY = startY - e.clientY;
                let newHeight = currentHeight + deltaY;

                if (section.classList.contains('viewcontainer')){
                    return;
                }
                if (newHeight > 100) {
                    newHeight = 100;
                    navBar.style.overflow = "hidden";
                }
                if (newHeight < 50) {
                    newHeight = 50;
                    navBar.style.overflow = "scroll";
                    navBar.style.overflowY = "hidden";
                }

                navBar.style.height = `${newHeight}dvh`;
            }
        });

        window.addEventListener('touchmove', (e) => {
            if (isDragging) {
                const deltaY = startY - e.touches[0].clientY;
                let newHeight = currentHeight + deltaY;

                if (section.classList.contains('viewcontainer')){
                    return;
                }
                if (newHeight > 100) {
                    newHeight = 100;
                    navBar.style.overflow = "hidden";
                }
                if (newHeight < 50) {
                    newHeight = 50;
                    navBar.style.overflow = "scroll";
                    navBar.style.overflowY = "hidden";
                }

                navBar.style.height = `${newHeight}dvh`;
            }
        });
        
        function togglefilesettings() {
            if (navBar.classList.contains('expanded')) {
                closeseccontainer();
            }else {
                showfilesettings();
            }
        }
        
        function showfilesettings() {
            if (section && section.classList.contains('viewcontainer')) {
                return;
            }
            closeeverything();
            document.querySelectorAll('.suggestioncontainer').forEach(suggestioncontainerv => {
                suggestioncontainerv.remove();
            });
            navBar.style.height = '100dvh';
            navBar.classList.add('expanded');
            navBar.style.overflow = "hidden";
            seccontainer.style.display = 'flex';
            document.getElementById('replayautoanimation').style.display = "flex";
            const showfilesettingsbtn = document.querySelector('.showfilesettingsbtn');
            if (showfilesettingsbtn) {
                showfilesettingsbtn.classList.add("ActiveOverlay");
            }
            const fileinfolineamount = seccontainer.querySelector('#fileinfolineamount');
            const fileinfolengthnumber = seccontainer.querySelector('#fileinfolengthnumber');
            const fileinfofiletype = seccontainer.querySelector('#fileinfofiletype');
            if (fileinfolineamount && fileinfolengthnumber && fileinfofiletype) {
                fileinfolineamount.textContent = Array.from(section.querySelectorAll('.code-editor-line')).length;
                fileinfolengthnumber.textContent = section.querySelector('.code-editor-container').textContent.replace(/[\s\u00A0\u1680\u180E\u2000-\u200A\u202F\u205F\u3000\uFEFF]/g, '').length;
                let filetype = document.querySelector(`.filedot.navdot${section.id.replace('section', '')} .filePathInput`);
                if (filetype) {
                    let filetypes = {
                        "html": "HyperText Markup Language",
                        "css": "Cascading Style Sheets",
                        "jsx": "JavaScript XML",
                        "tsx": "TypeScript XML",
                        "json": "JavaScript Object Notation",
                        "txt": "Text File",
                        "js": "JavaScript",
                        "htm": "HyperText Markup"
                    };
                    
                    let extension = filetype.value.split('.').pop(); // Holt die Dateierweiterung
                    
                    if (filetypes[extension]) {
                        fileinfofiletype.textContent = filetypes[extension];
                    } else {
                        fileinfofiletype.textContent = "Unsupported";
                    }
                }
            }
        }

        const seccontainer = document.querySelector('.seccontainer');
        window.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                if (parseInt(navBar.style.height) > 75 && !section.classList.contains('viewcontainer')) {
                    showfilesettings();
                } else {
                    navBar.style.height = '50px';
                    navBar.classList.remove('expanded');
                    seccontainer.style.display = 'none';
                    document.getElementById('replayautoanimation').style.display = "none";
                    const showfilesettingsbtn = document.querySelector('.showfilesettingsbtn');
                    if (showfilesettingsbtn) {
                        showfilesettingsbtn.classList.remove("ActiveOverlay");
                    }
                }
            }
        });

        window.addEventListener('touchend', () => {
            if (isDragging) {
                isDragging = false;
                if (section && parseInt(navBar.style.height) > 75 && !section.classList.contains('viewcontainer')) {
                    showfilesettings();
                } else {
                    navBar.style.height = '50px';
                    navBar.classList.remove('expanded');
                    seccontainer.style.display = 'none';
                    document.getElementById('replayautoanimation').style.display = "none";
                    const showfilesettingsbtn = document.querySelector('.showfilesettingsbtn');
                    if (showfilesettingsbtn) {
                        showfilesettingsbtn.classList.remove("ActiveOverlay");
                    }
                }
            }
        });

        const container = document.getElementById('container');
        let navDots = document.querySelectorAll('.nav-dot');
        let currentIndex = 0;

        let previoussectionfsts = section;
        function closeseccontainer() {
            if (section) {
                const showfilesettingsbtn = document.querySelector('.showfilesettingsbtn');
                if (navBar.classList.contains('expanded')) {
                    if (showfilesettingsbtn){
                        showfilesettingsbtn.classList.remove("ActiveOverlay");
                    }
                    navBar.style.height = '50px';
                    navBar.classList.remove('expanded');
                    seccontainer.style.display = 'none';
                    document.getElementById('replayautoanimation').style.display = "none";
                    navBar.style.overflow = "scroll";
                    navBar.style.overflowY = "hidden";
                }
            }
        }
        async function filecodereplay() {
            document.querySelector('.viewoverlayfa').style.display = "block";
            closeseccontainer();
            const foldedlines = section.querySelectorAll('.code-editor-line.hiddenlinesparent');
            await unfoldalllines();
            const alllines = section.querySelectorAll('.code-editor-line');
            alllines.forEach(line => {
                line.classList.add("codeeditorlinehfa");
            });
            let characternum = 0;
            let currentLine = alllines[0];
            let currentLinetText = alllines[0].textContent;
            let continueTypeEffect = true;
            document.querySelector('.codingreplayreadybtn').onclick = () => {
                continueTypeEffect = false;
                currentLine.textContent = currentLinetText;
                addJsSyntaxHighlighting(currentLine);
                alllines.forEach(line => {
                    line.classList.remove("codeeditorlinehfa");
                });
                document.querySelector('.charactercountnum').textContent = "0";
                document.querySelector('.viewoverlayfa').style.display = "none";
            };
            for (const line of alllines) {
                if (!line) return;
                line.classList.remove("codeeditorlinehfa");
                const linetext = replaceNormalSpaces(line.textContent);
                currentLine = line;
                currentLinetText = line.textContent;
                line.textContent = "";
                line.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                
                for (let i = 0; i < linetext.length; i++) {
                    if (!line || continueTypeEffect == false) return;
                    line.textContent += linetext[i];
                    characternum++;
                    document.querySelector('.charactercountnum').textContent = characternum;
                    addJsSyntaxHighlighting(line);
                    await new Promise(resolve => setTimeout(resolve, 50));
                }
            };
            foldedlines.forEach(line => {
                analyzeAndHideElements(line);
            });
            document.querySelector('.charactercountnum').textContent = "0";
            document.querySelector('.viewoverlayfa').style.display = "none";
            const isconfetty = createkonfetti;
            createkonfetti = true;
            createConfetti();
            if (isconfetty) {
                createkonfetti = true;
            }
        }
        function scrollToSection(index) {
            if (document.querySelector('.notificationmessage').style.display != "none") {
                hidenotificationmessage();
            }
            document.querySelectorAll('.suggestioncontainer').forEach(suggestioncontainerv => {
                suggestioncontainerv.remove();
            });
            lasteventsparentsection = document.getElementById('section' + index);

            const codesearchresults = document.querySelector('.codesearchresults');
            codesearchresults.style.display = "none";
            closelineoptionscontainer();
            const sectionWidth = parseFloat(getComputedStyle(document.querySelector('.nav-bar div')).width);
            document.querySelectorAll('.section').forEach(sec => {
                if (sec.id != `section${index}`){
                    sec.style.animation = "none";
                    void sec.offsetWidth;
                    if (transitionanimation != "none") {
                        sec.style.animation = transitionanimation + "out 0.3s ease-out";
                        setTimeout(() => {
                            sec.style.display = 'none';
                        }, 290);
                    } else {
                        sec.style.display = 'none';
                    }
                }
            });
            document.querySelectorAll('.isviewing').forEach(viewel => {
                viewel.classList.remove("isviewing");
            });
            if (section.classList.contains('viewcontainer')) {
                document.querySelector('.showfilesettingsbtn').classList.add('disabledbtn');
                document.getElementById('scrollviewintoviewbtn').classList.add('isviewing');
            }else {
                document.querySelector('.showfilesettingsbtn').classList.remove('disabledbtn');
            }
            if (document.querySelector('.sidebarfilelinklink.currentfile')){
                document.querySelector('.sidebarfilelinklink.currentfile').classList.remove('currentfile');
            }
            if (document.querySelector('#sidebarfilelinklink' + index)) {
                document.querySelector('#sidebarfilelinklink' + index).classList.add('currentfile');
            }
            const newstsection = document.querySelector(`#section${index}`);
            if (transitionanimation != "none") {
                setTimeout(() => {
                    newstsection.style.display = 'flex';
                    newstsection.style.animation = "none";
                    void newstsection.offsetWidth;
                    newstsection.style.animation = transitionanimation + "in 0.3s ease-out";
                }, 300);
            } else {
                newstsection.style.display = 'flex';
                newstsection.style.animation = "none";
                void newstsection.offsetWidth;
            }
        }
        function highlightDot(index) {
            navDots.forEach(dot => {
                dot.classList.remove('active');
            });
            navDots[index].classList.add('active');
        }

        function scrolleivs() {
            if (!section){
                return;
            }
            navDots = document.querySelectorAll('.nav-dot');
            const sectionWidth = parseFloat(getComputedStyle(document.querySelector('.nav-bar div')).width);
            const scrollPos = navBar.scrollLeft;
            const index = Math.round(scrollPos / sectionWidth);
            if (index !== currentIndex) {
                previoussectionfsts = section;
                sectionindex = index;
                let newsection = document.getElementById(`section${index}`);
                if (!newsection) {
                    return;
                }
                closeseccontainer();
                section = newsection;
                
                if (section && !section.classList.contains('viewcontainer')){
                    inputDiv = section.querySelector('.code-editor-container');
                    hideconsoleconteiner();
                    checkboxupdatefunction();
                }
                scrollToSection(index);
                highlightDot(index);
                currentIndex = index;
                updateviewthisfilebtn();
            }
        }
        navBar.addEventListener('scroll', () => {
            scrolleivs();
        });

        function navBarremoveeventlistenerscrollandadditagain() {
            navBar.removeEventListener('scroll', () => {
                scrolleivs();
            });
            navBar.addEventListener('scroll', () => {
                scrolleivs();
            });
        }

        function updateDataIndex(divId) {
            const container = document.getElementById(divId);
            const elements = container.children;
            for (let i = 0; i < elements.length; i++) {
                elements[i].setAttribute('data-index', i);
            }
        }
        function updateClass(divclass) {
            const container = document.querySelector("." + divId);
            const elements = container.children;
            for (let i = 0; i < elements.length; i++) {
                elements[i].id = `section${i}`;
            }
        }
        function dotonclick() {
            if (!section){
                return;
            }
            const sectionWidth = parseFloat(getComputedStyle(document.querySelector('.nav-bar div')).width);
            const scrollPos = navBar.scrollLeft;
            const index = Math.round(scrollPos / sectionWidth);
            if (section.id == document.getElementById(`section${index}`).id){
                return;
            }
            scrollToSection(index);
            highlightDot(index);
            navBar.scrollLeft = index * window.innerWidth;
            section = document.getElementById(`section${index}`);
            lasteventsparentsection = section;
            if (!section.classList.contains('viewcontainer')){
                inputDiv = section.querySelector('.code-editor-container');
            }
            checkboxupdatefunction();
            currentIndex = index;
        }

        highlightDot(0);


        function checkifselectedlines() {
            if (!section){
                return;
            }
            const check = section.querySelector(".code-editor-line.selected");
            if (!check) {
                section.querySelectorAll('.eslbtn').forEach(dline => {
                    dline.classList.add('disabled');
                });
            }
        }
        function getElementIndexInParent(element) {
            if (!element || !element.parentElement) {
                return -1;
            }
            const parent = element.parentElement;
            return Array.from(parent.children).indexOf(element);
        }

        function deleteSelectedLines() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            let newpast = [];
            lasteventsparentsection = section;

            if (allselectedlines.length) {
                let ddslaltc = false;
                if (document.querySelector('.onlydeletelinecontent input[type="checkbox"]').checked){
                    ddslaltc = true;
                }
                allselectedlines.forEach(selectedline => {
                    if (ddslaltc == false) {
                        let pastelement = {
                            element: selectedline,
                            type: "delete",
                            index: getElementIndexInParent(selectedline)
                        };
                        newpast.push(pastelement);
                    } else {
                        let pastelement = {
                            element: selectedline,
                            type: "text",
                            text: selectedline.textContent
                        };
                        newpast.push(pastelement);
                    }
                    if (selectedline.previousElementSibling || selectedline.nextElementSibling){
                        let selectedlineprevioustext = selectedline.textContent;
                        selectedline.innerHTML = "";
                        addJsSyntaxHighlighting(selectedline);
                        selectedline.textContent = selectedlineprevioustext;
                        if (ddslaltc == false) {
                            selectedline.remove();
                        } else {
                            selectedline.innerHTML = "";
                        }
                    }else {
                        selectedline.innerHTML = "";
                        selectedline.classList.remove('syntaxcomment');
                        selectedline.classList.remove('syntaxstring');
                        selectedline.classList.remove('syntaxhtmlcomment');
                    }
                    selectedline.classList.remove('selected');
                    checkifselectedlines();
                });
            }
            if (newpast.length > 0) {
                pasteventPrep();
                futureevents[lasteventsparentsection.id] = [];
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }

        function deleteAllLines() {
            const allselectedlines = section.querySelectorAll(".code-editor-line");
            let newpast = [];
            lasteventsparentsection = section;
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    
                    if (selectedline.previousElementSibling || selectedline.nextElementSibling){
                        let pastelement = {
                            element: selectedline,
                            type: "delete",
                            index: getElementIndexInParent(selectedline)
                        };
                        newpast.push(pastelement);
                        selectedline.remove();
                    }else {
                        let pastelement = {
                            element: selectedline,
                            type: "text",
                            text: selectedline.textContent
                        };
                        newpast.push(pastelement);
                        selectedline.innerHTML = "";
                        selectedline.classList.remove('syntaxcomment');
                        selectedline.classList.remove('syntaxstring');
                        selectedline.classList.remove('syntaxhtmlcomment');
                    }
                    checkifselectedlines();
                });
                updateSelectedClasses();
            }
            unselectalllines();
            if (newpast.length > 0) {
                pasteventPrep();
                futureevents[lasteventsparentsection.id] = [];
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }

        function importantselectedlines() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.toggle("importantpin");
                    selectedline.classList.remove('selected');
                    updateimportantpinClasses();
                    checkifselectedlines();
                });
            }
        }

        function unselectalllines() {
          const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove('selected');
                    if (!section.querySelector('.code-editor-line.selected')){
                        section.querySelectorAll('.eslbtn').forEach(dline => {
                            dline.classList.add('disabled');
                        });
                    }
                    updateSelectedClasses();
                });
            }
        }

        function unfoldalllines() {
          const allselectedlines = section.querySelectorAll(".hiddenlinesparent");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove('hiddenlinesparent');
                    showHiddenElements(selectedline);
                    updateSelectedClasses();
                });
            }
        }

        function importantalllines() {
            const allselectedlines = section.querySelectorAll(".importantpin");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove("importantpin");
                    updateimportantpinClasses();
                    checkifselectedlines();
                });
            }
        }

        function moveselectedlineup() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                let newpast = [];
                for (i = 0; i < m__up; i++) {
                    allselectedlines.forEach(selectedline => {
                        const previousLine = selectedline.previousElementSibling;
                        if (previousLine) {
                            let pastelement = {
                                element: selectedline,
                                type: "delete",
                                index: getElementIndexInParent(selectedline)
                            };
                            newpast.push(pastelement);
                            selectedline.parentNode.insertBefore(selectedline, previousLine);
                            if (previousLine.classList.contains('syntaxcomment') && !selectedline.classList.contains('syntaxcomment')) {
                                let pastelement3 = {
                                    element: previousLine,
                                    type: "addclass",
                                    text: "syntaxcomment"
                                };
                                newpast.push(pastelement3);
                                previousLine.classList.remove('syntaxcomment');
                                addJsSyntaxHighlighting(previousLine);
                            }
                            if (previousLine.classList.contains('syntaxhtmlcomment') && !selectedline.classList.contains('syntaxhtmlcomment')) {
                                let pastelement3 = {
                                    element: previousLine,
                                    type: "addclass",
                                    text: "syntaxcomment"
                                };
                                newpast.push(pastelement3);
                                previousLine.classList.remove('syntaxhtmlcomment');
                                addJsSyntaxHighlighting(previousLine);
                            }
                            if (selectedline.nextElementSibling) {
                                if (!selectedline.nextElementSibling.classList.contains('syntaxcomment') && !previousLine.classList.contains('syntaxcomment') && selectedline.classList.contains('syntaxcomment')) {
                                    let pastelement3 = {
                                        element: selectedline,
                                        type: "addclass",
                                        text: "syntaxcomment"
                                    };
                                    newpast.push(pastelement3);
                                    selectedline.classList.remove('syntaxcomment');
                                    addJsSyntaxHighlighting(previousLine);
                                }
                                if (!selectedline.nextElementSibling.classList.contains('syntaxcomment') && !previousLine.classList.contains('syntaxhtmlcomment') && selectedline.classList.contains('syntaxhtmlcomment')) {
                                    let pastelement3 = {
                                        element: selectedline,
                                        type: "addclass",
                                        text: "syntaxcomment"
                                    };
                                    newpast.push(pastelement3);
                                    selectedline.classList.remove('syntaxhtmlcomment');
                                    addJsSyntaxHighlighting(nextLine);
                                }
                            }
                            addJsSyntaxHighlighting(selectedline);
                            let pastelement2 = {
                                element: selectedline,
                                type: "create",
                                index: getElementIndexInParent(selectedline)
                            };
                            newpast.push(pastelement2);
                        }
                    });
                }
                if (newpast.length > 0) {
                    pasteventPrep();
                    futureevents[lasteventsparentsection.id] = [];
                    pastevents[lasteventsparentsection.id].push(newpast);
                    enablepastbtn();
                }
            }
        }

        function moveselectedlinedown() {
            let allselectedlines = [...section.querySelectorAll('.code-editor-line.selected')];
            allselectedlines.reverse();
            if (allselectedlines.length) {
                let newpast = [];
                for (i = 0; i < m__down; i++) {
                    allselectedlines.forEach(selectedline => {
                        const nextLine = selectedline.nextElementSibling;
                        if (nextLine) {
                            let pastelement = {
                                element: selectedline,
                                type: "delete",
                                index: getElementIndexInParent(selectedline)
                            };
                            newpast.push(pastelement);
                            selectedline.parentNode.insertBefore(nextLine, selectedline);
                            if (nextLine.classList.contains('syntaxcomment') && !selectedline.classList.contains('syntaxcomment')) {
                                let pastelement3 = {
                                    element: nextLine,
                                    type: "addclass",
                                    text: "syntaxcomment"
                                };
                                newpast.push(pastelement3);
                                nextLine.classList.remove('syntaxcomment');
                                addJsSyntaxHighlighting(nextLine);
                            }
                            if (nextLine.classList.contains('syntaxhtmlcomment') && !selectedline.classList.contains('syntaxhtmlcomment')) {
                                let pastelement3 = {
                                    element: nextLine,
                                    type: "addclass",
                                    text: "syntaxcomment"
                                };
                                newpast.push(pastelement3);
                                nextLine.classList.remove('syntaxhtmlcomment');
                                addJsSyntaxHighlighting(nextLine);
                            }
                            
                            if (selectedline.previousElementSibling) {
                                if (!selectedline.previousElementSibling.classList.contains('syntaxcomment') && !nextLine.classList.contains('syntaxcomment') && selectedline.classList.contains('syntaxcomment')) {
                                    let pastelement3 = {
                                        element: selectedline,
                                        type: "addclass",
                                        text: "syntaxcomment"
                                    };
                                    newpast.push(pastelement3);
                                    selectedline.classList.remove('syntaxcomment');
                                    addJsSyntaxHighlighting(nextLine);
                                }
                                if (!selectedline.previousElementSibling.classList.contains('syntaxcomment') && !nextLine.classList.contains('syntaxhtmlcomment') && selectedline.classList.contains('syntaxhtmlcomment')) {
                                    let pastelement3 = {
                                        element: selectedline,
                                        type: "addclass",
                                        text: "syntaxcomment"
                                    };
                                    newpast.push(pastelement3);
                                    selectedline.classList.remove('syntaxhtmlcomment');
                                    addJsSyntaxHighlighting(nextLine);
                                }
                            }
                            addJsSyntaxHighlighting(selectedline);
                            let pastelement2 = {
                                element: selectedline,
                                type: "create",
                                index: getElementIndexInParent(selectedline)
                            };
                            newpast.push(pastelement2);
                        }
                    });
                }
                if (newpast.length > 0) {
                    pasteventPrep();
                    futureevents[lasteventsparentsection.id] = [];
                    pastevents[lasteventsparentsection.id].push(newpast);
                    enablepastbtn();
                }
            }
        }

        function restselectedline() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.toggle("disableline");
                    selectedline.classList.remove('selected');
                    checkifselectedlines();
                });
            }
        }

        function unsleepalllines() {
            const allselectedlines = section.querySelectorAll(".disableline");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove('disableline');
                });
            }
        }

        function changedeletebtn(deletebtnnnn) {
            const initialsign = deletebtnnnn.textContent;
            deletebtnnnn.style.animation = "none";
            void deletebtnnnn.offsetWidth;
            deletebtnnnn.style.animation = "rotatesign 0.5s ease-out";
            deletebtnnnn.disabled = true;
            setTimeout(() => {
                deletebtnnnn.textContent = '☑';
            }, 250);
            setTimeout(() => {
                deletebtnnnn.style.animation = "none";
                void deletebtnnnn.offsetWidth;
                deletebtnnnn.style.animation = "rotatesign 0.5s ease-out";
                setTimeout(() => {
                    deletebtnnnn.textContent = initialsign;
                    deletebtnnnn.disabled = false;
                }, 250);
            }, 1000);
        }
        function changebtnnotinsquare(deletebtnnnn){
            const initialsign = deletebtnnnn.textContent;
            deletebtnnnn.style.animation = "none";
            void deletebtnnnn.offsetWidth;
            deletebtnnnn.style.animation = "rotatesign 0.5s ease-out";
            deletebtnnnn.disabled = true;
            setTimeout(() => {
                deletebtnnnn.textContent = '✓';
            }, 250);
            setTimeout(() => {
                deletebtnnnn.style.animation = "none";
                void deletebtnnnn.offsetWidth;
                deletebtnnnn.style.animation = "rotatesign 0.5s ease-out";
                setTimeout(() => {
                    deletebtnnnn.textContent = initialsign;
                    deletebtnnnn.disabled = false;
                }, 250);
            }, 1000);
        }
        function trimAllselectedlinetexts(){
            let newpast = [];
            lasteventsparentsection = section;
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    let pastelement = {
                        element: selectedline,
                        type: "text",
                        text: selectedline.textContent
                    };
                    newpast.push(pastelement);
                    selectedline.textContent = selectedline.textContent.trim();
                    if (!selectedline.classList.contains('syntaxhtmlcomment') && !selectedline.classList.contains('syntaxcomment') && !selectedline.classList.contains('syntaxstring')) {
                        addJsSyntaxHighlighting(selectedline);
                    }
                    checkifselectedlines();
                });
            }
            
            if (newpast.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }
        
        function moveAllselectedlinetextsright() {
            let newpast = [];
            lasteventsparentsection = section;
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    let pastelement = {
                        element: selectedline,
                        type: "text",
                        text: selectedline.textContent
                    };
                    newpast.push(pastelement);
                    let additionalspaces = "\u00A0".repeat(m__right);
                    
                    selectedline.textContent = additionalspaces + selectedline.textContent;
                    if (!selectedline.classList.contains('syntaxhtmlcomment') && !selectedline.classList.contains('syntaxcomment') && !selectedline.classList.contains('syntaxstring')) {
                        addJsSyntaxHighlighting(selectedline);
                    }
                    checkifselectedlines();
                });
            }

            if (newpast.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }
        
        function moveAllselectedlinetextsleft() {
            let newpast = [];
            lasteventsparentsection = section;
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    if (/^[ \u00A0]/.test(selectedline.textContent)){
                        let pastelement = {
                            element: selectedline,
                            type: "text",
                            text: selectedline.textContent
                        };
                        newpast.push(pastelement);
                        for (i = 0; i < m__left; i++) {
                            if (/^[ \u00A0]/.test(selectedline.textContent)) {
                                selectedline.textContent = selectedline.textContent.replace(/^[ \u00A0]/, '');
                                if (!selectedline.classList.contains('syntaxhtmlcomment') && !selectedline.classList.contains('syntaxcomment') && !selectedline.classList.contains('syntaxstring')) {
                                    addJsSyntaxHighlighting(selectedline);
                                }
                            }
                        }
                        checkifselectedlines();
                    }
                });
            }

            if (newpast.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }
        
        function addreidresulttounpinlinesmanuallyorteleport() {
            const copypastcontainer = document.querySelector('.unpinlinesmanuallyorteleport');
            copypastcontainer.innerHTML = "";
            section.querySelectorAll('.importantpin').forEach(pin => {
                addpinleidresult(pin);
            });
            if (!copypastcontainer.querySelector('.leidresult')) {
                copypastcontainer.innerHTML = "no pined lines yet";
            }
        }
        function addleidresulttounpinlinesmanuallyorteleport() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.disableline");
            const copypastcontainer = document.querySelector('.enabledisabledlonesmanually');
            copypastcontainer.innerHTML = "";
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    adddisabledleidresult(selectedline);
                });
            } else {
                copypastcontainer.innerHTML = "no disabled lines yet";
            }
        }
        function adddisabledleidresult(element) {
            const copypastcontainer = document.querySelector('.enabledisabledlonesmanually');
            if (!copypastcontainer || !element.parentElement) return;
            if (!copypastcontainer.querySelector('.leidresult')) {
                copypastcontainer.innerHTML = "";
            }
            const leidresult = document.createElement('div');
            leidresult.className = "leidresult";
            const leidresultspan = document.createElement('span');
            leidresultspan.textContent = getElementIndexInParent(element) + 1 + ". " + element.textContent.trim();
            leidresult.appendChild(leidresultspan);
            const leidresultdiv = document.createElement('div');
            leidresult.appendChild(leidresultdiv);
            const leidresultbtn1 = document.createElement('button');
            leidresultbtn1.textContent = "enable";
            leidresultdiv.appendChild(leidresultbtn1);
            const leidresultbtn2 = document.createElement('button');
            leidresultbtn2.textContent = "teleport";
            leidresultdiv.appendChild(leidresultbtn2);
            copypastcontainer.appendChild(leidresult);
            
            leidresultbtn1.onclick = () => {
                leidresult.remove();
                element.classList.remove('disableline');
                if (!copypastcontainer.querySelector('.leidresult')) {
                    copypastcontainer.innerHTML = "no disabled lines yet";
                }
            };
            
            leidresultbtn2.onclick = () => {
                if (element.parentElement) {
                    closeeverything();
                    closeseccontainer();
                    scrolltolinenumber(getElementIndexInParent(element));
                }
            };
        }
        
        function addpinleidresult(element) {
            const copypastcontainer = document.querySelector('.unpinlinesmanuallyorteleport');
            if (!copypastcontainer || !element.parentElement) return;
            if (!copypastcontainer.querySelector('.leidresult')) {
                copypastcontainer.innerHTML = "";
            }
            const leidresult = document.createElement('div');
            leidresult.className = "leidresult"; 
            const leidresultspan = document.createElement('span');
            leidresultspan.textContent = getElementIndexInParent(element) + 1 + ". " + element.textContent.trim();
            leidresult.appendChild(leidresultspan);
            const leidresultdiv = document.createElement('div');
            leidresult.appendChild(leidresultdiv);
            const leidresultbtn1 = document.createElement('button');
            leidresultbtn1.textContent = "unpin";
            leidresultdiv.appendChild(leidresultbtn1);
            const leidresultbtn2 = document.createElement('button');
            leidresultbtn2.textContent = "teleport";
            leidresultdiv.appendChild(leidresultbtn2);
            copypastcontainer.appendChild(leidresult);
            
            leidresultbtn1.onclick = () => {
                leidresult.remove();
                element.classList.remove('importantpin');
                updateimportantpinClasses();
                const copypastcontainer2 = document.querySelector('.unpinlinesmanuallyorteleport');
                if (!copypastcontainer2.querySelector('.leidresult')) {
                    copypastcontainer2.innerHTML = "no pined lines yet";
                }
            };
            
            leidresultbtn2.onclick = () => {
                if (element.parentElement) {
                    closeeverything();
                    closeseccontainer();
                    scrolltolinenumber(getElementIndexInParent(element));
                }
            };
        }
        
        function addleidresulttounselectlinesmanually() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            const copypastcontainer = document.querySelector('.unselectlinesmanually');
            copypastcontainer.innerHTML = "";
            if (allselectedlines.length) {
                allselectedlines.forEach(selectedline => {
                    addselectedleidresult(selectedline);
                });
            } else {
                copypastcontainer.innerHTML = "no lines selected";
            }
        }
        
        function addselectedleidresult(element) {
            const copypastcontainer = document.querySelector('.unselectlinesmanually');
            if (!copypastcontainer || !element.parentElement) return;
            if (!copypastcontainer.querySelector('.leidresult')) {
                copypastcontainer.innerHTML = "";
            }
            const leidresult = document.createElement('div');
            leidresult.className = "leidresult";
            const leidresultspan = document.createElement('span');
            leidresultspan.textContent = getElementIndexInParent(element) + 1 + ". " + element.textContent.trim();
            leidresult.appendChild(leidresultspan);
            const leidresultdiv = document.createElement('div');
            leidresult.appendChild(leidresultdiv);
            const leidresultbtn1 = document.createElement('button');
            leidresultbtn1.textContent = "unselect";
            leidresultdiv.appendChild(leidresultbtn1);
            const leidresultbtn2 = document.createElement('button');
            leidresultbtn2.textContent = "teleport";
            leidresultdiv.appendChild(leidresultbtn2);
            copypastcontainer.appendChild(leidresult);
            
            leidresultbtn1.onclick = () => {
                leidresult.remove();
                element.classList.remove('selected');
                checkifselectedlines();
                updateSelectedClasses();
                const copypastcontainer2 = document.querySelector('.unselectlinesmanually');
                if (!copypastcontainer2.querySelector('.leidresult')) {
                    copypastcontainer2.innerHTML = "no selected lines";
                }
            };
            
            leidresultbtn2.onclick = () => {
                if (element.parentElement) {
                    closeeverything();
                    closeseccontainer();
                    scrolltolinenumber(getElementIndexInParent(element));
                }
            };
        }
        
        function addcopyleidresult(linetexts) {
            const copypastcontainer = document.querySelector('.copiedtexthistory');
            if (!copypastcontainer) return;
            if (!copypastcontainer.querySelector('.leidresult')) {
                copypastcontainer.innerHTML = "";
            }
            const leidresult = document.createElement('div');
            leidresult.className = "leidresult";
            const leidresultspan = document.createElement('span');
            leidresultspan.textContent = linetexts;
            leidresult.appendChild(leidresultspan);
            const leidresultdiv = document.createElement('div');
            leidresult.appendChild(leidresultdiv);
            const leidresultbtn1 = document.createElement('button');
            leidresultbtn1.textContent = "remove";
            leidresultdiv.appendChild(leidresultbtn1);
            const leidresultbtn2 = document.createElement('button');
            leidresultbtn2.textContent = "copy";
            leidresultdiv.appendChild(leidresultbtn2);
            copypastcontainer.appendChild(leidresult);
            
            leidresultbtn1.onclick = () => {
                leidresult.remove();
                const copypastcontainer = document.querySelector('.copiedtexthistory');
                if (!copypastcontainer.querySelector('.leidresult')) {
                    copypastcontainer.innerHTML = "nothing has been copied yet";
                }
            };
            
            leidresultbtn2.onclick = () => {
                try {
                    dontcopy = true;
                    const newtextarea = document.createElement('textarea');
                    newtextarea.value = linetexts;
                    document.body.appendChild(newtextarea);
                    newtextarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(newtextarea);
                    dontcopy = false;
                } catch (error) {
                    const thiserrorwascatched = error;
                }
            };
        }
        
        function addallselectedlinestodeleteselectedlinesmanually() {
            const copypastcontainer = document.querySelector('.deleteselectedlinesmanually');
            copypastcontainer.innerHTML = "no lines selected";
            if (section.querySelector('.code-editor-line.selected')) {
                copypastcontainer.innerHTML = "";
            }
            section.querySelectorAll('.code-editor-line.selected').forEach(line => {
                adddeleteleidresult(line);
            });
        }
        
        function adddeleteleidresult(element) {
            const copypastcontainer = document.querySelector('.deleteselectedlinesmanually');
            if (!copypastcontainer || !element.parentElement) return;
            const leidresult = document.createElement('div');
            leidresult.className = "leidresult";
            const leidresultspan = document.createElement('span');
            leidresultspan.textContent = getElementIndexInParent(element) + 1 + ". " + element.textContent.trim();
            leidresult.appendChild(leidresultspan);
            const leidresultdiv = document.createElement('div');
            leidresult.appendChild(leidresultdiv);
            const leidresultbtn1 = document.createElement('button');
            leidresultbtn1.textContent = "delete";
            leidresultdiv.appendChild(leidresultbtn1);
            const leidresultbtn2 = document.createElement('button');
            leidresultbtn2.textContent = "teleport";
            leidresultdiv.appendChild(leidresultbtn2);
            copypastcontainer.appendChild(leidresult);
            
            leidresultbtn1.onclick = () => {
                leidresult.remove();
                let newpast = [];
                lasteventsparentsection = section;
            
                let ddslaltc = false;
                if (document.querySelector('.onlydeletelinecontent input[type="checkbox"]').checked) {
                    ddslaltc = true;
                }
                if (ddslaltc == false) {
                    let pastelement = {
                        element: element,
                        type: "delete",
                        index: getElementIndexInParent(element)
                    };
                    newpast.push(pastelement);
                } else {
                    let pastelement = {
                        element: element,
                        type: "text",
                        text: element.textContent
                    };
                    newpast.push(pastelement);
                }
                if (element.previousElementSibling || element.nextElementSibling) {
                    let selectedlineprevioustext = element.textContent;
                    element.innerHTML = "";
                    addJsSyntaxHighlighting(element);
                    element.textContent = selectedlineprevioustext;
                    if (ddslaltc == false) {
                        element.remove();
                        if (!copypastcontainer.querySelector('.leidresult')){
                            copypastcontainer.innerHTML = "no lines selected";
                        }
                    } else {
                        element.innerHTML = "";
                        if (!copypastcontainer.querySelector('.leidresult')) {
                            copypastcontainer.innerHTML = "no lines selected";
                        }
                    }
                } else {
                    element.innerHTML = "";
                    element.classList.remove('syntaxcomment');
                    element.classList.remove('syntaxstring');
                    element.classList.remove('syntaxhtmlcomment');
                }
                element.classList.remove('selected');
                checkifselectedlines();
                if (newpast.length > 0) {
                    pasteventPrep();
                    futureevents[lasteventsparentsection.id] = [];
                    pastevents[lasteventsparentsection.id].push(newpast);
                    enablepastbtn();
                }
                updateSelectedClasses();
            };
            
            leidresultbtn2.onclick = () => {
                if (element.parentElement) {
                    closeeverything();
                    closeseccontainer();
                    scrolltolinenumber(getElementIndexInParent(element));
                }
            };
        }
        
        document.addEventListener('copy', function(event) {
            if (dontcopy) return;
        
            const selection = window.getSelection();
            if (!selection.rangeCount) return;
        
            const range = selection.getRangeAt(0);
            const container = findCodeLineAncestor(range.commonAncestorContainer);
            if (!container) {
                 const selection = window.getSelection();
                 const selectedText = selection.toString();
                 event.clipboardData.setData('text/plain', selectedText);
                 addcopyleidresult(selectedText);
                 event.preventDefault();
                 return;
            }
            
            const fullText = getTextFromNode(container);
            
            const { startOffset, endOffset } = getTextRangeOffsets(container, range);
            
            if (startOffset !== null && endOffset !== null) {
                const selectedText = fullText.slice(startOffset, endOffset);
                event.clipboardData.setData('text/plain', selectedText);
                addcopyleidresult(selectedText);
                event.preventDefault();
            }
        });
        
        function findCodeLineAncestor(node) {
            while (node && node !== document.body) {
                if (node.classList && node.classList.contains('code-editor-line')) {
                    return node;
                }
                node = node.parentNode;
            }
            return null;
        }
        
        function getTextFromNode(node) {
            const walker = document.createTreeWalker(node, NodeFilter.SHOW_TEXT, null, false);
            let text = '';
            while (walker.nextNode()) {
                text += walker.currentNode.nodeValue;
            }
            return text;
        }
        
        function getTextRangeOffsets(container, range) {
            const walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, null, false);
            let currentOffset = 0;
            let startOffset = null;
            let endOffset = null;
        
            while (walker.nextNode()) {
                const node = walker.currentNode;
        
                if (range.startContainer === node && startOffset === null) {
                    startOffset = currentOffset + range.startOffset;
                }
                if (range.endContainer === node && endOffset === null) {
                    endOffset = currentOffset + range.endOffset;
                }
        
                currentOffset += node.nodeValue.length;
            }
        
            return { startOffset, endOffset };
        }
        
        function copyselectedlinetexts() {
            const allselectedlines = section.querySelectorAll(".code-editor-line.selected");
            if (allselectedlines.length) {
                let linetexts = "";
                allselectedlines.forEach(selectedline => {
                    linetexts += normalizeSpaces(selectedline.textContent) + "\n";
                });

                try {
                    dontcopy = true;
                    const newtextarea = document.createElement('textarea');
                    newtextarea.value = linetexts;
                    document.body.appendChild(newtextarea);
                    newtextarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(newtextarea);
                    addcopyleidresult(linetexts);
                    dontcopy = false;
                } catch (error) {
                    const thiserrorwascatched = error;
                }

                allselectedlines.forEach(selectedline => {
                    selectedline.classList.remove('selected');
                });

                checkifselectedlines();
            }
        }
        function copyalllinetexts() {
            const allselectedlines = section.querySelectorAll(".code-editor-line");
            if (allselectedlines.length) {
                let linetexts = "";
                allselectedlines.forEach(selectedline => {
                    linetexts += normalizeSpaces(selectedline.textContent) + "\n";
                });

                try {
                    dontcopy = true;
                    const newtextarea = document.createElement('textarea');
                    newtextarea.value = linetexts;
                    document.body.appendChild(newtextarea);
                    newtextarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(newtextarea);
                    if (document.querySelector('.addfullcodecopytoclipboardpast input[type="checkbox"]').checked) {
                        addcopyleidresult(linetexts);
                    }
                    dontcopy = false;
                } catch (error) {
                    const thiserrorwascatched = error;
                }
                checkifselectedlines();
            }
        }
        
        function duplicatefile(filename, sectionhtmlelement) {
            const allselectedlines = sectionhtmlelement.querySelectorAll(".code-editor-line");
            if (allselectedlines.length) {
                let linetexts = "";
                allselectedlines.forEach(selectedline => {
                    linetexts += normalizeSpaces(selectedline.textContent) + "\n";
                });
                let allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
                if (allfilenames.includes('acopy' + filename)) {
                    showPrompt('Enter a file name for the duplicate', (newfilename) => {
                        if (!allfilenames.includes(newfilename)) {
                            const steps = [
                                { percent: 0, text: 'Receiving' },
                                { percent: 25, text: 'Creating environment' },
                                { percent: 50, text: 'Linking' },
                                { percent: 75, text: 'Formatting' },
                                { percent: 100, text: 'Loading complete' },
                            ];
                            
                            startLoadingThis(steps, 'Analyzing');
                            createNewFilefortemplatecode(newfilename, linetexts);
                        } else {
                            showAlert('you have a file with the name ' + newfilename + ' please change the file name and try again');
                        }
                    });
                }else {
                    const steps = [
                        { percent: 0, text: 'Receiving' },
                        { percent: 25, text: 'Creating environment' },
                        { percent: 50, text: 'Linking' },
                        { percent: 75, text: 'Formatting' },
                        { percent: 100, text: 'Loading complete' },
                    ];
                    
                    startLoadingThis(steps, 'Analyzing');
                    createNewFilefortemplatecode('acopy' + filename, linetexts);
                }
                checkifselectedlines();
            }
        }


        let startX, startLine;

        document.addEventListener('touchstart', function(event) {
            let target = event.target.closest('.code-editor-line');
            if (target) {
                startX = event.touches[0].clientX;
                startLine = target;
            }
        });

        let result = {};
        
        document.addEventListener('touchend', function(event) {
            if (!startLine) return;

            let endX = event.changedTouches[0].clientX;
            let diffX = endX - startX;
            
            if (diffX > 50 && !startLine.classList.contains('selected') && !startLine.classList.contains('hiddenlinesparent') && !startLine.classList.contains('superselected')) {
                
                startLine.classList.add('selected');
                section.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                    dline.classList.remove('disabled');
                });
                updateSelectedClasses();
                
            } else if (diffX > 50 && startLine.classList.contains('hiddenlinesparent')) {
                startLine.classList.remove('hiddenlinesparent');
                showHiddenElements(startLine);
                updateSelectedClasses();
            } else if (diffX > 50 && startLine.classList.contains('selected')) {
                let anothersuperselectedline = false;
                let superselectedline = section.querySelector('.code-editor-line.superselected');
                if (superselectedline){
                    anothersuperselectedline = true;
                }
                startLine.classList.remove('selected');
                startLine.classList.add('superselected');
                if (!section.querySelector('.code-editor-line.selected')){
                    section.querySelectorAll('.eslbtn').forEach(dline => {
                        dline.classList.add('disabled');
                    });
                }
                if (anothersuperselectedline == true){
                    superselect(superselectedline, startLine);
                    superselectedline.classList.remove('superselected');
                    startLine.classList.remove('superselected');
                    superselectedline.classList.add('selected');
                    startLine.classList.add('selected');
                    section.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                        dline.classList.remove('disabled');
                    });

                }
                updateSelectedClasses();
            } else if (diffX < -50 && startLine.classList.contains('selected')) {
                startLine.classList.remove('selected');
                if (!section.querySelector('.code-editor-line.selected')){
                    section.querySelectorAll('.eslbtn').forEach(dline => {
                        dline.classList.add('disabled');
                    });
                }
                updateSelectedClasses();
            } else if (diffX < -50 && startLine.classList.contains('superselected')) {
                startLine.classList.remove('superselected');
                startLine.classList.add('selected');
                section.querySelectorAll('.eslbtn.disabled').forEach(dline => {
                    dline.classList.remove('disabled');
                });
                updateSelectedClasses();
            } else if (diffX < -50 && !startLine.classList.contains('selected') && !startLine.classList.contains('hiddenlinesparent')) {
                analyzeAndHideElements(startLine);
                updateSelectedClasses();
            } 

            startLine = null;
        });

        function superselect(superselectedline, superselectedline2) {
            let allselectedlines = Array.from(section.querySelectorAll('.code-editor-line'));
            let startindex = allselectedlines.indexOf(superselectedline);
            let endindex = allselectedlines.indexOf(superselectedline2);

            if (superselectedline.classList.contains('hidden') || superselectedline2.classList.contains('hidden')){
                return;
            }

            if (startindex < endindex) {
                for (let i = startindex + 1; i < endindex; i++) {
                    if (allselectedlines[i].classList.contains('hiddenlinesparent')) {
                        allselectedlines[i].classList.remove('hiddenlinesparent');
                        showHiddenElements(allselectedlines[i]);
                        updateSelectedClasses();
                    }
                    if (!allselectedlines[i].classList.contains('selected')){
                        allselectedlines[i].classList.add('selected');
                    }
                }
            } else if (startindex > endindex) {
                for (let i = startindex - 1; i > endindex; i--) {
                    if (allselectedlines[i].classList.contains('hiddenlinesparent')) {
                        allselectedlines[i].classList.remove('hiddenlinesparent');
                        showHiddenElements(allselectedlines[i]);
                        updateSelectedClasses();
                    }
                    if (!allselectedlines[i].classList.contains('selected')){
                        allselectedlines[i].classList.add('selected');
                    }
                }
            }
            updateSelectedClasses();
        }
        
        function setCursorPosition(element, position) {
            const selection = window.getSelection();
            selection.removeAllRanges();
            
            const range = document.createRange();
            let currentOffset = 0;
            
            function traverseNodes(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const nextOffset = currentOffset + node.textContent.length;
                    if (currentOffset <= position && position <= nextOffset) {
                        range.setStart(node, position - currentOffset);
                        range.collapse(true);
                        return true;
                    }
                    currentOffset = nextOffset;
                } else if (node.nodeType === Node.ELEMENT_NODE) {
                    for (let i = 0; i < node.childNodes.length; i++) {
                        if (traverseNodes(node.childNodes[i])) return true;
                    }
                }
                return false;
            }
            traverseNodes(element);
            selection.addRange(range);
        }
        
        function getCursorPosition(element) {
            const selection = window.getSelection();
            if (!selection.rangeCount) return null;
            const range = selection.getRangeAt(0);
            const preCaretRange = range.cloneRange();
            preCaretRange.selectNodeContents(element);
            preCaretRange.setEnd(range.startContainer, range.startOffset);
            const startOffset = preCaretRange.toString().length;
            
            return startOffset;
        }

        function preserveCursorAndHighlight(celine) {
            if (!celine || !(celine instanceof HTMLElement)) {
                return;
            }
  
            const cursorPosition = getCursorPosition(celine);

            const dubbleminusregex = /—/g;
            const matches = celine.textContent.match(dubbleminusregex);
            const count = matches ? matches.length : 0;
            if (count > 0){
                celine.textContent = celine.textContent.replaceAll('—', '--');
            }
            addJsSyntaxHighlighting(celine);

            if (cursorPosition !== null) {
                setCursorPosition(celine, cursorPosition + count);
            }
        }
        
        
        
        
        
        
        function extractUniqueValues(code) {
            const matches = new Set();
            
            const patterns = [
                { regex: /class="([^"]+)"/g, prefix: '.', split: true },
                { regex: /id="([^"]+)"/g, prefix: '#' },
                /*{ regex: /function\s+([a-zA-Z0-9_$]+)\s*\(/g, prefix: '' },
                { regex: /const\s+([a-zA-Z0-9_$]+)\s*=/g, prefix: '' },
                { regex: /var\s+([a-zA-Z0-9_$]+)\s*=/g, prefix: '' },
                { regex: /let\s+([a-zA-Z0-9_$]+)\s*=/g, prefix: '' },*/
                { regex: /\.classList\.add\(\s*['"]([^'"]+)['"]\s*\)/g, prefix: '.', split: true },
                { regex: /\.className\s*=\s*['"]([^'"]+)['"]/g, prefix: '.', split: true },
                { regex: /\.id\s*=\s*['"]([^'"]+)['"]/g, prefix: '#' }
            ];
            
            patterns.forEach(({ regex, prefix, split }) => {
                regex.lastIndex = 0;
                let match;
                while ((match = regex.exec(code)) !== null) {
                    if (split) {
                        match[1].split(/(\s+|\u00A0)/).forEach(value => matches.add(value));
                    } else {
                        matches.add(match[1]);
                    }
                }
            });
            
            const returnArray = Array.from(matches);
            const allCssVariables = [];
            section.querySelectorAll('.syntaxvariable').forEach(cassVariables => {
                if (!allCssVariables.includes(cassVariables.textContent)) {
                    allCssVariables.push(cassVariables.textContent);
                }
            });
            if (allCssVariables.length > 0) {
                returnArray.push(...allCssVariables);
            }
            return returnArray;
        }
        
        function extractUniqueIds(code) {
            const matches = new Set();
        
            const patterns = [
                { regex: /id="([^"]+)"/g, prefix: '#' },
                { regex: /\.id\s*=\s*['"]([^'"]+)['"]/g, prefix: '#' }
            ];
        
            patterns.forEach(({ regex, prefix }) => {
                let match;
                while ((match = regex.exec(code)) !== null) {
                    //matches.add(prefix + match[1]);
                    matches.add(match[1]);
                }
            });
        
            return Array.from(matches);
        }

        function extractUniqueClasses(code) {
            const matches = new Set();
        
            const patterns = [
                { regex: /class="([^"]+)"/g, prefix: '.' },
                { regex: /\.classList\.add\(\s*['"]([^'"]+)['"]\s*\)/g, prefix: '.' },
                { regex: /\.className\s*=\s*['"]([^'"]+)['"]/g, prefix: '.' }
            ];
        
            patterns.forEach(({ regex, prefix }) => {
                let match;
                while ((match = regex.exec(code)) !== null) {
                    matches.add(match[1]);
                }
            });
        
            return Array.from(matches);
        }
        
        function handlePaste(event) {
            event.preventDefault();
            function getCursorPositionTwo(element) {
                const selection = window.getSelection();
                if (!selection.rangeCount) return null;
                const range = selection.getRangeAt(0);
                const selectedText = range.toString();
                if (selectedText != "" && event.key != "Shift" && event.key != "Tab") {
                    nodelete = true;
                    if (event.key == "Backspace" && celine) {
                        let newpast = [];
                        lasteventsparentsection = section;
                        let pastelement = {
                            element: celine,
                            type: "text",
                            text: celine.textContent
                        };
                        newpast.push(pastelement);
                        if (newpast.length > 0) {
                            pasteventPrep();
                            pastevents[lasteventsparentsection.id].push(newpast);
                            enablepastbtn();
                        }
                        event.preventDefault();
                    }
                    range.deleteContents();
                }
                const preCaretRange = range.cloneRange();
                preCaretRange.selectNodeContents(element);
                preCaretRange.setEnd(range.startContainer, range.startOffset);
                const startOffset = preCaretRange.toString().length;
                return startOffset;
            }
            
            if (document.querySelector('.notificationmessage').style.display != "none") {
                hidenotificationmessage();
            }
            
            let celine = section.querySelector('.code-editor-line:focus');
            if (!celine) return;
            let newpast2 = [];
            lasteventsparentsection = section;
            let pastelement2 = {
                element: celine,
                type: "text",
                text: replaceNormalSpaces(celine.textContent)
            };
            newpast2.push(pastelement2);
            let spaces = "";
            let continueSpaces = true;
            for (let i = 0; i < celine.textContent.length; i++) {
                let character = replaceNormalSpaces(celine.textContent)[i];
                if ((character === " " || character === "\u00A0") && continueSpaces) {
                    spaces += "\u00A0";
                } else {
                    continueSpaces = false;
                }
            }
            let pasteText = (event.clipboardData || window.clipboardData).getData('text');
            let lines = pasteText.split(/\r\n|\n|\r/);
            let indentSizes = [];
            for (let line of lines) {
                let count = 0;
                while (line[count] === '\u00A0' || line[count] === ' ') count++;
                if (count > 0) indentSizes.push(count);
            }
            
            const unit = Math.min(...indentSizes);
            
            let fixedLines = lines.map(line => {
                let count = 0;
                while (line[count] === '\u00A0' || line[count] === ' ') count++;
                
                const indentLevel = Math.round(count / unit);
                const trimmedLine = line.slice(count);
                const correctedIndent = '\u00A0'.repeat(indentLevel * 4);
                
                return correctedIndent + trimmedLine;
            });
            lines = fixedLines;
            let selection = window.getSelection();
            if (selection.rangeCount === 0) return;
            
            let range = selection.getRangeAt(0);
            let cursorOffset = getCursorPositionTwo(celine);
            let currentText = replaceNormalSpaces(celine.textContent);
            let textAfterCursor = currentText.slice(cursorOffset);
            celine.textContent = currentText.slice(0, cursorOffset);
            let firstreferencespacesforspacecoun = convertToNonBreakingSpaces(lines[0]);

            let space2 = "";
            let continueSpace2 = true;
            for (let i = 0; i < firstreferencespacesforspacecoun.length; i++) {
                let character = firstreferencespacesforspacecoun[i];
                if ((character === " " || character === "\u00A0") && continueSpace2) {
                    space2 += "\u00A0";
                } else {
                    continueSpace2 = false;
                }
            }
            const firstLineLeadingSpacesCount = space2.length;
            let lineSpacesCoun2 = 0;
            let continueLineSpac2 = true;
            
            for (let j = 0; j < lines[0].length; j++) {
                let character = lines[0][j];
                if ((character === " " || character === "\u00A0") && continueLineSpac2) {
                    lineSpacesCoun2++;
                } else {
                    continueLineSpac2 = false;
                }
            }
            let adjustedLin2 = lines[0];
            if (lineSpacesCoun2 >= firstLineLeadingSpacesCount) {
                adjustedLin2 = lines[0].slice(firstLineLeadingSpacesCount);
            }
            celine.textContent += convertToNonBreakingSpaces(adjustedLin2);
            addJsSyntaxHighlighting(celine);
            for (let i = 1; i < lines.length; i++) {
                correntids += 1;
                const newline = document.createElement('div');
                newline.setAttribute('contenteditable', 'true');
                newline.id = correntids;
                newline.classList.add('code-editor-line');
                
                let lineSpacesCount = 0;
                let continueLineSpaces = true;
                
                for (let j = 0; j < lines[i].length; j++) {
                let character = lines[i][j];
                    if ((character === " " || character === "\u00A0") && continueLineSpaces) {
                        lineSpacesCount++;
                    } else {
                        continueLineSpaces = false;
                    }
                }
                
                let adjustedLine = lines[i];
                if (lineSpacesCount >= firstLineLeadingSpacesCount) {
                    adjustedLine = lines[i].slice(firstLineLeadingSpacesCount);
                }
                
                newline.textContent = replaceNormalSpaces(spaces + convertToNonBreakingSpaces(adjustedLine));
                celine.insertAdjacentElement('afterend', newline);
                lineObserver.observe(newline);
                celine = newline;
                addJsSyntaxHighlighting(celine);
                let pastelement = {
                    element: celine,
                    type: "create",
                    index: getElementIndexInParent(celine)
                };
                newpast2.push(pastelement);
                if (i == lines.length - 1){
                    celine.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center',
                        inline: 'center'
                    });
                    focuseceline(celine);
                }
            }
            
            function filterCodeLines() {
                const lines = section.querySelectorAll('.code-editor-line');

                const filteredLines = Array.from(lines).filter(line => {
                    const text = line.textContent;

                    const hasCommentSyntax = /(?<!['`"][^'"\n]*?)<!--(?![^>]*-->)/.test(text) || /(?<!\\)(?<![/`'"][^'"\n]*?)\/\*(?![^*]*\*\/)(?!(?:(?=[^'"\n]*['"`])[^'"\n]*['"`]))/.test(text);
                    const hasCommentClass = line.classList.contains('syntaxcomment') || line.classList.contains('syntaxstring') || line.classList.contains('syntaxhtmlcomment');
                    const withinQuotes = /["'`].*?(<!--|\/\*).*?["'`]/.test(text);

                    return hasCommentSyntax && !hasCommentClass && !withinQuotes;
                });

                filteredLines.forEach(line => {
                    addJsSyntaxHighlighting(line);
                });
            }
            
            celine.textContent += convertToNonBreakingSpaces(textAfterCursor);
            
            const newRange = document.createRange();
            
            let lastChild = celine.lastChild;
            if (lastChild) {
                newRange.setStart(lastChild, lastChild.length - textAfterCursor.length);
            } else {
                newRange.setStart(celine, replaceNormalSpaces(celine.textContent).length - textAfterCursor.length);
            }
            
            if (newpast2.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast2);
                enablepastbtn();
            }
            filterCodeLines();
            const texts = extractUniqueValues(section.querySelector('.code-editor-container').textContent);
            
            const allDivs = Array.from(section.querySelectorAll('.code-editor-line'));
            
            const filteredDivs = allDivs.filter(div => texts.some(text => div.textContent.includes(text)));
            filteredDivs.forEach(div => {
                addJsSyntaxHighlighting(div);
            });
            

            newRange.collapse(true);
            selection.removeAllRanges();
            selection.addRange(newRange);
            preserveCursorAndHighlight(celine);
        }


        function analyzeAndHideElements(element) {
            function countLeadingSpaces(text) {
                let spaces = 0;
                let continueSpaces = true;
                for (let i = 0; i < text.length; i++) {
                    let character = text[i];
                    if ((character === " " || character === "\u00A0") && continueSpaces) {
                        spaces += 1;
                    } else {
                        continueSpaces = false;
                    }
                }
                return spaces;
            }

            const referenceSpaces = countLeadingSpaces(element.textContent);
            const hiddenElements = [];
            const elementwithnotext = [];
            
            let nextElement = element.nextElementSibling;
            let nextElementValid = false;
            if (nextElement && element.textContent.trim() != ""){
                element.classList.add('hiddenlinesparent');
            }else {
                return;
            }
            
            while (nextElement) {
                const nextText = nextElement.textContent;
                const nextSpaces = countLeadingSpaces(nextText);
                
                if (nextSpaces > referenceSpaces || nextText.trim() == "") {
                    if (nextText.trim() == "") {
                        elementwithnotext.push(nextElement);
                    }
                    hiddenElements.push(nextElement);
                    nextElement.classList.add('hidden');
                    nextElementValid = true;
                } else {
                    break;
                }

                nextElement = nextElement.nextElementSibling;
            }
            if (elementwithnotext.length == hiddenElements.length) {
                hiddenElements.forEach(element => {
                    element.classList.remove('hidden');
                });
                nextElementValid = false;
            }
            if (!nextElementValid) {
                element.classList.remove('hiddenlinesparent');
            }
            result[element.id] = hiddenElements;
        }

        function showHiddenElements(element) {
            if (result[element.id]) {
                const hiddenElements = result[element.id].reverse();
                hiddenElements.forEach(hiddenElement => {
                    if (hiddenElement){
                        hiddenElement.classList.remove('hidden');
                        if (hiddenElement.classList.contains('hiddenlinesparent')){
                            hiddenElement.classList.remove('hiddenlinesparent');
                            showHiddenElements(hiddenElement);
                            analyzeAndHideElements(hiddenElement);
                        }
                    }
                });
                delete result[element.id];
            }
        }

        function convertToNonBreakingSpaces(text) {
            return replaceNormalSpaces(text.replace(/ /g, ' ').replace(/\t/g, '    '));
        }
        
        function replaceCommandsWithSymbols(textelement) {
            let celine = textelement;
            let selection = window.getSelection();
            if (!selection.rangeCount) return;

            let range = selection.getRangeAt(0);
            let cursorOffset = range.startOffset;
            function insertClosingCharacter(replacetext, openingChar, closingChar) {
                let text = celine.textContent;
                let index = text.indexOf(replacetext);
                
                if (index === -1) return;
            
                let newpast2 = [];
                lasteventsparentsection = section;
            
                let pastelement2 = {
                    element: celine,
                    type: "text",
                    text: replaceNormalSpaces(text)
                };
                newpast2.push(pastelement2);
            
                if (newpast2.length > 0) {
                    pasteventPrep();
                    pastevents[lasteventsparentsection.id].push(newpast2);
                    enablepastbtn();
                }
                
                let textBefore = text.slice(0, index);
                let textAfter = text.slice(index + replacetext.length);
                
                celine.textContent = textBefore + openingChar + closingChar + textAfter;
                
                const newCursorOffset = index + openingChar.length + replacetext.length;
                
                if (window.getSelection) {
                    let selection = window.getSelection();
                    let range = document.createRange();
            
                    if (celine.firstChild) {
                        range.setStart(celine.firstChild, newCursorOffset - replacetext.length);
                        range.collapse(true);
                        selection.removeAllRanges();
                        selection.addRange(range);
                    }
                }
            }
            
            for (const command in commandToSymbol) {
                const symbol = commandToSymbol[command];
                insertClosingCharacter(command.toUpperCase(), symbol, '');
            }
            for (const command in shortCutCommands) {
                const firstpart = shortCutCommands[command].firstpart;
                const seccondpart = shortCutCommands[command].seccondpart;
                insertClosingCharacter(command.toUpperCase(), firstpart, seccondpart);
            }
            for (const command in shortCutCommands) {
                const firstpart = shortCutCommands[command].firstpart;
                const seccondpart = shortCutCommands[command].seccondpart;
                insertClosingCharacter(command, firstpart, seccondpart);
            }
        }

        function handleKeyUpEvent(event) {
            if (document.querySelector('.notificationmessage').style.display != "none") {
                hidenotificationmessage();
            }
            if (event.key == 'Shift' || event.metaKey || event.ctrlKey || event.key == "CapsLock" || event.code == "CapsLock") {
                return;
            }
            let celine = document.activeElement?.closest('.code-editor-line');
            if (!celine) return;
    
            setupAutocomplete(celine);

            if (celine.textContent.includes('/') && document.querySelector('.commandsswitch')?.checked) {
                replaceCommandsWithSymbols(celine);
            }
            if (celine.textContent.trim() != ""){
                preserveCursorAndHighlight(celine);
            }
        }


        function getLastNonSpaceCharInText(text) {
            for (let i = text.length - 1; i >= 0; i--) {
                if (text[i] !== ' ') {
                    return text[i];
                }
            }
            return null;
        }
        function getFirstNonSpaceCharInTextaftercursor(text) {
            for (let i = text.length - 1; i >= 0; i++) {
                if (text[i] !== ' ') {
                    return text[i];
                }
            }
            return null;
        }
        function removeAllHighlightedTexts() {
            document.querySelectorAll('.highlighted').forEach(highlightedElement => {
                highlightedElement.classList.remove('highlighted');
            });
        }
        function handleClickOutside(event) {
            removeAllHighlightedTexts();
            if (event.target.classList.contains("highlightable")) {
                const expectedClass = 'spanwithtext' + event.target.textContent.replace(/[^A-Za-z]/g, '');
                const wordselectswitch = document.querySelector('.wordselectswitch');
                if (wordselectswitch && wordselectswitch.checked) {
                    const alltheotherwords = document.querySelectorAll('.spanwithtext' + event.target.textContent.replace(/[^A-Za-z]/g, ''));
                    alltheotherwords.forEach(word => {
                        word.classList.add('highlighted');
                    });
                }
            }
        }
            
        window.addEventListener('click', handleClickOutside);
        function addJsSyntaxHighlighting(div) {
            if (!div || div.tagName !== "DIV") {
                return;
            }

            const code = div.textContent;
            div.textContent = "";
      
            const jstextstring = [
                { regex: /(?<!\\)`(?![^"]*"(?:[^"\\]*\\.)*[^"]*$)(?![^']*'(?:[^'\\]*\\.)*[^']*$)(?![^/]*\/(?:[^/\\]*\\.)*[^/]*\/[gimsuy]*)(?![^/]*\/\/.*)[^`]*/, className: "syntaxstring" }
            ];
            let allfilenames = extractUniqueIds(div.parentElement.parentElement.querySelector('.code-editor-container').textContent);
            let allfilenames2 = extractUniqueClasses(div.parentElement.parentElement.querySelector('.code-editor-container').textContent);
            
            let spatterns = [
                { regex: /[\s \u00A0]{4}/g, className: "syntaxspace" },
                { regex: /(\/\/[^\n]*|\/\*[\s\S]*?(?:\*\/|$)|[^\/]*\*\/)/g, className: "syntaxcomment" },
                { regex: /(?:\<\!\-\-[^]*|(?<!\<\!\-\-[^]*)[\s\S]*?\-\-\>)/g, className: "syntaxhtmlcomment" },
                { regex: /(["'`])(?:(?!\1)[^\\]|\\.)*\1/g, className: "syntaxstring" },
                { regex: /\/(?!\/)(?=\S)(.*?)(\/[gimsuy]*)/g, className: "syntaxregex" },

                { regex: /\b(@charset|@namespace|@viewport|@counter-style|await|break|const|continue|debugger|delete|false|in|instanceof|new|null|return|super|this|throw|true|typeof|var|void|yield|let|static|undefined|NaN|Infinity|eval|isFinite|isNaN|parseFloat|parseInt|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|Object|Function|Boolean|Symbol|Error|EvalError|InternalError|RangeError|ReferenceError|SyntaxError|TypeError|URIError|Number|BigInt|Math|Date|String|RegExp|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array|BigInt64Array|BigUint64Array|Map|Set|WeakMap|WeakSet|ArrayBuffer|SharedArrayBuffer|Atomics|DataView|JSON|Promise|Generator|Reflect|Proxy|Intl|WebAssembly)\b/g, className: "syntaxkeyword" },
                { regex: /\b(case|catch|class(?!=)|default|do|else|enum|export|extends|finally|for|function|if|import|switch|try|while|with|implements|interface|package|private|protected|public|async|GeneratorFunction|AsyncFunction)\b/g, className: "syntaxblock" },
                { regex: /@(container|page|supports|keyframes|import|font-face|media|document)\b/g, className: "syntaxkeyword" }
            ];
            if (Array.isArray(allfilenames) && allfilenames.length > 0) {
                const escapeRegex = str => str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const escapedFilenames = allfilenames.map(escapeRegex);
                spatterns.push({ regex: new RegExp(`(?<=\\#)(${escapedFilenames.join('|')})`, 'g'), className: "syntaxvariable" });
            }

            if (Array.isArray(allfilenames2) && allfilenames2.length > 0) {
                const escapeRegex = str => str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const escapedFilenames = allfilenames2.map(escapeRegex);
                spatterns.push({ regex: new RegExp(`(?<=\\.)(${escapedFilenames.join('|')})`, 'g'), className: "syntaxvariable" });
            }
            
            let restpatterns = [
                { regex: /\-\-[\w-]+(?=\:)/g, className: "syntaxvariable", goto: "def" },
                { regex: /(?<=var\()\-\-[\w-]+(?=\))/g, className: "syntaxvariable", goto: "true" },
                { regex: /(?<=<\/?)([^\s>/]+)(?=[\s>])/g, className: "syntaxhtmltagcontent" },
                { regex: /(\+|-|\*|\/|%|=|>|<|!|\^|:)/g, className: "syntaxoperator" },
                { regex: /#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b/g, className: "syntaxhex" },
                { regex: /([\[\]{}()])/g, className: "syntaxbracket" },
                { regex: /([.,&|;])/g, className: "syntaxsign" },
                { regex: /\b\d+(\.\d+)?\b/g, className: "syntaxnumber" },
                { regex: /\b[a-zA-Z_]\w*\b(?=\s*=)/g, className: "syntaxvariable" },
                { regex: /\b\w+(?=\()/g, className: "syntaxvariable" },
                { regex: /\b(console|Math\.\w+|Date|window|document)\b/g, className: "syntaxcommand" },
                { regex: /(?<=\.)\b\w+\b/g, className: "syntaxvariable" },
                { regex: /\b[\w\-]+(?=:)/g, className: "syntaxcommand" },
                { regex: /\w+/g, className: "notpartofesyntax" }
            ];
            
            spatterns = [...spatterns, ...restpatterns];


            function processText(text, container, patterns) {
                let lastIndex = 0;
                
                while (lastIndex < text.length) {
                    let matched = false;
                    
                    for (const { regex, className, goto = false } of patterns) {
                        const r = new RegExp(regex.source, regex.flags.includes("g") ? regex.flags : regex.flags + "g");
                        r.lastIndex = lastIndex;
                        const match = r.exec(text);
                        
                        if (match && match.index === lastIndex) {
                            matched = true;
                            
                            if (text.slice(lastIndex, match.index)) {
                                const before = document.createElement("span");
                                before.textContent = text.slice(lastIndex, match.index);
                                container.appendChild(before);
                            }
                            
                            const span = document.createElement("span");
                            span.textContent = match[0];
                            span.className = className;
                            span.classList.add("syntax");
                            
                            if (className === "syntaxhex") {
                                function expandHex(shortHex) {
                                    let shortHexR = shortHex.replace(/^#/, '');
                                    if (shortHexR.length === 3) {
                                        return "#" + shortHexR.split("").map(c => c + c).join("");
                                    }
                                    if (shortHexR.length === 6) {
                                        return "#" + shortHexR;
                                    }
                                    return "#000000";
                                }
                                
                                const spanspan = document.createElement("span");
                                spanspan.className = "ajshspanspan";
                                spanspan.textContent = match[0];
                                
                                const colorInput = document.createElement("input");
                                colorInput.type = "color";
                                try {
                                    colorInput.value = expandHex(span.textContent);
                                } catch (e) {
                                    colorInput.value = "#000000";
                                }
                                colorInput.className = "syntaxcolorinput";
                                
                                span.textContent = "";
                                span.appendChild(spanspan);
                                span.appendChild(colorInput);
                                
                                colorInput.addEventListener("input", () => {
                                    spanspan.textContent = colorInput.value;
                                });
                            } else if (className === "syntaxregex") {
                                span.onclick = () => {
                                    notify("edit regex", "open", () => {
                                        showRegexTester(span.textContent, (back) => {
                                            if (back) {
                                                span.textContent = back;
                                                shortNotificationmessageelement("regex successfully updated");
                                            }
                                        });
                                    });
                                };
                            } else if (className === "syntaxvariable" && goto === "def") {
                                span.classList.add("cssvardef");
                            } else if (goto === "true") {
                                span.onclick = () => {
                                    let definition = null;
                                    if (section) {
                                        for (let sv of section.querySelectorAll(".syntaxvariable.cssvardef")) {
                                            if (
                                                sv.parentElement &&
                                                sv.parentElement.classList.contains("code-editor-line") &&
                                                sv.textContent === span.textContent
                                            ) {
                                                definition = sv;
                                                break;
                                            }
                                        }
                                    }
                                    if (definition) {
                                        notify("go to definition", "go", () => {
                                            scrolltolinenumber(getElementIndexInParent(definition.parentElement));
                                        });
                                    }
                                };
                            }
                            if (span.textContent.replace(/[^A-Za-z]/g, '') != "") {
                                const safeClassName = 'spanwithtext' + span.textContent.replace(/[^A-Za-z0-9_-]/g, '');
                                span.classList.add(safeClassName, "highlightable");
                            }
                            
                            container.appendChild(span);
                            
                            lastIndex = match.index + match[0].length;
                            break;
                        }
                    }
                    
                    if (!matched) {
                        const span = document.createElement("span");
                        span.textContent = text[lastIndex];
                        span.classList.add("syntax");
                        container.appendChild(span);
                        lastIndex++;
                    }
                }
            }
      
      
            function checkifcontinuedcomment() {
                const testthisregex = /(?<!\\)(?<![/`'"][^'"\n]*?)\/\*(?![^*]*\*\/)(?!(?:(?=[^'"\n]*['"`])[^'"\n]*['"`]))/;
                if (!testthisregex.test(code)) {
                    return;
                }

                let currentdiv = div;
                while (currentdiv.nextElementSibling) {
                    currentdiv = currentdiv.nextElementSibling;
    
                    if (!currentdiv.textContent.includes('*/')) {
                        let currentdivtextcontent = currentdiv.textContent;
                        currentdiv.innerHTML = "";

                        currentdiv.textContent = currentdivtextcontent;
                        currentdiv.classList.add('syntaxcomment');
                    } else {
                        let commentpart = currentdiv.textContent.split('*/')[0] + "*/";
                        let notcommentpart = currentdiv.textContent.split('*/')[1];
                        currentdiv.innerHTML = "";
                        let newspan = document.createElement('span');
                        newspan.className = "syntaxcomment";
                        newspan.textContent = commentpart;
                        const container = document.createDocumentFragment();

                        container.appendChild(newspan);
                        currentdiv.appendChild(container);
                        const container2 = document.createDocumentFragment();

                        processText(notcommentpart, container2, spatterns);
                        currentdiv.appendChild(container2);
                        break;
                    }
                }
            }
            function processDiv() {
                const content = code;
                const regexCommentEnd = /.*\*\/.*$/;
                const regexCommentStart = /.*\/\*/;

                if (regexCommentEnd.test(content) && !regexCommentStart.test(content.slice(content.indexOf('*/') + 2))) {
                    let nextSibling = div;
                    while (nextSibling && nextSibling.classList.contains('syntaxcomment')) {
                        nextSibling.classList.remove('syntaxcomment');
                        const container2 = document.createDocumentFragment();
                        let nextSiblingTextContent = nextSibling.textContent;
                        nextSibling.innerHTML = "";
                        processText(nextSiblingTextContent, container2, spatterns);
                        nextSibling.appendChild(container2);
                        nextSibling = nextSibling.nextElementSibling;
                    }
                }
            }

            function checkcomments(div, text) {
                let regextotest = /\/\*(?!.*\*\/)/g;
                let regextotest2 = /(?<!\/\*.*)\*\//g;
                if (div.nextElementSibling && div.nextElementSibling.classList.contains('syntaxcomment') && !div.classList.contains('syntaxcomment') && !regextotest.test(text)) {
                    let nextelement = div.nextElementSibling;
                    while (nextelement && nextelement.classList.contains('syntaxcomment')){
                        nextelement.classList.remove('syntaxcomment');
                        const container = document.createDocumentFragment();
                        processText(nextelement.textContent, container, spatterns);
                        nextelement.innerHTML = "";
                        nextelement.appendChild(container);
                        nextelement = nextelement.nextElementSibling;
                    }
                }else if (div.previousElementSibling && div.previousElementSibling.classList.contains('syntaxcomment') && !div.classList.contains('syntaxcomment') && !regextotest2.test(text)){
                    div.classList.add('syntaxcomment');
                    div.innerHTML = "";
                    div.textContent = text;
                    let currentdiv = div.nextElementSibling;
                    while (currentdiv && !currentdiv.textContent.includes('*/')) {
                        if (!currentdiv.classList.contains('syntaxcomment')){
                            let currentdivtextcontent = currentdiv.textContent;
                            currentdiv.innerHTML = "";
                            currentdiv.textContent = currentdivtextcontent;
                            currentdiv.classList.add('syntaxcomment');
                            currentdiv = currentdiv.nextElementSibling;
                        }else {
                            break;
                        }
                    }
                }
   
            }

            function checkifcontinuedcomment2() {
                const testthisregex = /(?<!['`"][^'"\n]*?)<!--(?![^>]*-->)/;
                if (!testthisregex.test(code)) {
                    return;
                }

                let currentdiv = div;
                while (currentdiv.nextElementSibling) {
                    currentdiv = currentdiv.nextElementSibling;

                    if (!currentdiv.textContent.includes('-->')) {
                        let currentdivtextcontent = currentdiv.textContent;
                        currentdiv.innerHTML = "";

                        currentdiv.textContent = currentdivtextcontent;
                        currentdiv.classList.add('syntaxhtmlcomment');
                    } else {
                        let commentpart = currentdiv.textContent.split('-->')[0] + "-->";
                        let notcommentpart = currentdiv.textContent.split('-->')[1];
                        currentdiv.innerHTML = "";
                        let newspan = document.createElement('span');
                        newspan.className = "syntaxhtmlcomment";
                        newspan.textContent = commentpart;
                        const container = document.createDocumentFragment();
                        container.appendChild(newspan);
                        currentdiv.appendChild(container);
                        const container2 = document.createDocumentFragment();

                        processText(notcommentpart, container2, spatterns);
                        currentdiv.appendChild(container2);
                        break;
                    }
                }
            }

            function processDiv2() {
                const content = code;
                const regexCommentEnd = /.*-->.*/;
                const regexCommentStart = /.*<!--/;

                if (regexCommentEnd.test(content) && !regexCommentStart.test(content.slice(content.indexOf('-->') + 3))) {
                    let nextSibling = div;
                    while (nextSibling && nextSibling.classList.contains('syntaxhtmlcomment')) {
                        nextSibling.classList.remove('syntaxhtmlcomment');
                        const container2 = document.createDocumentFragment();
                        let nextSiblingTextContent = nextSibling.textContent;
                        nextSibling.innerHTML = "";
                        processText(nextSiblingTextContent, container2, spatterns);
                        nextSibling.appendChild(container2);
                        nextSibling = nextSibling.nextElementSibling;
                    }
                }
            }

            function checkcomments2(div, text) {
                let regextotest = /<!--(?!.*-->)/g;
                let regextotest2 = /(?<!<!--.*)-->/g;
                if (div.nextElementSibling && div.nextElementSibling.classList.contains('syntaxhtmlcomment') && !div.classList.contains('syntaxhtmlcomment') && !regextotest.test(text)) {
                    let nextelement = div.nextElementSibling;
                    while (nextelement && nextelement.classList.contains('syntaxhtmlcomment')) {
                        nextelement.classList.remove('syntaxhtmlcomment');
                        const container = document.createDocumentFragment();
                        processText(nextelement.textContent, container, spatterns);
                        nextelement.innerHTML = "";
                        nextelement.appendChild(container);
                        nextelement = nextelement.nextElementSibling;
                    }
                } else if (div.previousElementSibling && div.previousElementSibling.classList.contains('syntaxhtmlcomment') && !div.classList.contains('syntaxhtmlcomment') && !regextotest2.test(text)) {
                    div.classList.add('syntaxhtmlcomment');
                    div.innerHTML = "";
                    div.textContent = text;
                    let currentdiv = div.nextElementSibling;
                    while (currentdiv && !currentdiv.textContent.includes('-->')) {
                        if (!currentdiv.classList.contains('syntaxhtmlcomment')) {
                            let currentdivtextcontent = currentdiv.textContent;
                            currentdiv.innerHTML = "";
                            currentdiv.textContent = currentdivtextcontent;
                            currentdiv.classList.add('syntaxhtmlcomment');
                            currentdiv = currentdiv.nextElementSibling;
                        } else {
                            break;
                        }
                    }
                }
            }

            if (!div.classList.contains('syntaxhtmlcomment')){
                checkifcontinuedcomment();
            }
            if (!div.classList.contains('syntaxcomment')){
                checkifcontinuedcomment2();
            }
            if (!div.classList.contains('syntaxhtmlcomment')){
                processDiv();
            }
            if (!div.classList.contains('syntaxcomment')){
                processDiv2();
            }
            if (!div.classList.contains('syntaxcomment') && !div.classList.contains('syntaxhtmlcomment') && !div.classList.contains('syntaxstring')){
                const container = document.createDocumentFragment();
                processText(code, container, spatterns);
                div.appendChild(container);
            }else {
                div.textContent = code;
            }
            if (!div.classList.contains('syntaxhtmlcomment')){
                checkcomments(div, code);
            }
            if (!div.classList.contains('syntaxcomment')){
                checkcomments2(div, code);
            }
        }
        
        function replaceNormalSpaces(text) {
            return text.replace(/ /g, '\u00A0');
        }
        
        document.addEventListener('beforeinput', e => {
            if (e.target && e.target.parentElement && e.target.parentElement.classList.contains('code-editor-container')) {
                if (e.inputType == 'historyUndo') {
                    gobacktolastpastevent();
                }
                //if (e.inputType == 'historyRedo') console.log('REDO');
            }
        });
        
        document.addEventListener('keydown', e => {
            if (e.target && e.target.parentElement && e.target.parentElement.classList.contains('code-editor-container')) {
                if ((e.metaKey || e.ctrlKey) && e.key == 'z' && !e.shiftKey) {
                    gobacktolastpastevent();
                }
                handleKeyDown(e);
                //if ((e.metaKey || e.ctrlKey) && ((e.key == 'z' && e.shiftKey) || e.key == 'y')) console.log('REDO');
            }
        });
        
        document.addEventListener('keyup', e => {
            if (e.target && e.target.parentElement && e.target.parentElement.classList.contains('code-editor-container')) {
                if ((e.metaKey || e.ctrlKey) && e.key == 'z' && !e.shiftKey) {
                    gobacktolastpastevent();
                }
                handleKeyUpEvent(e);
                //if ((e.metaKey || e.ctrlKey) && ((e.key == 'z' && e.shiftKey) || e.key == 'y')) console.log('REDO');
            }
        });
        
        document.addEventListener('paste', e => {
            if (e.target && e.target.parentElement && e.target.parentElement.classList.contains('code-editor-container')) {
                handlePaste(e);
            }
        });

        function handleKeyDown(event) {
            if (document.querySelector('.notificationmessage').style.display != "none"){
                hidenotificationmessage();
            }
            
            if (event.key == 'Shift' || event.metaKey || event.ctrlKey || event.key == "CapsLock" || event.code == "CapsLock") {
                return;
            }
            let celine = section.querySelector('.code-editor-line:focus');
            let nodelete = false;
            
            let newpast = [];
            
            function getCursorPositionThree(element) {
                const selection = window.getSelection();
                if (!selection.rangeCount) return null;
                    const range = selection.getRangeAt(0);
                    const selectedText = range.toString();
                    if (selectedText != "" && event.key != "Tab"){
                        nodelete = true;
                        if (celine){
                            lasteventsparentsection = section;
                            const getElCPos = getCursorPosition(celine) + selectedText.length;
                            let pastelement = {
                                element: celine,
                                type: "text",
                                text: celine.textContent,
                                cursor: getElCPos
                            };
                            newpast.push(pastelement);
                            if (event.key == 'Backspace') {
                                event.preventDefault();
                            }
                        }
                        range.deleteContents();
                    }
                    const preCaretRange = range.cloneRange();
                    preCaretRange.selectNodeContents(element);
                    preCaretRange.setEnd(range.startContainer, range.startOffset);
                    const startOffset = preCaretRange.toString().length;
                    return startOffset;
                }
                
                const invalidKeys = ["'", "\"", "`", "(", "{", "[", "“", "‚", ">", "„", "Backspace", "‘", "Enter", "}", "]", ")", ";"];
                const cursorPosition = getCursorPositionThree(celine);
                if (!invalidKeys.includes(event.key) && event.key.length <= 1) {
                    lasteventsparentsection = section;
                    if (event.key.length <= 1) {
                        let pastelement2 = {
                            element: celine,
                            type: "text",
                            text: replaceNormalSpaces(celine.textContent),
                            cursor: cursorPosition
                        };
                        newpast.push(pastelement2);
                    }
                    if (newpast.length > 0) {
                        pasteventPrep();
                        pastevents[lasteventsparentsection.id].push(newpast);
                        enablepastbtn();
                    }
                    return;
                }
                
                const ctext = replaceNormalSpaces(celine.textContent);
                celine.innerHTML = "";
                celine.textContent = ctext;
                if (cursorPosition !== null) {
                    setCursorPosition(celine, cursorPosition);
                }

                const selfClosingTags = [
                    "br",
                    "img",
                    "input",
                    "hr",
                    "meta",
                    "link",
                    "area",
                    "base",
                    "source",
                    "track",
                    "col",
                    "wbr",
                    "command",
                    "basefont",
                    "frame",
                    "DOCTYPE",
                    "doctype"
                ];
                

            let selection = window.getSelection();

            let range = selection.getRangeAt(0);
            let cursorOffset = range.startOffset;

            function insertClosingCharacter(openingChar, closingChar) {
                lasteventsparentsection = section;
                let pastelement2 = {
                    element: celine,
                    type: "text",
                    text: celine.textContent,
                    cursor: cursorPosition
                };
                newpast.push(pastelement2);
                let text = celine.textContent;
                let textAfterCursor = text.substring(cursorOffset);
                celine.textContent = text.substring(0, cursorOffset) + openingChar + closingChar + textAfterCursor;

                range.setStart(celine.firstChild, cursorOffset + openingChar.length);
                range.collapse(true);
                selection.removeAllRanges();
                selection.addRange(range);
            }

            function checkAndSkipClosingCharacter(closingChar) {
                let text = celine.textContent;
                let nextChar = text.charAt(cursorOffset);
                if (nextChar === closingChar) {
                    event.preventDefault();
                    range.setStart(celine.firstChild, cursorOffset + 1);
                    range.collapse(true);
                    selection.removeAllRanges();
                    selection.addRange(range);
                }else {
                    lasteventsparentsection = section;
                    let pastelement2 = {
                        element: celine,
                        type: "text",
                        text: celine.textContent,
                        cursor: cursorPosition
                    };
                    newpast.push(pastelement2);
                }
            }

            function checkAndSkipornotClosingCharacter(closingChar) {
                let text = celine.textContent;
                let nextChar = text.charAt(cursorOffset);
                if (nextChar === closingChar) {
                    event.preventDefault();
                    range.setStart(celine.firstChild, cursorOffset + 1);
                    range.collapse(true);
                    selection.removeAllRanges();
                    selection.addRange(range);
                } else {
                    lasteventsparentsection = section;
                    let pastelement2 = {
                        element: celine,
                        type: "text",
                        text: celine.textContent,
                        cursor: cursorPosition
                    };
                    newpast.push(pastelement2);
                    event.preventDefault();
                    insertClosingCharacter(closingChar, closingChar);
                }
            }
            if (event.key == 'Tab') {
                event.preventDefault();
                let additionalspaces = " ".repeat(m__right);
                insertClosingCharacter(additionalspaces, '');
            }
            else if (event.key == 'Enter') {
                event.preventDefault();
                
                if (celine) {
                    if (celine.classList.contains('hiddenlinesparent')) {
                        celine.classList.remove('hiddenlinesparent');
                        showHiddenElements(celine);
                    }
                    correntids += 1;
                    const newid = correntids;
                    lasteventsparentsection = section;
                    let pastelement = {
                        element: celine,
                        type: "text",
                        text: celine.textContent,
                        cursor: cursorPosition
                    };
                    newpast.push(pastelement);
                    const text = celine.textContent;
                    
                    const selection = window.getSelection();
                    const range = selection.getRangeAt(0);
                    const cursorOffset = range.startOffset;
                    
                    const textBehindCursor = text.substring(cursorOffset);
                    celine.textContent = text.substring(0, cursorOffset);
                    
                    let lastsignincelineelement = getLastNonSpaceCharInText(celine.textContent);
                    let firstsignintextbehindcursor = getFirstNonSpaceCharInTextaftercursor(textBehindCursor);
                    let spaces = "";
                    for (let i = 0; i < celine.textContent.length; i++) {
                        const character = celine.textContent[i];
                        if (character === " " || character === "\u00A0") {
                            spaces += "\u00A0";
                        } else {
                            break;
                        }
                    }
                    let firstspaces = spaces;
                    const openingsignsincssandjavascript = ["{", "[", "(", ":"];
                    const clisingsignsincssandjavascript = ["}", "]", ")", "\""];
                    let openTagMatch = celine.textContent.trim().match(/<(\w+)([^>]*)>$/);
                    if (openingsignsincssandjavascript.includes(lastsignincelineelement) || (openTagMatch && !selfClosingTags.includes(openTagMatch[1]))) {
                        spaces += "\u00A0\u00A0\u00A0\u00A0";
                    }
                    const newline = document.createElement('div');
                    newline.setAttribute('contenteditable', 'true');
                    newline.id = newid;
                    newline.classList.add('code-editor-line');
                    
                    let closingTagMatch = textBehindCursor.match(/^<\/(\w+)>/);
                    
                    if (clisingsignsincssandjavascript.includes(firstsignintextbehindcursor) || closingTagMatch) {
                        newline.textContent = spaces;
                    } else {
                        newline.textContent = spaces + textBehindCursor;
                    }
                    
                    if (celine.classList.contains('syntaxhtmlcomment')) {
                        newline.classList.add('syntaxhtmlcomment');
                    }
                    if (celine.classList.contains('syntaxcomment')) {
                        newline.classList.add('syntaxcomment');
                    }
                    if (celine.classList.contains('syntaxstring')) {
                        newline.classList.add('syntaxstring');
                    }
                    if (celine.nextElementSibling && celine.nextElementSibling.classList.contains('syntaxstring')) {
                        newline.classList.add('syntaxstring');
                    }
                    let regextotest = /\/\*(?!.*\*\/)/g;
                    if (regextotest.test(celine)) {
                        newline.classList.add('syntaxcomment');
                    }
                    let regextotest2 = /(?<!<!--.*)-->$/g;
                    if (regextotest.test(celine)) {
                        newline.classList.add('syntaxhtmlcomment');
                    }
                    celine.insertAdjacentElement('afterend', newline);
                    lineObserver.observe(newline);
                    let pastelemen4 = {
                        element: newline,
                        type: "create",
                        index: getElementIndexInParent(newline),
                        cursor: 0
                    };
                    newpast.push(pastelemen4);
                    
                    if (clisingsignsincssandjavascript.includes(firstsignintextbehindcursor) || closingTagMatch) {
                        correntids++;
                        const newline2 = document.createElement('div');
                        newline2.setAttribute('contenteditable', 'true');
                        newline2.id = correntids;
                        newline2.classList.add('code-editor-line');
                        newline2.textContent = firstspaces + textBehindCursor;
                        newline.insertAdjacentElement('afterend', newline2);
                        lineObserver.observe(newline2);
                        addJsSyntaxHighlighting(newline2);
                        let pastelement = {
                            element: newline2,
                            type: "create",
                            index: getElementIndexInParent(newline2),
                            cursor: 0
                        };
                        newpast.push(pastelement);
                    }
                    newline.focus();
                    const newRange = document.createRange();
                    newRange.setStart(newline.firstChild || newline, spaces.length);
                    newRange.collapse(true);
                    selection.removeAllRanges();
                    selection.addRange(newRange);
                    addJsSyntaxHighlighting(celine);
                    updateSelectedClasses();
                }
            }
            else if (event.key == 'Backspace' && nodelete == false) {
                lasteventsparentsection = section;
                if (celine.textContent != "") {
                    let pastelemen3 = {
                        element: celine,
                        type: "text",
                        text: celine.textContent,
                        cursor: cursorPosition
                    };
                    newpast.push(pastelemen3);
                }
                
                function handleBackspaceWithMatchingCharacters(event) {
                    if (event.key !== 'Backspace') return;
                    const selection = window.getSelection();
                    if (!selection.rangeCount) return;
                    const range = selection.getRangeAt(0);
                    const cursorOffset = range.startOffset;
                    const celine = range.startContainer;
                    
                    if (!celine || celine.nodeType !== Node.TEXT_NODE) return;
                    
                    const text = celine.textContent;
                    
                    const matchingPairs = {
                        '(': ')',
                        '{': '}',
                        '[': ']',
                        '"': '"',
                        "'": "'",
                        '`': '`'
                    };
                    
                    const previousChar = text.charAt(cursorOffset - 1);
                    const nextChar = text.charAt(cursorOffset);
                    
                    if (matchingPairs[previousChar] === nextChar) {
                        event.preventDefault();
                        document.querySelectorAll('.suggestioncontainer').forEach(suggestioncontainerv => {
                            suggestioncontainerv.remove();
                        });
                        
                        const updatedText = text.slice(0, cursorOffset - 1) + text.slice(cursorOffset + 1);
                        celine.textContent = updatedText;
                        
                        const newCursorPosition = cursorOffset - 1;
                        range.setStart(celine, newCursorPosition);
                        range.collapse(true);
                        
                        selection.removeAllRanges();
                        selection.addRange(range);
                    }
                }
                
                handleBackspaceWithMatchingCharacters(event);
                let selection = window.getSelection();
                let range = selection.getRangeAt(0);
                
                if (range.startOffset === 0 && celine) {
                    event.preventDefault();
                    document.querySelectorAll('.suggestioncontainer').forEach(suggestioncontainerv => {
                        suggestioncontainerv.remove();
                    });
                    
                    const previousLine = celine.previousElementSibling;
                    if (previousLine) {
                        updateSelectedClasses();
                        
                        const currentLineText = celine.textContent;
                        const previousLineText = previousLine.textContent;
                        
                        let pastelement2 = {
                            element: celine,
                            type: "delete",
                            index: getElementIndexInParent(celine),
                            cursor: 0
                        };
                        newpast.push(pastelement2);
                        if (celine.classList.contains('hiddenlinesparent')) {
                            celine.classList.remove('hiddenlinesparent');
                            showHiddenElements(celine);
                        }
                        celine.remove();
                        if (!section.querySelector('.code-editor-line.selected')) {
                            section.querySelectorAll('.eslbtn').forEach(dline => {
                                if (!dline.classList.contains('disabled')) {
                                    dline.classList.add('disabled');
                                }
                            });
                        }
                        
                        let pastelemen3 = {
                            element: previousLine,
                            type: "text",
                            text: previousLine.textContent
                        };
                        newpast.push(pastelemen3);
                        
                        previousLine.textContent = previousLineText + currentLineText;
                        
                        const newRange = document.createRange();
                        const textLength = previousLine.textContent.length;
                        
                        newRange.setStart(previousLine.firstChild || previousLine, textLength - currentLineText.length);
                        newRange.collapse(true);
                        
                        selection.removeAllRanges();
                        selection.addRange(newRange);
                    }
                }
            }
            else if (event.key == '>') {
                lasteventsparentsection = section;
                let pastelement = {
                    element: celine,
                    type: "text",
                    text: celine.textContent,
                    cursor: cursorPosition
                };
                newpast.push(pastelement);

                let selection = window.getSelection();
                let range = selection.getRangeAt(0);
                let cursorOffset = range.startOffset;

                let text = celine.textContent.substring(0, cursorOffset);
                let openTagMatch = text.match(/<(\w+)([^>]*)$/);

                if (openTagMatch) {
                    let tagName = openTagMatch[1];
                    if (selfClosingTags.includes(tagName)){
                        return;
                    }else {
                        event.preventDefault();
                    }
                    let tagEnd = `</${tagName}>`;
                    let textAfterCursor = celine.textContent.substring(cursorOffset);
                    celine.textContent = text + '>' + tagEnd + textAfterCursor;

                    range.setStart(celine.firstChild, cursorOffset + 1);
                    range.collapse(true);
                    selection.removeAllRanges();
                    selection.addRange(range);
                }
            }
            else if (event.key == '{') {
                event.preventDefault();
                insertClosingCharacter('{', '}');
            }
            else if (event.key == '[') {
                event.preventDefault();
                insertClosingCharacter('[', ']');
            }
            else if (event.key == '(') {
                event.preventDefault();
                insertClosingCharacter('(', ')');
            }
            else if (event.key == ']') {
                checkAndSkipClosingCharacter(']');
            }
            else if (event.key == '}') {
                checkAndSkipClosingCharacter('}');
            }
            else if (event.key == '"') {
                checkAndSkipornotClosingCharacter('"');
            }
            else if (event.key == "'") {
                checkAndSkipornotClosingCharacter("'");
            }
            else if (event.key == ')') {
                checkAndSkipClosingCharacter(')');
            }
            else if (event.key == ';') {
                checkAndSkipClosingCharacter(';');
            }
            else if (event.key == '„') {
                checkAndSkipornotClosingCharacter('"');
            }
            else if (event.key == '“') {
                checkAndSkipornotClosingCharacter('"');
            }
            else if (event.key == "‘") {
                checkAndSkipornotClosingCharacter('\'');
            }
            else if (event.key == "‚") {
                checkAndSkipornotClosingCharacter('\'');
            }
            if (newpast.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast);
                enablepastbtn();
            }
        }
        const undolimitnum = document.querySelector('.undolimitnum');
        const undolimit = document.querySelector('.undolimit input[type="checkbox"]');
        function pasteventPrep() {
            if (!pastevents[lasteventsparentsection.id]) {
                pastevents[lasteventsparentsection.id] = [];
            }
            if (undolimit.checked == true && pastevents[lasteventsparentsection.id].length > parseInt(undolimitnum.value)) {
                pastevents[lasteventsparentsection.id] = pastevents[lasteventsparentsection.id].slice(-(parseInt(undolimitnum.value) - 1));
            }
        }
        
        function updateSelectedClasses() {
            updateimportantpinClasses();
            const lines = section.querySelectorAll('.code-editor-line');
            
            if (!section.querySelectorAll('.code-editor-line.selected')){
                return;
            }
            
            if (section.querySelectorAll('.code-editor-line.selected').length <= 0) {
                return;
            }
            
            updateimportantpinClasses();
            
            let allselectedlines = section.querySelectorAll('.code-editor-line.selected');

            allselectedlines.forEach(line => {
                let index = getElementIndexInParent(line);
                const isSelected = line.classList.contains('selected');

                const hasAbove = index > 0 && lines[index - 1].classList.contains('selected');
                const hasBelow = index < lines.length - 1 && lines[index + 1].classList.contains('selected');

                if (line.classList.contains('topSelected')){
                    line.classList.remove('topSelected');
                }
                if (line.classList.contains('bottomSelected')){
                    line.classList.remove('bottomSelected');
                }
                if (line.classList.contains('middleSelected')){
                    line.classList.remove('middleSelected');
                }
                if (line.classList.contains('singleSelected')){
                    line.classList.remove('singleSelected');
                }

                if (isSelected) {
                    if (!hasAbove && !hasBelow) {
                        line.classList.add('singleSelected');
                    } else if (!hasAbove && hasBelow) {
                        line.classList.add('topSelected');
                    } else if (hasAbove && !hasBelow) {
                        line.classList.add('bottomSelected');
                    } else if (hasAbove && hasBelow) {
                        line.classList.add('middleSelected');
                    }
                }
            });
        }
        function updateimportantpinClasses() {
            const lines = section.querySelectorAll('.code-editor-line');
    
            if (!section.querySelectorAll('.code-editor-line.importantpin')) {
                return;
            }
            
            if (section.querySelectorAll('.code-editor-line.importantpin').length <= 0) {
                return;
            }
            
            let allselectedlines = section.querySelectorAll('.code-editor-line.importantpin');

            allselectedlines.forEach(line => {
                let index = getElementIndexInParent(line);
                const isSelected = line.classList.contains('importantpin');

                const hasAbove = index > 0 && lines[index - 1].classList.contains('importantpin') && !lines[index - 1].classList.contains('selected');
                const hasBelow = index < lines.length - 1 && lines[index + 1].classList.contains('importantpin') && !lines[index + 1].classList.contains('selected');
                if (line.classList.contains('topimportantpin')) {
                    line.classList.remove('topimportantpin');
                }
                if (line.classList.contains('bottomimportantpin')) {
                    line.classList.remove('bottomimportantpin');
                }
                if (line.classList.contains('middleimportantpin')) {
                    line.classList.remove('middleimportantpin');
                }
                if (line.classList.contains('singleimportantpin')) {
                    line.classList.remove('singleimportantpin');
                }

                if (isSelected) {
                    if (!hasAbove && !hasBelow) {
                        line.classList.add('singleimportantpin');
                    } else if (!hasAbove && hasBelow) {
                        line.classList.add('topimportantpin');
                    } else if (hasAbove && !hasBelow) {
                        line.classList.add('bottomimportantpin');
                    } else if (hasAbove && hasBelow) {
                        line.classList.add('middleimportantpin');
                    }
                }
            });
        }
        const allCssProperties = [
          "-apple-pay-button-style",
          "-apple-pay-button-type",
          "accent-color",
          "align-content",
          "align-items",
          "align-self",
          "alignment-baseline",
          "anchor-name",
          "anchor-scope",
          "animation",
          "animation-composition",
          "animation-delay",
          "animation-direction",
          "animation-duration",
          "animation-fill-mode",
          "animation-iteration-count",
          "animation-name",
          "animation-play-state",
          "animation-range-end",
          "animation-range-start",
          "animation-timeline",
          "animation-timing-function",
          "appearance",
          "aspect-ratio",
          "backdrop-filter",
          "backface-visibility",
          "background",
          "background-attachment",
          "background-blend-mode",
          "background-clip",
          "background-color",
          "background-image",
          "background-origin",
          "background-position",
          "background-position-x",
          "background-position-y",
          "background-repeat",
          "background-size",
          "baseline-shift",
          "block",
          "block-size",
          "border",
          "border-block-end-color",
          "border-block-end-style",
          "border-block-end-width",
          "border-block-start-color",
          "border-block-start-style",
          "border-block-start-width",
          "border-bottom",
          "border-bottom-color",
          "border-bottom-left-radius",
          "border-bottom-right-radius",
          "border-bottom-style",
          "border-bottom-width",
          "border-box",
          "border-collapse",
          "border-color",
          "border-end-end-radius",
          "border-end-start-radius",
          "border-image-outset",
          "border-image-repeat",
          "border-image-slice",
          "border-image-source",
          "border-image-width",
          "border-inline-end-color",
          "border-inline-end-style",
          "border-inline-end-width",
          "border-inline-start-color",
          "border-inline-start-style",
          "border-inline-start-width",
          "border-left",
          "border-left-color",
          "border-left-style",
          "border-left-width",
          "border-radius",
          "border-right",
          "border-right-color",
          "border-right-style",
          "border-right-width",
          "border-spacing",
          "border-start-end-radius",
          "border-start-start-radius",
          "border-style",
          "border-top",
          "border-top-color",
          "border-top-left-radius",
          "border-top-right-radius",
          "border-top-style",
          "border-top-width",
          "border-width",
          "bottom",
          "box-align",
          "box-shadow",
          "box-sizing",
          "break-after",
          "break-before",
          "break-inside",
          "buffered-rendering",
          "caption-side",
          "caret-color",
          "clear",
          "clip",
          "clip-path",
          "clip-rule",
          "color",
          "color-interpolation",
          "color-interpolation-filters",
          "color-scheme",
          "column-count",
          "column-fill",
          "column-gap",
          "column-rule-color",
          "column-rule-style",
          "column-rule-width",
          "column-span",
          "column-width",
          "contain",
          "contain-intrinsic-block-size",
          "contain-intrinsic-height",
          "contain-intrinsic-inline-size",
          "contain-intrinsic-width",
          "container-name",
          "container-type",
          "content",
          "content-visibility",
          "counter-increment",
          "counter-reset",
          "counter-set",
          "cursor",
          "cx",
          "cy",
          "direction",
          "display",
          "dominant-baseline",
          "dynamic-range-limit",
          "empty-cells",
          "fill",
          "fill-opacity",
          "fill-rule",
          "filter",
          "flex",
          "flex-basis",
          "flex-direction",
          "flex-grow",
          "flex-shrink",
          "flex-wrap",
          "float",
          "flood-color",
          "flood-opacity",
          "font-family",
          "font-feature-settings",
          "font-kerning",
          "font-optical-sizing",
          "font-palette",
          "font-size",
          "font-size-adjust",
          "font-style",
          "font-synthesis-small-caps",
          "font-synthesis-style",
          "font-synthesis-weight",
          "font-variant-alternates",
          "font-variant-caps",
          "font-variant-east-asian",
          "font-variant-ligatures",
          "font-variant-numeric",
          "font-variant-position",
          "font-variation-settings",
          "font-weight",
          "font-width",
          "gap",
          "glyph-orientation-horizontal",
          "glyph-orientation-vertical",
          "grid",
          "grid-auto-columns",
          "grid-auto-flow",
          "grid-auto-rows",
          "grid-column",
          "grid-column-end",
          "grid-column-start",
          "grid-gap",
          "grid-row",
          "grid-row-end",
          "grid-row-start",
          "grid-template-areas",
          "grid-template-columns",
          "grid-template-rows",
          "hanging-punctuation",
          "height",
          "hyphenate-character",
          "hyphens",
          "image-orientation",
          "image-rendering",
          "inline",
          "inline-block",
          "inline-size",
          "inset-block-end",
          "inset-block-start",
          "inset-inline-end",
          "inset-inline-start",
          "isolation",
          "justify-content",
          "justify-items",
          "justify-self",
          "left",
          "letter-spacing",
          "lighting-color",
          "line-break",
          "line-height",
          "list-style",
          "list-style-image",
          "list-style-position",
          "list-style-type",
          "margin",
          "margin-block-end",
          "margin-block-start",
          "margin-bottom",
          "margin-inline-end",
          "margin-inline-start",
          "margin-left",
          "margin-right",
          "margin-top",
          "margin-trim",
          "marker-end",
          "marker-mid",
          "marker-start",
          "mask-border-outset",
          "mask-border-repeat",
          "mask-border-slice",
          "mask-border-source",
          "mask-border-width",
          "mask-clip",
          "mask-composite",
          "mask-image",
          "mask-mode",
          "mask-origin",
          "mask-repeat",
          "mask-size",
          "mask-type",
          "math-style",
          "max-block-size",
          "max-height",
          "max-inline-size",
          "max-width",
          "min-block-size",
          "min-height",
          "min-inline-size",
          "min-width",
          "mix-blend-mode",
          "none",
          "object-fit",
          "object-position",
          "offset-anchor",
          "offset-distance",
          "offset-path",
          "offset-position",
          "offset-rotate",
          "opacity",
          "order",
          "orphans",
          "outline-color",
          "outline-offset",
          "outline-style",
          "outline-width",
          "overflow",
          "overflow-block",
          "overflow-inline",
          "overflow-wrap",
          "overflow-x",
          "overflow-y",
          "overscroll-behavior-block",
          "overscroll-behavior-inline",
          "overscroll-behavior-x",
          "overscroll-behavior-y",
          "padding",
          "padding-block-end",
          "padding-block-start",
          "padding-bottom",
          "padding-inline-end",
          "padding-inline-start",
          "padding-left",
          "padding-right",
          "padding-top",
          "paint-order",
          "perspective",
          "perspective-origin",
          "pointer-events",
          "position",
          "position-anchor",
          "position-area",
          "position-try-fallbacks",
          "position-try-order",
          "print-color-adjust",
          "quotes",
          "r",
          "resize",
          "right",
          "rotate",
          "row-gap",
          "ruby-align",
          "ruby-overhang",
          "ruby-position",
          "rx",
          "ry",
          "scale",
          "scroll-behavior",
          "scroll-margin-block-end",
          "scroll-margin-block-start",
          "scroll-margin-bottom",
          "scroll-margin-inline-end",
          "scroll-margin-inline-start",
          "scroll-margin-left",
          "scroll-margin-right",
          "scroll-margin-top",
          "scroll-padding-block-end",
          "scroll-padding-block-start",
          "scroll-padding-bottom",
          "scroll-padding-inline-end",
          "scroll-padding-inline-start",
          "scroll-padding-left",
          "scroll-padding-right",
          "scroll-padding-top",
          "scroll-snap-align",
          "scroll-snap-stop",
          "scroll-snap-type",
          "scroll-timeline-axis",
          "scroll-timeline-name",
          "scrollbar-gutter",
          "scrollbar-width",
          "shape-image-threshold",
          "shape-margin",
          "shape-outside",
          "shape-rendering",
          "speak-as",
          "stop-color",
          "stop-opacity",
          "stroke",
          "stroke-color",
          "stroke-dasharray",
          "stroke-dashoffset",
          "stroke-linecap",
          "stroke-linejoin",
          "stroke-miterlimit",
          "stroke-opacity",
          "stroke-width",
          "tab-size",
          "table-layout",
          "text-align",
          "text-align-last",
          "text-anchor",
          "text-autospace",
          "text-box-edge",
          "text-box-trim",
          "text-combine-upright",
          "text-decoration",
          "text-decoration-color",
          "text-decoration-line",
          "text-decoration-skip-ink",
          "text-decoration-style",
          "text-decoration-thickness",
          "text-emphasis-color",
          "text-emphasis-position",
          "text-emphasis-style",
          "text-indent",
          "text-orientation",
          "text-overflow",
          "text-rendering",
          "text-shadow",
          "text-transform",
          "text-underline-offset",
          "text-underline-position",
          "text-wrap-mode",
          "text-wrap-style",
          "timeline-scope",
          "top",
          "touch-action",
          "transform",
          "transform-box",
          "transform-origin",
          "transform-style",
          "transition",
          "transition-behavior",
          "transition-delay",
          "transition-duration",
          "transition-property",
          "transition-timing-function",
          "translate",
          "unicode-bidi",
          "user-select",
          "vector-effect",
          "vertical-align",
          "view-timeline-axis",
          "view-timeline-inset",
          "view-timeline-name",
          "view-transition-class",
          "view-transition-name",
          "visibility",
          "white-space",
          "white-space-collapse",
          "widows",
          "width",
          "will-change",
          "word-break",
          "word-spacing",
          "writing-mode",
          "x",
          "y",
          "z-index",
          "zoom"
        ];
        const cssKeywords = [
            // Global
            "inherit", "initial", "unset", "revert",
            
            // Display / Box
            "block", "inline", "grid", "list-item", "run-in", "table",
            "static", "absolute", "fixed", "sticky",
            "visible", "hidden", "collapse",
            "left", "right", "both", "inline-start", "inline-end",
            "content-box",
            "scroll", "clip",
            
            // Flex / Grid
            "row", "row-reverse", "column", "column-reverse",
            "nowrap", "wrap", "wrap-reverse",
            "flex-start", "flex-end", "center", "space-between", "space-around", "space-evenly",
            "stretch", "baseline", "self-start", "self-end",
            
            // Text / Font
            "underline", "overline", "line-through", "blink",
            "uppercase", "lowercase", "capitalize", "full-width",
            "left", "right", "center", "justify", "start", "end", "match-parent",
            "normal", "pre", "pre-wrap", "pre-line", "break-spaces", "nowrap",
            
            // Font styles
            "italic", "oblique", "normal",
            "bold", "bolder", "lighter", "100", "200", "300", "400", "500", "600", "700", "800", "900",
            
            // List style
            "disc", "circle", "square", "decimal", "decimal-leading-zero", "lower-roman",
            "upper-roman", "lower-greek", "lower-latin", "upper-latin", "armenian", "georgian",
            "lower-alpha", "upper-alpha", "none",
            
            // Cursor
            "auto", "default", "pointer", "text", "wait", "crosshair", "move", "help",
            "not-allowed", "grab", "grabbing", "progress", "alias", "copy",
            
            // Border / Outline
            "solid", "dashed", "dotted", "double", "groove", "ridge", "inset", "outset",
            
            // Functions (used as values)
            "rgb()", "rgba()", "hsl()", "hsla()", "url()", "var()", "calc()", "min()", "max()", "clamp()",
            "rgb(0,0,0)", "rgb(255,255,255)", "rgba(0,0,0,1)", "rgba(255,255,255,1)",
            "hsl(0,0%,0%)", "hsl(0,0%,100%)", "hsla(0,0%,0%,1)", "hsla(0,0%,100%,1)",
            "url('black.png')", "url('white.png')", "var(--black)", "var(--white)",
            "calc(0px)", "calc(100px)", "min(0,1)", "max(0,1)", "clamp(0,0,0)", "clamp(0,100,100)",
            
            // Others
            "all", "visiblePainted", "visibleFill", "visibleStroke",
            "painted", "bounding-box",
            "@import", "@media", "@font-face", "@keyframes", "@supports", "@page",
            "@charset", "@namespace", "@document", "@viewport", "@counter-style",
            
            ":hover", ":focus", ":active", ":visited", ":link", ":checked", ":disabled",
            ":first-child", ":last-child", ":nth-child()", ":not()", ":root", ":before", ":after",
            
            "::before", "::after", "::first-letter", "::first-line", "::selection",
            "::placeholder", "accent-color",
            "@keyframes ", "@media", "@font-face", "@supports", "@import", "@namespace", "@container"
        ];
        
        const jsKeywords = [
            "await", "break", "case", "catch", "class", "const", "continue", "debugger", "default",
            "delete", "do", "else", "enum", "export", "extends", "false", "finally", "for", "function",
            "if", "import", "in", "instanceof", "new", "null", "return", "super", "switch", "this",
            "throw", "true", "try", "typeof", "var", "void", "while", "with", "yield", "let", "static",
            "implements", "interface", "package", "private", "protected", "public", "async"
        ];
        
        const supportedConsoleMethods = [
            "count", "countReset", "time", "timeLog", "timeEnd", "group", "groupEnd", "log", "debug", "warn"
        ];
        
        const jsGlobals = [
            "undefined", "NaN", "Infinity", "eval", "isFinite", "isNaN", "parseFloat", "parseInt",
            "decodeURI", "decodeURIComponent", "encodeURI", "encodeURIComponent",
            "Object", "Function", "Boolean", "Symbol", "Error", "EvalError", "InternalError", "RangeError",
            "ReferenceError", "SyntaxError", "TypeError", "URIError", "Number", "BigInt", "Math", "Date",
            "String", "RegExp", "Array", "Int8Array", "Uint8Array", "Uint8ClampedArray", "Int16Array",
            "Uint16Array", "Int32Array", "Uint32Array", "Float32Array", "Float64Array", "BigInt64Array",
            "BigUint64Array", "Map", "Set", "WeakMap", "WeakSet", "ArrayBuffer", "SharedArrayBuffer",
            "Atomics", "DataView", "JSON", "Promise", "Generator", "GeneratorFunction", "AsyncFunction",
            "Reflect", "Proxy", "Intl", "WebAssembly",
            
            "console", "arguments"
        ];
        const domAPIs = [
            "window", "document",
            "getElementById", "getElementsByClassName", "getElementsByTagName", "querySelector", "querySelectorAll",
            "createElement", "createTextNode", "cloneNode",
            "appendChild", "removeChild", "replaceChild", "insertBefore",
            "setAttribute", "getAttribute", "removeAttribute", "hasAttribute",
            "addEventListener", "removeEventListener", "dispatchEvent",
            "getBoundingClientRect", "scrollTo", "scrollIntoView",
            "focus", "blur", "designMode",
            "setTimeout", "setInterval", "clearTimeout", "clearInterval"
        ];
        const cssProperties = [
            "accentColor", "alignContent", "alignItems", "alignSelf", "animationDelay",
            "animationDirection", "animationDuration", "animationFillMode", "animationIterationCount",
            "animationName", "animationPlayState", "animationTimingFunction", "backfaceVisibility",
            "backgroundAttachment", "backgroundBlendMode", "backgroundClip", "backgroundColor",
            "backgroundImage", "backgroundOrigin", "backgroundPosition", "backgroundPositionX", "backgroundPositionY",
            "backgroundRepeat", "backgroundSize", "border", "borderBottom", "borderBottomColor",
            "borderBottomLeftRadius", "borderBottomRightRadius", "borderBottomStyle", "borderBottomWidth",
            "borderCollapse", "borderColor", "borderImage", "borderImageOutset", "borderImageRepeat",
            "borderImageSlice", "borderImageSource", "borderImageWidth", "borderLeft", "borderLeftColor",
            "borderLeftStyle", "borderLeftWidth", "borderRadius", "borderRight", "borderRightColor",
            "borderRightStyle", "borderRightWidth", "borderSpacing", "borderStyle", "borderTop",
            "borderTopColor", "borderTopLeftRadius", "borderTopRightRadius", "borderTopStyle",
            "borderTopWidth", "borderWidth", "bottom", "boxDecorationBreak", "boxShadow", "boxSizing",
            "captionSide", "clear", "clip", "color", "columnCount", "columnFill", "columnGap", "columnRule",
            "columnRuleColor", "columnRuleStyle", "columnRuleWidth", "columns", "columnSpan", "columnWidth",
            "content", "counterIncrement", "counterReset", "direction", "display", "emptyCells", "flexBasis", "flexDirection", "flexFlow", "flexGrow", "flexShrink", "flexWrap",
            "float", "font", "fontFamily", "fontFeatureSettings", "fontKerning", "fontSize", "fontSizeAdjust",
            "fontStretch", "fontStyle", "fontVariant", "fontVariantCaps", "fontVariantEastAsian",
            "fontVariantLigatures", "fontVariantNumeric", "fontWeight", "gap", "grid", "gridArea",
            "gridAutoColumns", "gridAutoFlow", "gridAutoRows", "gridColumn", "gridColumnEnd", "gridColumnGap",
            "gridColumnStart", "gridGap", "gridRow", "gridRowEnd", "gridRowGap", "gridRowStart", "gridTemplate",
            "gridTemplateAreas", "gridTemplateColumns", "gridTemplateRows", "hangingPunctuation", "height",
            "hyphens", "imageRendering", "isolation", "justifyContent", "left", "letterSpacing", "lineHeight",
            "listStyle", "listStyleImage", "listStylePosition", "listStyleType", "margin", "marginBottom",
            "marginLeft", "marginRight", "marginTop", "maxHeight", "maxWidth", "minHeight", "minWidth",
            "objectFit", "objectPosition", "opacity", "order", "outline", "outlineColor", "outlineOffset",
            "outlineStyle", "outlineWidth", "overflow", "overflowWrap", "overflowX", "overflowY",
            "paddingBottom", "paddingLeft", "paddingRight", "paddingTop", "pageBreakAfter", "pageBreakBefore",
            "pageBreakInside", "perspectiveOrigin", "pointerEvents", "position", "quotes",
            "resize", "right", "scrollBehavior", "tableLayout", "textAlign", "textAlignLast", "textDecoration",
            "textDecorationColor", "textDecorationLine", "textDecorationStyle", "textIndent", "textJustify",
            "textOverflow", "textShadow", "textTransform", "top", "transform", "transformOrigin",
            "transformStyle", "transition", "transitionDelay", "transitionDuration", "transitionProperty",
            "transitionTimingFunction", "unicodeBidi", "userSelect", "verticalAlign", "visibility",
            "whiteSpace", "width", "wordBreak", "wordSpacing", "wordWrap", "writingMode", "zIndex"
        ];
        const webkitProperties = [
            "-webkit-align-content",
            "-webkit-align-items",
            "-webkit-align-self",
            "-webkit-animation",
            "-webkit-animation-delay",
            "-webkit-animation-direction",
            "-webkit-animation-duration",
            "-webkit-animation-fill-mode",
            "-webkit-animation-iteration-count",
            "-webkit-animation-name",
            "-webkit-animation-play-state",
            "-webkit-animation-timing-function",
            "-webkit-appearance",
            "-webkit-backdrop-filter",
            "-webkit-background-clip",
            "-webkit-background-composite",
            "-webkit-background-origin",
            "-webkit-background-size",
            "-webkit-border-before",
            "-webkit-border-before-color",
            "-webkit-border-before-style",
            "-webkit-border-before-width",
            "-webkit-border-image",
            "-webkit-border-radius",
            "-webkit-border-top-left-radius",
            "-webkit-border-top-right-radius",
            "-webkit-border-bottom-left-radius",
            "-webkit-border-bottom-right-radius",
            "-webkit-box-align",
            "-webkit-box-decoration-break",
            "-webkit-box-direction",
            "-webkit-box-flex",
            "-webkit-box-flex-group",
            "-webkit-box-lines",
            "-webkit-box-ordinal-group",
            "-webkit-box-orient",
            "-webkit-box-pack",
            "-webkit-box-reflect",
            "-webkit-box-shadow",
            "-webkit-clip-path",
            "-webkit-color-correction",
            "-webkit-column-count",
            "-webkit-column-gap",
            "-webkit-column-rule",
            "-webkit-column-rule-color",
            "-webkit-column-rule-style",
            "-webkit-column-rule-width",
            "-webkit-column-span",
            "-webkit-column-width",
            "-webkit-columns",
            "-webkit-filter",
            "-webkit-flex",
            "-webkit-flex-basis",
            "-webkit-flex-direction",
            "-webkit-flex-flow",
            "-webkit-flex-grow",
            "-webkit-flex-shrink",
            "-webkit-flex-wrap",
            "-webkit-font-feature-settings",
            "-webkit-font-kerning",
            "-webkit-font-smoothing",
            "-webkit-font-variant-ligatures",
            "-webkit-hyphens",
            "-webkit-justify-content",
            "-webkit-line-break",
            "-webkit-line-clamp",
            "-webkit-margin-before",
            "-webkit-margin-after",
            "-webkit-margin-start",
            "-webkit-margin-end",
            "-webkit-mask",
            "-webkit-mask-box-image",
            "-webkit-mask-box-image-outset",
            "-webkit-mask-box-image-repeat",
            "-webkit-mask-box-image-slice",
            "-webkit-mask-box-image-source",
            "-webkit-mask-box-image-width",
            "-webkit-mask-clip",
            "-webkit-mask-composite",
            "-webkit-mask-image",
            "-webkit-mask-origin",
            "-webkit-mask-position",
            "-webkit-mask-repeat",
            "-webkit-mask-size",
            "-webkit-max-logical-height",
            "-webkit-max-logical-width",
            "-webkit-min-logical-height",
            "-webkit-min-logical-width",
            "-webkit-opacity",
            "-webkit-order",
            "-webkit-overflow-scrolling",
            "-webkit-padding-before",
            "-webkit-padding-after",
            "-webkit-padding-start",
            "-webkit-padding-end",
            "-webkit-perspective",
            "-webkit-perspective-origin",
            "-webkit-print-color-adjust",
            "-webkit-rtl-ordering",
            "-webkit-ruby-position",
            "-webkit-shape-image-threshold",
            "-webkit-shape-margin",
            "-webkit-shape-outside",
            "-webkit-tap-highlight-color",
            "-webkit-text-combine",
            "-webkit-text-decoration",
            "-webkit-text-decoration-color",
            "-webkit-text-decoration-line",
            "-webkit-text-decoration-style",
            "-webkit-text-emphasis",
            "-webkit-text-emphasis-color",
            "-webkit-text-emphasis-position",
            "-webkit-text-emphasis-style",
            "-webkit-text-fill-color",
            "-webkit-text-orientation",
            "-webkit-text-security",
            "-webkit-text-size-adjust",
            "-webkit-text-stroke",
            "-webkit-text-stroke-color",
            "-webkit-text-stroke-width",
            "-webkit-transform",
            "-webkit-transform-origin",
            "-webkit-transform-style",
            "-webkit-transition",
            "-webkit-transition-delay",
            "-webkit-transition-duration",
            "-webkit-transition-property",
            "-webkit-transition-timing-function",
            "-webkit-user-drag",
            "-webkit-user-modify",
            "-webkit-user-select",
            "-webkit-writing-mode"
        ];
        const mozProperties = [
            "-moz-appearance",
            "-moz-backface-visibility",
            "-moz-background-clip",
            "-moz-background-inline-policy",
            "-moz-background-origin",
            "-moz-background-size",
            "-moz-binding",
            "-moz-border-bottom-colors",
            "-moz-border-end-color",
            "-moz-border-end-style",
            "-moz-border-end-width",
            "-moz-border-left-colors",
            "-moz-border-right-colors",
            "-moz-border-start-color",
            "-moz-border-start-style",
            "-moz-border-start-width",
            "-moz-border-top-colors",
            "-moz-box-align",
            "-moz-box-direction",
            "-moz-box-flex",
            "-moz-box-ordinal-group",
            "-moz-box-orient",
            "-moz-box-pack",
            "-moz-box-shadow",
            "-moz-column-count",
            "-moz-column-fill",
            "-moz-column-gap",
            "-moz-column-rule",
            "-moz-column-rule-color",
            "-moz-column-rule-style",
            "-moz-column-rule-width",
            "-moz-column-width",
            "-moz-columns",
            "-moz-context-properties",
            "-moz-float-edge",
            "-moz-font-feature-settings",
            "-moz-font-language-override",
            "-moz-force-broken-image-icon",
            "-moz-hyphens",
            "-moz-image-region",
            "-moz-margin-end",
            "-moz-margin-start",
            "-moz-orient",
            "-moz-outline-radius",
            "-moz-outline-radius-bottomleft",
            "-moz-outline-radius-bottomright",
            "-moz-outline-radius-topleft",
            "-moz-outline-radius-topright",
            "-moz-padding-end",
            "-moz-padding-start",
            "-moz-perspective",
            "-moz-perspective-origin",
            "-moz-stack-sizing",
            "-moz-tab-size",
            "-moz-text-blink",
            "-moz-text-decoration-color",
            "-moz-text-decoration-line",
            "-moz-text-decoration-style",
            "-moz-transform",
            "-moz-transform-origin",
            "-moz-transform-style",
            "-moz-transition",
            "-moz-transition-delay",
            "-moz-transition-duration",
            "-moz-transition-property",
            "-moz-transition-timing-function",
            "-moz-user-focus",
            "-moz-user-input",
            "-moz-user-modify",
            "-moz-user-select",
            "-moz-window-shadow"
        ];
        const msProperties = [
            "-ms-accelerator",
            "-ms-align-self",
            "-ms-block-progression",
            "-ms-content-zoom-limit",
            "-ms-content-zoom-limit-max",
            "-ms-content-zoom-limit-min",
            "-ms-content-zoom-snap",
            "-ms-content-zoom-snap-points",
            "-ms-content-zoom-snap-type",
            "-ms-flow-from",
            "-ms-flow-into",
            "-ms-grid-column",
            "-ms-grid-column-align",
            "-ms-grid-column-span",
            "-ms-grid-columns",
            "-ms-grid-row",
            "-ms-grid-row-align",
            "-ms-grid-row-span",
            "-ms-grid-rows",
            "-ms-high-contrast-adjust",
            "-ms-hyphenate-limit-chars",
            "-ms-hyphenate-limit-lines",
            "-ms-hyphenate-limit-zone",
            "-ms-hyphens",
            "-ms-ime-align",
            "-ms-interpolation-mode",
            "-ms-overflow-style",
            "-ms-scroll-chaining",
            "-ms-scroll-limit",
            "-ms-scroll-limit-x-max",
            "-ms-scroll-limit-x-min",
            "-ms-scroll-limit-y-max",
            "-ms-scroll-limit-y-min",
            "-ms-scroll-rails",
            "-ms-scroll-snap-points-x",
            "-ms-scroll-snap-points-y",
            "-ms-scroll-snap-type",
            "-ms-scroll-snap-x",
            "-ms-scroll-snap-y",
            "-ms-scroll-translation",
            "-ms-text-combine-horizontal",
            "-ms-text-overflow",
            "-ms-touch-action",
            "-ms-touch-select",
            "-ms-transform",
            "-ms-transform-origin",
            "-ms-transition",
            "-ms-transition-delay",
            "-ms-transition-duration",
            "-ms-transition-property",
            "-ms-transition-timing-function",
            "-ms-user-select"
        ];
        const csscolors = [
            "transparent",
            "AliceBlue",
            "AntiqueWhite",
            "Aqua",
            "Aquamarine",
            "Azure",
            "Beige",
            "Bisque",
            "Black",
            "BlanchedAlmond",
            "Blue",
            "BlueViolet",
            "Brown",
            "BurlyWood",
            "CadetBlue",
            "Chartreuse",
            "Chocolate",
            "Coral",
            "CornflowerBlue",
            "Cornsilk",
            "Crimson",
            "Cyan",
            "DarkBlue",
            "DarkCyan",
            "DarkGoldenRod",
            "DarkGray",
            "DarkGreen",
            "DarkGrey",
            "DarkKhaki",
            "DarkMagenta",
            "DarkOliveGreen",
            "DarkOrange",
            "DarkOrchid",
            "DarkRed",
            "DarkSalmon",
            "DarkSeaGreen",
            "DarkSlateBlue",
            "DarkSlateGray",
            "DarkSlateGrey",
            "DarkTurquoise",
            "DarkViolet",
            "DeepPink",
            "DeepSkyBlue",
            "DimGray",
            "DimGrey",
            "DodgerBlue",
            "FireBrick",
            "FloralWhite",
            "ForestGreen",
            "Fuchsia",
            "Gainsboro",
            "GhostWhite",
            "Gold",
            "GoldenRod",
            "Gray",
            "Green",
            "GreenYellow",
            "Grey",
            "HoneyDew",
            "HotPink",
            "IndianRed",
            "Indigo",
            "Ivory",
            "Khaki",
            "Lavender",
            "LavenderBlush",
            "LawnGreen",
            "LemonChiffon",
            "LightBlue",
            "LightCoral",
            "LightCyan",
            "LightGoldenRodYellow",
            "LightGray",
            "LightGreen",
            "LightGrey",
            "LightPink",
            "LightSalmon",
            "LightSeaGreen",
            "LightSkyBlue",
            "LightSlateGray",
            "LightSlateGrey",
            "LightSteelBlue",
            "LightYellow",
            "Lime",
            "LimeGreen",
            "Linen",
            "Magenta",
            "Maroon",
            "MediumAquaMarine",
            "MediumBlue",
            "MediumOrchid",
            "MediumPurple",
            "MediumSeaGreen",
            "MediumSlateBlue",
            "MediumSpringGreen",
            "MediumTurquoise",
            "MediumVioletRed",
            "MidnightBlue",
            "MintCream",
            "MistyRose",
            "Moccasin",
            "NavajoWhite",
            "Navy",
            "OldLace",
            "Olive",
            "OliveDrab",
            "Orange",
            "OrangeRed",
            "Orchid",
            "PaleGoldenRod",
            "PaleGreen",
            "PaleTurquoise",
            "PaleVioletRed",
            "PapayaWhip",
            "PeachPuff",
            "Peru",
            "Pink",
            "Plum",
            "PowderBlue",
            "Purple",
            "RebeccaPurple",
            "Red",
            "RosyBrown",
            "RoyalBlue",
            "SaddleBrown",
            "Salmon",
            "SandyBrown",
            "SeaGreen",
            "SeaShell",
            "Sienna",
            "Silver",
            "SkyBlue",
            "SlateBlue",
            "SlateGray",
            "SlateGrey",
            "Snow",
            "SpringGreen",
            "SteelBlue",
            "Tan",
            "Teal",
            "Thistle",
            "Tomato",
            "Turquoise",
            "Violet",
            "Wheat",
            "White",
            "WhiteSmoke",
            "Yellow",
            "YellowGreen"
        ];
        const vendorCSSProperties = [
            "WebkitAlignContent",
            "WebkitAlignItems",
            "WebkitAlignSelf",
            "WebkitAnimation",
            "WebkitAnimationDelay",
            "WebkitAnimationDirection",
            "WebkitAnimationDuration",
            "WebkitAnimationFillMode",
            "WebkitAnimationIterationCount",
            "WebkitAnimationName",
            "WebkitAnimationPlayState",
            "WebkitAnimationTimingFunction",
            "WebkitAppearance",
            "WebkitBackfaceVisibility",
            "WebkitBackgroundClip",
            "WebkitBackgroundOrigin",
            "WebkitBackgroundSize",
            "WebkitBorderBefore",
            "WebkitBorderBeforeColor",
            "WebkitBorderBeforeStyle",
            "WebkitBorderBeforeWidth",
            "WebkitBorderImage",
            "WebkitBorderRadius",
            "WebkitBorderTopLeftRadius",
            "WebkitBorderTopRightRadius",
            "WebkitBorderBottomLeftRadius",
            "WebkitBorderBottomRightRadius",
            "WebkitBoxAlign",
            "WebkitBoxDecorationBreak",
            "WebkitBoxDirection",
            "WebkitBoxFlex",
            "WebkitBoxFlexGroup",
            "WebkitBoxLines",
            "WebkitBoxOrdinalGroup",
            "WebkitBoxOrient",
            "WebkitBoxPack",
            "WebkitBoxReflect",
            "WebkitBoxShadow",
            "WebkitClipPath",
            "WebkitColumnCount",
            "WebkitColumnGap",
            "WebkitColumnRule",
            "WebkitColumnRuleColor",
            "WebkitColumnRuleStyle",
            "WebkitColumnRuleWidth",
            "WebkitColumnSpan",
            "WebkitColumnWidth",
            "WebkitColumns",
            "WebkitFilter",
            "WebkitFlex",
            "WebkitFlexBasis",
            "WebkitFlexDirection",
            "WebkitFlexFlow",
            "WebkitFlexGrow",
            "WebkitFlexShrink",
            "WebkitFlexWrap",
            "WebkitFontFeatureSettings",
            "WebkitFontKerning",
            "WebkitFontSmoothing",
            "WebkitFontVariantLigatures",
            "WebkitHyphens",
            "WebkitJustifyContent",
            "WebkitLineClamp",
            "WebkitMask",
            "WebkitMaskBoxImage",
            "WebkitMaskBoxImageOutset",
            "WebkitMaskBoxImageRepeat",
            "WebkitMaskBoxImageSlice",
            "WebkitMaskBoxImageSource",
            "WebkitMaskBoxImageWidth",
            "WebkitMaskClip",
            "WebkitMaskComposite",
            "WebkitMaskImage",
            "WebkitMaskOrigin",
            "WebkitMaskPosition",
            "WebkitMaskRepeat",
            "WebkitMaskSize",
            "WebkitPerspective",
            "WebkitPerspectiveOrigin",
            "WebkitPrintColorAdjust",
            "WebkitTextFillColor",
            "WebkitTextStroke",
            "WebkitTextStrokeColor",
            "WebkitTextStrokeWidth",
            "WebkitTransform",
            "WebkitTransformOrigin",
            "WebkitTransformStyle",
            "WebkitTransition",
            "WebkitTransitionDelay",
            "WebkitTransitionDuration",
            "WebkitTransitionProperty",
            "WebkitTransitionTimingFunction",
            "WebkitUserDrag",
            "WebkitUserModify",
            "WebkitUserSelect",
            "WebkitWritingMode",
            
            "msAccelerator",
            "msAlignSelf",
            "msBlockProgression",
            "msContentZoomLimit",
            "msContentZoomLimitMax",
            "msContentZoomLimitMin",
            "msContentZoomSnap",
            "msContentZoomSnapPoints",
            "msContentZoomSnapType",
            "msFlowFrom",
            "msFlowInto",
            "msGridColumn",
            "msGridColumnAlign",
            "msGridColumnSpan",
            "msGridColumns",
            "msGridRow",
            "msGridRowAlign",
            "msGridRowSpan",
            "msGridRows",
            "msHighContrastAdjust",
            "msHyphenateLimitChars",
            "msHyphenateLimitLines",
            "msHyphenateLimitZone",
            "msHyphens",
            "msImeAlign",
            "msInterpolationMode",
            "msOverflowStyle",
            "msScrollChaining",
            "msScrollLimit",
            "msScrollLimitXMax",
            "msScrollLimitXMin",
            "msScrollLimitYMax",
            "msScrollLimitYMin",
            "msScrollRails",
            "msScrollSnapPointsX",
            "msScrollSnapPointsY",
            "msScrollSnapType",
            "msScrollSnapX",
            "msScrollSnapY",
            "msScrollTranslation",
            "msTextCombineHorizontal",
            "msTextOverflow",
            "msTouchAction",
            "msTouchSelect",
            "msTransform",
            "msTransformOrigin",
            "msTransition",
            "msTransitionDelay",
            "msTransitionDuration",
            "msTransitionProperty",
            "msTransitionTimingFunction",
            "msUserSelect",
            
            "MozAppearance",
            "MozBackfaceVisibility",
            "MozBackgroundClip",
            "MozBackgroundInlinePolicy",
            "MozBackgroundOrigin",
            "MozBackgroundSize",
            "MozBinding",
            "MozBorderBottomColors",
            "MozBorderEndColor",
            "MozBorderEndStyle",
            "MozBorderEndWidth",
            "MozBorderLeftColors",
            "MozBorderRightColors",
            "MozBorderStartColor",
            "MozBorderStartStyle",
            "MozBorderStartWidth",
            "MozBorderTopColors",
            "MozBoxAlign",
            "MozBoxDirection",
            "MozBoxFlex",
            "MozBoxOrdinalGroup",
            "MozBoxOrient",
            "MozBoxPack",
            "MozBoxShadow",
            "MozColumnCount",
            "MozColumnFill",
            "MozColumnGap",
            "MozColumnRule",
            "MozColumnRuleColor",
            "MozColumnRuleStyle",
            "MozColumnRuleWidth",
            "MozColumnWidth",
            "MozColumns",
            "MozContextProperties",
            "MozFloatEdge",
            "MozFontFeatureSettings",
            "MozFontLanguageOverride",
            "MozForceBrokenImageIcon",
            "MozHyphens",
            "MozImageRegion",
            "MozMarginEnd",
            "MozMarginStart",
            "MozOrient",
            "MozOutlineRadius",
            "MozOutlineRadiusBottomLeft",
            "MozOutlineRadiusBottomRight",
            "MozOutlineRadiusTopLeft",
            "MozOutlineRadiusTopRight",
            "MozPaddingEnd",
            "MozPaddingStart",
            "MozPerspective",
            "MozPerspectiveOrigin",
            "MozStackSizing",
            "MozTabSize",
            "MozTextBlink",
            "MozTextDecorationColor",
            "MozTextDecorationLine",
            "MozTextDecorationStyle",
            "MozTransform",
            "MozTransformOrigin",
            "MozTransformStyle",
            "MozTransition",
            "MozTransitionDelay",
            "MozTransitionDuration",
            "MozTransitionProperty",
            "MozTransitionTimingFunction",
            "MozUserFocus",
            "MozUserInput",
            "MozUserModify",
            "MozUserSelect",
            "MozWindowShadow",
            
            "OAnimation", "OAnimationDelay", "OAnimationDirection", "OAnimationDuration", "OAnimationFillMode",
            "OAnimationIterationCount", "OAnimationName", "OAnimationPlayState", "OAnimationTimingFunction",
            "OTransition", "OTransitionDelay", "OTransitionDuration", "OTransitionProperty", "OTransitionTimingFunction"
        ];
        const jsSyntax = [
            ...jsKeywords,
            ...supportedConsoleMethods,
            ...jsGlobals,
            ...domAPIs,
            ...cssProperties,
            ...vendorCSSProperties
        ];
        
        const htmlTags = [
            "<div>", "<span>", "<input>", "<button>", "<form>", "<select>", "<option>", "<table>", "<thead>",
            "<tbody>", "<tr>", "<td>", "<ul>", "<ol>", "<li>", "<a>", "<p>", "<h1>", "<h2>", "<h3>", "<h4>",
            "<h5>", "<h6>", "<article>", "<section>", "<header>", "<footer>", "<nav>", "<aside>", "<main>", "<mark>",
            "<small>", "<strong>", "<em>", "<i>", "<b>", "<u>", "<code>", "<pre>", "<blockquote>", "<cite>", "<time>",
            "<abbr>", "<address>", "<del>", "<ins>", "<sub>", "<sup>", "<figure>", "<figcaption>", "<details>", "<summary>",
            "<progress>", "<meter>", "<canvas>", "<svg>", "<path>", "<g>", "<circle>", "<rect>", "<line>", "<polygon>",
            "<polyline>", "<text>", "<style>", "<link>", "<meta>", "<title>", "<base>", "<script>", "<noscript>", "<iframe>",
            "<audio>", "<video>", "<source>", "<track>", "<object>", "<param>", "<embed>", "<picture>", "<map>", "<area>",
            "<use>",
            "a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "blockquote", "body",
            "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del",
            "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer",
            "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hr", "html", "i", "iframe", "img", "input",
            "ins", "kbd", "label", "legend", "li", "link", "main", "map", "mark", "meta", "meter", "nav", "noscript",
            "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp",
            "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style",
            "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time",
            "title", "tr", "track", "u", "ul", "var", "video", "wbr"
        ];
        function setupAutocomplete(inputElement) {
            if (!section || !section.classList.contains('autocompleteenabled') || !inputElement || !inputElement.parentElement || inputElement.textContent == ""){
                return;
            }
            const cursorPosition = getCursorPosition(inputElement);
            const ctext = inputElement.textContent;
            if (ctext.trim() != "") {
                inputElement.innerHTML = "";
                inputElement.textContent = ctext;
                if (cursorPosition !== null) {
                    setCursorPosition(inputElement, cursorPosition);
                }
            }
            let newpast2 = [];
            lasteventsparentsection = section;
            let pastelement2 = {
                element: inputElement,
                type: "text",
                text: inputElement.textContent
            };
            newpast2.push(pastelement2);
            if (newpast2.length > 0) {
                pasteventPrep();
                pastevents[lasteventsparentsection.id].push(newpast2);
                enablepastbtn();
            }
            
            const commandsice = [...Object.keys(commandToSymbol).map(key => key.toUpperCase()), ...Object.keys(shortCutCommands)];

            const uniquevalues = extractUniqueValues(inputElement.parentElement.textContent);

            let allfilenames;
            if (document.querySelector('#image-rectangle .image-name')) {
                allfilenames = [...Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value), ...Array.from(document.querySelectorAll('#image-rectangle .image-name')).map(input => input.textContent)];
            }else {
                allfilenames = Array.from(document.querySelectorAll('.filedot .filePathInput')).map(input => input.value);
            }
            
            const suggestionsList = [...allfilenames, ...uniquevalues, ...cssKeywords, ...jsSyntax, ...htmlTags, ...csscolors, ...webkitProperties, ...allCssProperties, ...mozProperties, ...msProperties];
            
            if (inputElement.textContent.includes('/') && document.querySelector('.commandsswitch')?.checked && document.querySelector('.commandassuggestion input[type="checkbox"]')?.checked) {
                suggestionsList.push(...commandsice);
            }

            function getCursorPositionFour() {
                const range = window.getSelection().getRangeAt(0);
                const tempRange = range.cloneRange();
                tempRange.selectNodeContents(inputElement);
                tempRange.setEnd(range.endContainer, range.endOffset);
                return tempRange.toString().length;
            }

            function getLastWordBeforeCursor() {
                const cursorPos = getCursorPositionFour();
                const textBeforeCursor = inputElement.textContent.slice(0, cursorPos);
                const match = textBeforeCursor.match(/[a-zA-Z0-9äöüßÄÖÜ/:\-@\<]+$/);
                return match ? match[0] : "";
            }


            function filterSuggestions(word) {
                if (!word) return [];
                return suggestionsList.filter(item => item.toLowerCase().startsWith(word.toLowerCase()) && item.toLowerCase() != word.toLowerCase());
            }

            function createSuggestionsContainer() {
                let container = document.querySelector(".options-container");
                if (!container) {
                    container = document.createElement("div");
                    container.className = "options-container";
                    container.classList.add('suggestioncontainer');
                    container.style.maxHeight = "200px";
                    container.style.overflowY = "scroll";
                    document.body.appendChild(container);
                }
                return container;
            }

            function positionSuggestionsContainer(container) {
                const rect = inputElement.getBoundingClientRect();
                const parentRect = inputElement.parentElement.getBoundingClientRect();
                const scrollOffset = inputElement.parentElement.scrollTop;

                container.style.left = `${rect.left}px`;
                container.style.top = `${rect.top + window.innerHeight * 0.03 + scrollOffset}px`;
            }
            function updateSuggestions() {
                const lastWord = getLastWordBeforeCursor();
                const suggestions = filterSuggestions(lastWord);
                const container = createSuggestionsContainer();

                container.innerHTML = "";
                performLongPressAction(inputElement);

                suggestions.forEach(suggestion => {
                    const option = document.createElement("div");
                    option.textContent = suggestion;
                    option.style.cursor = "pointer";
                    option.style.padding = "5px";
                    option.addEventListener("click", () => {
                        if (!inputElement && !inputElement.parentElement) {
                            if (container) {
                                container.remove();
                            }
                            return;
                        }
                        const cursorPos = cursorPosition;
                        const textBeforeCursor = inputElement.textContent.slice(0, cursorPos);
                        const regex = /[a-zA-Z0-9äöüßÄÖÜ/:\-@\<]+$/g;
                        const match = textBeforeCursor.match(regex);
                        let lastword = match ? match[0] : "";
                    
                        const updatedTextBeforeCursor = textBeforeCursor.replace(new RegExp(`${lastword}$`), suggestion);
                        inputElement.textContent = updatedTextBeforeCursor + inputElement.textContent.slice(cursorPos);
                        container.innerHTML = "";
                        container.remove();
                        if (!document.querySelector('.commandsswitch')?.checked || !commandsice.includes(suggestion)) {
                            if (inputElement){
                                addJsSyntaxHighlighting(inputElement);
                                inputElement.focus();
                            }
                        }
                        if (cursorPosition !== null) {
                            setCursorPosition(inputElement, cursorPosition + suggestion.replace(lastword, '').length);
                        }
                        if (inputElement && inputElement.textContent.includes('/') && document.querySelector('.commandsswitch')?.checked) {
                            replaceCommandsWithSymbols(inputElement);
                            preserveCursorAndHighlight(inputElement);
                        }
                    });

                    container.appendChild(option);
                });
                section.onclick = () => {
                    if (document.querySelector('.suggestioncontainer')) {
                        document.querySelector('.suggestioncontainer').remove();
                    }
                };
                if (container.textContent == "") {
                    container.remove();
                    return;
                }else {
                    const inputDiv = inputElement;
                    function updateCaretPosition() {
                        const selection = window.getSelection();
                        if (selection.rangeCount === 0) return;
            
                        const range = selection.getRangeAt(0);
                        const rect = range.getBoundingClientRect();
            
                        if (rect.height === 0) return;
            
                        container.style.left = `${rect.left + window.scrollX}px`;
                        container.style.top = `${rect.bottom + window.scrollY}px`;
                        adjustElementPositionleft(container);
                        adjustElementPosition(container);
                    }
                    updateCaretPosition();
                }
            }
            updateSuggestions();
        }
    </script>
</body>
</html>
